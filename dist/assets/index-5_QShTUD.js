function WC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Y1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dm={exports:{}},cc={},hm={exports:{}},Ne={};var f_;function qC(){if(f_)return Ne;f_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function C(B,X,we){this.props=B,this.context=X,this.refs=N,this.updater=we||T}C.prototype.isReactComponent={},C.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=C.prototype;function G(B,X,we){this.props=B,this.context=X,this.refs=N,this.updater=we||T}var F=G.prototype=new z;F.constructor=G,I(F,C.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,te=Object.prototype.hasOwnProperty,ae={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(B,X,we){var Pe,Re={},Oe=null,ze=null;if(X!=null)for(Pe in X.ref!==void 0&&(ze=X.ref),X.key!==void 0&&(Oe=""+X.key),X)te.call(X,Pe)&&!j.hasOwnProperty(Pe)&&(Re[Pe]=X[Pe]);var $e=arguments.length-2;if($e===1)Re.children=we;else if(1<$e){for(var Ye=Array($e),jt=0;jt<$e;jt++)Ye[jt]=arguments[jt+2];Re.children=Ye}if(B&&B.defaultProps)for(Pe in $e=B.defaultProps,$e)Re[Pe]===void 0&&(Re[Pe]=$e[Pe]);return{$$typeof:t,type:B,key:Oe,ref:ze,props:Re,_owner:ae.current}}function A(B,X){return{$$typeof:t,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function L(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return X[we]})}var U=/\/+/g;function R(B,X){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):X.toString(36)}function st(B,X,we,Pe,Re){var Oe=typeof B;(Oe==="undefined"||Oe==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Oe){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,Re=Re(ze),B=Pe===""?"."+R(ze,0):Pe,Y(Re)?(we="",B!=null&&(we=B.replace(U,"$&/")+"/"),st(Re,X,we,"",function(jt){return jt})):Re!=null&&(D(Re)&&(Re=A(Re,we+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+B)),X.push(Re)),1;if(ze=0,Pe=Pe===""?".":Pe+":",Y(B))for(var $e=0;$e<B.length;$e++){Oe=B[$e];var Ye=Pe+R(Oe,$e);ze+=st(Oe,X,we,Ye,Re)}else if(Ye=b(B),typeof Ye=="function")for(B=Ye.call(B),$e=0;!(Oe=B.next()).done;)Oe=Oe.value,Ye=Pe+R(Oe,$e++),ze+=st(Oe,X,we,Ye,Re);else if(Oe==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ze}function It(B,X,we){if(B==null)return B;var Pe=[],Re=0;return st(B,Pe,"","",function(Oe){return X.call(we,Oe,Re++)}),Pe}function Bt(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Ie={current:null},se={transition:null},ge={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:It,forEach:function(B,X,we){It(B,function(){X.apply(this,arguments)},we)},count:function(B){var X=0;return It(B,function(){X++}),X},toArray:function(B){return It(B,function(X){return X})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ne.Component=C,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=G,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=le,Ne.cloneElement=function(B,X,we){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Pe=I({},B.props),Re=B.key,Oe=B.ref,ze=B._owner;if(X!=null){if(X.ref!==void 0&&(Oe=X.ref,ze=ae.current),X.key!==void 0&&(Re=""+X.key),B.type&&B.type.defaultProps)var $e=B.type.defaultProps;for(Ye in X)te.call(X,Ye)&&!j.hasOwnProperty(Ye)&&(Pe[Ye]=X[Ye]===void 0&&$e!==void 0?$e[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=we;else if(1<Ye){$e=Array(Ye);for(var jt=0;jt<Ye;jt++)$e[jt]=arguments[jt+2];Pe.children=$e}return{$$typeof:t,type:B.type,key:Re,ref:Oe,props:Pe,_owner:ze}},Ne.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ne.createElement=S,Ne.createFactory=function(B){var X=S.bind(null,B);return X.type=B,X},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(B){return{$$typeof:u,render:B}},Ne.isValidElement=D,Ne.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:Bt}},Ne.memo=function(B,X){return{$$typeof:m,type:B,compare:X===void 0?null:X}},Ne.startTransition=function(B){var X=se.transition;se.transition={};try{B()}finally{se.transition=X}},Ne.unstable_act=le,Ne.useCallback=function(B,X){return Ie.current.useCallback(B,X)},Ne.useContext=function(B){return Ie.current.useContext(B)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(B){return Ie.current.useDeferredValue(B)},Ne.useEffect=function(B,X){return Ie.current.useEffect(B,X)},Ne.useId=function(){return Ie.current.useId()},Ne.useImperativeHandle=function(B,X,we){return Ie.current.useImperativeHandle(B,X,we)},Ne.useInsertionEffect=function(B,X){return Ie.current.useInsertionEffect(B,X)},Ne.useLayoutEffect=function(B,X){return Ie.current.useLayoutEffect(B,X)},Ne.useMemo=function(B,X){return Ie.current.useMemo(B,X)},Ne.useReducer=function(B,X,we){return Ie.current.useReducer(B,X,we)},Ne.useRef=function(B){return Ie.current.useRef(B)},Ne.useState=function(B){return Ie.current.useState(B)},Ne.useSyncExternalStore=function(B,X,we){return Ie.current.useSyncExternalStore(B,X,we)},Ne.useTransition=function(){return Ie.current.useTransition()},Ne.version="18.3.1",Ne}var p_;function ny(){return p_||(p_=1,hm.exports=qC()),hm.exports}var m_;function GC(){if(m_)return cc;m_=1;var t=ny(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var y,_={},b=null,T=null;m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(T=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(u&&u.defaultProps)for(y in f=u.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:u,key:b,ref:T,props:_,_owner:s.current}}return cc.Fragment=n,cc.jsx=l,cc.jsxs=l,cc}var g_;function KC(){return g_||(g_=1,dm.exports=GC()),dm.exports}var p=KC(),V=ny();const X1=Y1(V),QC=WC({__proto__:null,default:X1},[V]);var $d={},fm={exports:{}},Cn={},pm={exports:{}},mm={};var y_;function YC(){return y_||(y_=1,(function(t){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var B=le-1>>>1,X=se[B];if(0<s(X,ge))se[B]=ge,se[le]=X,le=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var B=0,X=se.length,we=X>>>1;B<we;){var Pe=2*(B+1)-1,Re=se[Pe],Oe=Pe+1,ze=se[Oe];if(0>s(Re,le))Oe<X&&0>s(ze,Re)?(se[B]=ze,se[Oe]=le,B=Oe):(se[B]=Re,se[Pe]=le,B=Pe);else if(Oe<X&&0>s(ze,le))se[B]=ze,se[Oe]=le,B=Oe;else break e}}return ge}function s(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],m=[],y=1,_=null,b=3,T=!1,I=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var ge=n(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=se)r(m),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(m)}}function Y(se){if(N=!1,F(se),!I)if(n(f)!==null)I=!0,Bt(te);else{var ge=n(m);ge!==null&&Ie(Y,ge.startTime-se)}}function te(se,ge){I=!1,N&&(N=!1,z(S),S=-1),T=!0;var le=b;try{for(F(ge),_=n(f);_!==null&&(!(_.expirationTime>ge)||se&&!L());){var B=_.callback;if(typeof B=="function"){_.callback=null,b=_.priorityLevel;var X=B(_.expirationTime<=ge);ge=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(f)&&r(f),F(ge)}else r(f);_=n(f)}if(_!==null)var we=!0;else{var Pe=n(m);Pe!==null&&Ie(Y,Pe.startTime-ge),we=!1}return we}finally{_=null,b=le,T=!1}}var ae=!1,j=null,S=-1,A=5,D=-1;function L(){return!(t.unstable_now()-D<A)}function U(){if(j!==null){var se=t.unstable_now();D=se;var ge=!0;try{ge=j(!0,se)}finally{ge?R():(ae=!1,j=null)}}else ae=!1}var R;if(typeof G=="function")R=function(){G(U)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,It=st.port2;st.port1.onmessage=U,R=function(){It.postMessage(null)}}else R=function(){C(U,0)};function Bt(se){j=se,ae||(ae=!0,R())}function Ie(se,ge){S=C(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,Bt(te))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var le=b;b=ge;try{return se()}finally{b=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=b;b=se;try{return ge()}finally{b=le}},t.unstable_scheduleCallback=function(se,ge,le){var B=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,se={id:y++,callback:ge,priorityLevel:se,startTime:le,expirationTime:X,sortIndex:-1},le>B?(se.sortIndex=le,e(m,se),n(f)===null&&se===n(m)&&(N?(z(S),S=-1):N=!0,Ie(Y,le-B))):(se.sortIndex=X,e(f,se),I||T||(I=!0,Bt(te))),se},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(se){var ge=b;return function(){var le=b;b=ge;try{return se.apply(this,arguments)}finally{b=le}}}})(mm)),mm}var v_;function XC(){return v_||(v_=1,pm.exports=YC()),pm.exports}var w_;function JC(){if(w_)return Cn;w_=1;var t=ny(),e=XC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function b(i){return f.call(_,i)?!0:f.call(y,i)?!1:m.test(i)?_[i]=!0:(y[i]=!0,!1)}function T(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,o,c,h){if(o===null||typeof o>"u"||T(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,c,h,g,w,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,h){var g=C.hasOwnProperty(o)?C[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,c,g,h)&&(c=null),h||g===null?b(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):g.mustUseProperty?i[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,h=g.attributeNamespace,c===null?i.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ae=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,B;function X(i){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var we=!1;function Pe(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var h=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){h=q}i.call(o.prototype)}else{try{throw Error()}catch(q){h=q}i()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),w=h.stack.split(`
`),E=g.length-1,P=w.length-1;1<=E&&0<=P&&g[E]!==w[P];)P--;for(;1<=E&&0<=P;E--,P--)if(g[E]!==w[P]){if(E!==1||P!==1)do if(E--,P--,0>P||g[E]!==w[P]){var M=`
`+g[E].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=E&&0<=P);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?X(i):""}function Re(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case ae:return"Portal";case A:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case st:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case It:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case Bt:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jt(i){var o=Ye(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){h=""+E,w.call(this,E)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Xr(i){i._valueTracker||(i._valueTracker=jt(i))}function Do(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function Is(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ci(i,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function jo(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=$e(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ml(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function gl(i,o){ml(i,o);var c=$e(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Mo(i,o.type,c):o.hasOwnProperty("defaultValue")&&Mo(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Cu(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Mo(i,o,c){(o!=="number"||Is(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Jr=Array.isArray;function Zr(i,o,c,h){if(i=i.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=o.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+$e(c),o=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function yl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Oo(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Jr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:$e(c)}}function Lo(i,o){var c=$e(o.value),h=$e(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function vl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?St(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var es,wl=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,g){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,g)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=es.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ss(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pi=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(i){Pi.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ai[o]=Ai[i]})});function _l(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ai.hasOwnProperty(i)&&Ai[i]?(""+o).trim():o+"px"}function xl(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=_l(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,g):i[c]=g}}var bl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(i,o){if(o){if(bl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Tl(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function Vo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fo=null,$n=null,Sr=null;function Uo(i){if(i=Kl(i)){if(typeof Fo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=sd(o),Fo(i.stateNode,i.type,o))}}function Cr(i){$n?Sr?Sr.push(i):Sr=[i]:$n=i}function kl(){if($n){var i=$n,o=Sr;if(Sr=$n=null,Uo(i),o)for(i=0;i<o.length;i++)Uo(o[i])}}function Ni(i,o){return i(o)}function Il(){}var ts=!1;function Sl(i,o,c){if(ts)return i(o,c);ts=!0;try{return Ni(i,o,c)}finally{ts=!1,($n!==null||Sr!==null)&&(Il(),kl())}}function mt(i,o){var c=i.stateNode;if(c===null)return null;var h=sd(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Bo=!1;if(u)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Bo=!1}function Di(i,o,c,h,g,w,E,P,M){var q=Array.prototype.slice.call(arguments,3);try{o.apply(c,q)}catch(ee){this.onError(ee)}}var ji=!1,zo=null,ir=!1,Cl=null,Ff={onError:function(i){ji=!0,zo=i}};function $o(i,o,c,h,g,w,E,P,M){ji=!1,zo=null,Di.apply(Ff,arguments)}function Au(i,o,c,h,g,w,E,P,M){if($o.apply(this,arguments),ji){if(ji){var q=zo;ji=!1,zo=null}else throw Error(n(198));ir||(ir=!0,Cl=q)}}function or(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Mi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ar(i){if(or(i)!==i)throw Error(n(188))}function Pu(i){var o=i.alternate;if(!o){if(o=or(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return ar(g),i;if(w===h)return ar(g),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=w;else{for(var E=!1,P=g.child;P;){if(P===c){E=!0,c=g,h=w;break}if(P===h){E=!0,h=g,c=w;break}P=P.sibling}if(!E){for(P=w.child;P;){if(P===c){E=!0,c=w,h=g;break}if(P===h){E=!0,h=w,c=g;break}P=P.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Al(i){return i=Pu(i),i!==null?Ho(i):null}function Ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ho(i);if(o!==null)return o;i=i.sibling}return null}var Wo=e.unstable_scheduleCallback,Pl=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,Uf=e.unstable_requestPaint,Xe=e.unstable_now,Nu=e.unstable_getCurrentPriorityLevel,Oi=e.unstable_ImmediatePriority,Cs=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Rl=e.unstable_LowPriority,Du=e.unstable_IdlePriority,Li=null,Rn=null;function ju(i){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Li,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Ou,Nl=Math.log,Mu=Math.LN2;function Ou(i){return i>>>=0,i===0?32:31-(Nl(i)/Mu|0)|0}var qo=64,Go=4194304;function As(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Vi(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,g=i.suspendedLanes,w=i.pingedLanes,E=c&268435455;if(E!==0){var P=E&~g;P!==0?h=As(P):(w&=E,w!==0&&(h=As(w)))}else E=c&~g,E!==0?h=As(E):w!==0&&(h=As(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-hn(o),g=1<<c,h|=i[c],o&=~g;return h}function Bf(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var E=31-hn(w),P=1<<E,M=g[E];M===-1?((P&c)===0||(P&h)!==0)&&(g[E]=Bf(P,o)):M<=o&&(i.expiredLanes|=P),w&=~P}}function Nn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Fi(){var i=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),i}function Ps(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Rs(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-hn(o),i[o]=c}function Ke(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var g=31-hn(c),w=1<<g;o[g]=0,h[g]=-1,i[g]=-1,c&=~w}}function Ns(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-hn(c),g=1<<h;g&o|i[h]&o&&(i[h]|=o),c&=~g}}var je=0;function Ds(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Lu,Ko,Vu,Fu,Uu,Dl=!1,Ar=[],zt=null,lr=null,cr=null,js=new Map,Wn=new Map,Pr=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(i,o){switch(i){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":js.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(o.pointerId)}}function xn(i,o,c,h,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},o!==null&&(o=Kl(o),o!==null&&Ko(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function $f(i,o,c,h,g){switch(o){case"focusin":return zt=xn(zt,i,o,c,h,g),!0;case"dragenter":return lr=xn(lr,i,o,c,h,g),!0;case"mouseover":return cr=xn(cr,i,o,c,h,g),!0;case"pointerover":var w=g.pointerId;return js.set(w,xn(js.get(w)||null,i,o,c,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Wn.set(w,xn(Wn.get(w)||null,i,o,c,h,g)),!0}return!1}function zu(i){var o=Hi(i.target);if(o!==null){var c=or(o);if(c!==null){if(o=c.tag,o===13){if(o=Mi(c),o!==null){i.blockedOn=o,Uu(i.priority,function(){Vu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rs(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Qo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Ri=h,c.target.dispatchEvent(h),Ri=null}else return o=Kl(c),o!==null&&Ko(o),i.blockedOn=c,!1;o.shift()}return!0}function Ui(i,o,c){rs(i)&&c.delete(o)}function $u(){Dl=!1,zt!==null&&rs(zt)&&(zt=null),lr!==null&&rs(lr)&&(lr=null),cr!==null&&rs(cr)&&(cr=null),js.forEach(Ui),Wn.forEach(Ui)}function ur(i,o){i.blockedOn===o&&(i.blockedOn=null,Dl||(Dl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$u)))}function dr(i){function o(g){return ur(g,i)}if(0<Ar.length){ur(Ar[0],i);for(var c=1;c<Ar.length;c++){var h=Ar[c];h.blockedOn===i&&(h.blockedOn=null)}}for(zt!==null&&ur(zt,i),lr!==null&&ur(lr,i),cr!==null&&ur(cr,i),js.forEach(o),Wn.forEach(o),c=0;c<Pr.length;c++)h=Pr[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)zu(c),c.blockedOn===null&&Pr.shift()}var ss=Y.ReactCurrentBatchConfig,Ms=!0;function it(i,o,c,h){var g=je,w=ss.transition;ss.transition=null;try{je=1,jl(i,o,c,h)}finally{je=g,ss.transition=w}}function Hf(i,o,c,h){var g=je,w=ss.transition;ss.transition=null;try{je=4,jl(i,o,c,h)}finally{je=g,ss.transition=w}}function jl(i,o,c,h){if(Ms){var g=Qo(i,o,c,h);if(g===null)tp(i,o,h,Bi,c),Bu(i,h);else if($f(g,i,o,c,h))h.stopPropagation();else if(Bu(i,h),o&4&&-1<zf.indexOf(i)){for(;g!==null;){var w=Kl(g);if(w!==null&&Lu(w),w=Qo(i,o,c,h),w===null&&tp(i,o,h,Bi,c),w===g)break;g=w}g!==null&&h.stopPropagation()}else tp(i,o,h,null,c)}}var Bi=null;function Qo(i,o,c,h){if(Bi=null,i=Vo(h),i=Hi(i),i!==null)if(o=or(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Mi(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Bi=i,null}function Ml(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nu()){case Oi:return 1;case Cs:return 4;case Hn:case Rl:return 16;case Du:return 536870912;default:return 16}default:return 16}}var Dn=null,Yo=null,bn=null;function Ol(){if(bn)return bn;var i,o=Yo,c=o.length,h,g="value"in Dn?Dn.value:Dn.textContent,w=g.length;for(i=0;i<c&&o[i]===g[i];i++);var E=c-i;for(h=1;h<=E&&o[c-h]===g[w-h];h++);return bn=g.slice(i,1<h?1-h:void 0)}function Xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Rr(){return!0}function Ll(){return!1}function $t(i){function o(c,h,g,w,E){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(c=i[P],this[P]=c?c(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rr:Ll,this.isPropagationStopped=Ll,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),o}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=$t(hr),Nr=le({},hr,{view:0,detail:0}),Wf=$t(Nr),Zo,is,Os,zi=le({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Os&&(Os&&i.type==="mousemove"?(Zo=i.screenX-Os.screenX,is=i.screenY-Os.screenY):is=Zo=0,Os=i),Zo)},movementY:function(i){return"movementY"in i?i.movementY:is}}),ea=$t(zi),Vl=le({},zi,{dataTransfer:0}),Hu=$t(Vl),ta=le({},Nr,{relatedTarget:0}),na=$t(ta),Wu=le({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),os=$t(Wu),qu=le({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gu=$t(qu),Ku=le({},hr,{data:0}),Fl=$t(Ku),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Qu[i])?!!o[i]:!1}function Dr(){return Yu}var d=le({},Nr,{key:function(i){if(i.key){var o=ra[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(i){return i.type==="keypress"?Xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=$t(d),x=le({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=$t(x),$=le({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),K=$t($),oe=le({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=$t(oe),At=le({},zi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=$t(At),Mt=[9,13,27,32],_t=u&&"CompositionEvent"in window,qn=null;u&&"documentMode"in document&&(qn=document.documentMode);var jn=u&&"TextEvent"in window&&!qn,$i=u&&(!_t||qn&&8<qn&&11>=qn),sa=" ",av=!1;function lv(i,o){switch(i){case"keyup":return Mt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ia=!1;function zS(i,o){switch(i){case"compositionend":return cv(o);case"keypress":return o.which!==32?null:(av=!0,sa);case"textInput":return i=o.data,i===sa&&av?null:i;default:return null}}function $S(i,o){if(ia)return i==="compositionend"||!_t&&lv(i,o)?(i=Ol(),bn=Yo=Dn=null,ia=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $i&&o.locale!=="ko"?null:o.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HS[i.type]:o==="textarea"}function dv(i,o,c,h){Cr(h),o=td(o,"onChange"),0<o.length&&(c=new Jo("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Ul=null,Bl=null;function WS(i){Av(i,0)}function Xu(i){var o=ua(i);if(Do(o))return i}function qS(i,o){if(i==="change")return o}var hv=!1;if(u){var qf;if(u){var Gf="oninput"in document;if(!Gf){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Gf=typeof fv.oninput=="function"}qf=Gf}else qf=!1;hv=qf&&(!document.documentMode||9<document.documentMode)}function pv(){Ul&&(Ul.detachEvent("onpropertychange",mv),Bl=Ul=null)}function mv(i){if(i.propertyName==="value"&&Xu(Bl)){var o=[];dv(o,Bl,i,Vo(i)),Sl(WS,o)}}function GS(i,o,c){i==="focusin"?(pv(),Ul=o,Bl=c,Ul.attachEvent("onpropertychange",mv)):i==="focusout"&&pv()}function KS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xu(Bl)}function QS(i,o){if(i==="click")return Xu(o)}function YS(i,o){if(i==="input"||i==="change")return Xu(o)}function XS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var fr=typeof Object.is=="function"?Object.is:XS;function zl(i,o){if(fr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(o,g)||!fr(i[g],o[g]))return!1}return!0}function gv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yv(i,o){var c=gv(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gv(c)}}function vv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var i=window,o=Is();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Is(i.document)}return o}function Kf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JS(i){var o=wv(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&vv(c.ownerDocument.documentElement,c)){if(h!==null&&Kf(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=c.textContent.length,w=Math.min(h.start,g);h=h.end===void 0?w:Math.min(h.end,g),!i.extend&&w>h&&(g=h,h=w,w=g),g=yv(c,w);var E=yv(c,h);g&&E&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),w>h?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZS=u&&"documentMode"in document&&11>=document.documentMode,oa=null,Qf=null,$l=null,Yf=!1;function _v(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Yf||oa==null||oa!==Is(h)||(h=oa,"selectionStart"in h&&Kf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),$l&&zl($l,h)||($l=h,h=td(Qf,"onSelect"),0<h.length&&(o=new Jo("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=oa)))}function Ju(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var aa={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Xf={},xv={};u&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function Zu(i){if(Xf[i])return Xf[i];if(!aa[i])return i;var o=aa[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in xv)return Xf[i]=o[c];return i}var bv=Zu("animationend"),Ev=Zu("animationiteration"),Tv=Zu("animationstart"),kv=Zu("transitionend"),Iv=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(i,o){Iv.set(i,o),a(o,[i])}for(var Jf=0;Jf<Sv.length;Jf++){var Zf=Sv[Jf],eC=Zf.toLowerCase(),tC=Zf[0].toUpperCase()+Zf.slice(1);Ls(eC,"on"+tC)}Ls(bv,"onAnimationEnd"),Ls(Ev,"onAnimationIteration"),Ls(Tv,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(kv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Cv(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Au(h,o,void 0,i),i.currentTarget=null}function Av(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var E=h.length-1;0<=E;E--){var P=h[E],M=P.instance,q=P.currentTarget;if(P=P.listener,M!==w&&g.isPropagationStopped())break e;Cv(g,P,q),w=M}else for(E=0;E<h.length;E++){if(P=h[E],M=P.instance,q=P.currentTarget,P=P.listener,M!==w&&g.isPropagationStopped())break e;Cv(g,P,q),w=M}}}if(ir)throw i=Cl,ir=!1,Cl=null,i}function tt(i,o){var c=o[ap];c===void 0&&(c=o[ap]=new Set);var h=i+"__bubble";c.has(h)||(Pv(o,i,2,!1),c.add(h))}function ep(i,o,c){var h=0;o&&(h|=4),Pv(c,i,h,o)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Wl(i){if(!i[ed]){i[ed]=!0,r.forEach(function(c){c!=="selectionchange"&&(nC.has(c)||ep(c,!1,i),ep(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ed]||(o[ed]=!0,ep("selectionchange",!1,o))}}function Pv(i,o,c,h){switch(Ml(o)){case 1:var g=it;break;case 4:g=Hf;break;default:g=jl}c=g.bind(null,o,c,i),g=void 0,!Bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(o,c,{capture:!0,passive:g}):i.addEventListener(o,c,!0):g!==void 0?i.addEventListener(o,c,{passive:g}):i.addEventListener(o,c,!1)}function tp(i,o,c,h,g){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var P=h.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(E===4)for(E=h.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===g||M.nodeType===8&&M.parentNode===g))return;E=E.return}for(;P!==null;){if(E=Hi(P),E===null)return;if(M=E.tag,M===5||M===6){h=w=E;continue e}P=P.parentNode}}h=h.return}Sl(function(){var q=w,ee=Vo(c),re=[];e:{var Z=Iv.get(i);if(Z!==void 0){var ce=Jo,he=i;switch(i){case"keypress":if(Xo(c)===0)break e;case"keydown":case"keyup":ce=v;break;case"focusin":he="focus",ce=na;break;case"focusout":he="blur",ce=na;break;case"beforeblur":case"afterblur":ce=na;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case bv:case Ev:case Tv:ce=os;break;case kv:ce=qe;break;case"scroll":ce=Wf;break;case"wheel":ce=Le;break;case"copy":case"cut":case"paste":ce=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=k}var pe=(o&4)!==0,gt=!pe&&i==="scroll",H=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=q,W;O!==null;){W=O;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,H!==null&&(ie=mt(O,H),ie!=null&&pe.push(ql(O,ie,W)))),gt)break;O=O.return}0<pe.length&&(Z=new ce(Z,he,null,c,ee),re.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",Z&&c!==Ri&&(he=c.relatedTarget||c.fromElement)&&(Hi(he)||he[as]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(he=c.relatedTarget||c.toElement,ce=q,he=he?Hi(he):null,he!==null&&(gt=or(he),he!==gt||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=q),ce!==he)){if(pe=ea,ie="onMouseLeave",H="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(pe=k,ie="onPointerLeave",H="onPointerEnter",O="pointer"),gt=ce==null?Z:ua(ce),W=he==null?Z:ua(he),Z=new pe(ie,O+"leave",ce,c,ee),Z.target=gt,Z.relatedTarget=W,ie=null,Hi(ee)===q&&(pe=new pe(H,O+"enter",he,c,ee),pe.target=W,pe.relatedTarget=gt,ie=pe),gt=ie,ce&&he)t:{for(pe=ce,H=he,O=0,W=pe;W;W=la(W))O++;for(W=0,ie=H;ie;ie=la(ie))W++;for(;0<O-W;)pe=la(pe),O--;for(;0<W-O;)H=la(H),W--;for(;O--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=la(pe),H=la(H)}pe=null}else pe=null;ce!==null&&Rv(re,Z,ce,pe,!1),he!==null&&gt!==null&&Rv(re,gt,he,pe,!0)}}e:{if(Z=q?ua(q):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ye=qS;else if(uv(Z))if(hv)ye=YS;else{ye=KS;var xe=GS}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=QS);if(ye&&(ye=ye(i,q))){dv(re,ye,c,ee);break e}xe&&xe(i,Z,q),i==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&Mo(Z,"number",Z.value)}switch(xe=q?ua(q):window,i){case"focusin":(uv(xe)||xe.contentEditable==="true")&&(oa=xe,Qf=q,$l=null);break;case"focusout":$l=Qf=oa=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,_v(re,c,ee);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":_v(re,c,ee)}var be;if(_t)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ia?lv(i,c)&&(ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ke="onCompositionStart");ke&&($i&&c.locale!=="ko"&&(ia||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ia&&(be=Ol()):(Dn=ee,Yo="value"in Dn?Dn.value:Dn.textContent,ia=!0)),xe=td(q,ke),0<xe.length&&(ke=new Fl(ke,i,null,c,ee),re.push({event:ke,listeners:xe}),be?ke.data=be:(be=cv(c),be!==null&&(ke.data=be)))),(be=jn?zS(i,c):$S(i,c))&&(q=td(q,"onBeforeInput"),0<q.length&&(ee=new Fl("onBeforeInput","beforeinput",null,c,ee),re.push({event:ee,listeners:q}),ee.data=be))}Av(re,o)})}function ql(i,o,c){return{instance:i,listener:o,currentTarget:c}}function td(i,o){for(var c=o+"Capture",h=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=mt(i,c),w!=null&&h.unshift(ql(i,w,g)),w=mt(i,o),w!=null&&h.push(ql(i,w,g))),i=i.return}return h}function la(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Rv(i,o,c,h,g){for(var w=o._reactName,E=[];c!==null&&c!==h;){var P=c,M=P.alternate,q=P.stateNode;if(M!==null&&M===h)break;P.tag===5&&q!==null&&(P=q,g?(M=mt(c,w),M!=null&&E.unshift(ql(c,M,P))):g||(M=mt(c,w),M!=null&&E.push(ql(c,M,P)))),c=c.return}E.length!==0&&i.push({event:o,listeners:E})}var rC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace(rC,`
`).replace(sC,"")}function nd(i,o,c){if(o=Nv(o),Nv(i)!==o&&c)throw Error(n(425))}function rd(){}var np=null,rp=null;function sp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,iC=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(i){return Dv.resolve(null).then(i).catch(aC)}:ip;function aC(i){setTimeout(function(){throw i})}function op(i,o){var c=o,h=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){i.removeChild(g),dr(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);dr(o)}function Vs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function jv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var ca=Math.random().toString(36).slice(2),jr="__reactFiber$"+ca,Gl="__reactProps$"+ca,as="__reactContainer$"+ca,ap="__reactEvents$"+ca,lC="__reactListeners$"+ca,cC="__reactHandles$"+ca;function Hi(i){var o=i[jr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[as]||c[jr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=jv(i);i!==null;){if(c=i[jr])return c;i=jv(i)}return o}i=c,c=i.parentNode}return null}function Kl(i){return i=i[jr]||i[as],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ua(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function sd(i){return i[Gl]||null}var lp=[],da=-1;function Fs(i){return{current:i}}function nt(i){0>da||(i.current=lp[da],lp[da]=null,da--)}function Je(i,o){da++,lp[da]=i.current,i.current=o}var Us={},Xt=Fs(Us),En=Fs(!1),Wi=Us;function ha(i,o){var c=i.type.contextTypes;if(!c)return Us;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=o[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function Tn(i){return i=i.childContextTypes,i!=null}function id(){nt(En),nt(Xt)}function Mv(i,o,c){if(Xt.current!==Us)throw Error(n(168));Je(Xt,o),Je(En,c)}function Ov(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,ze(i)||"Unknown",g));return le({},c,h)}function od(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Us,Wi=Xt.current,Je(Xt,i),Je(En,En.current),!0}function Lv(i,o,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=Ov(i,o,Wi),h.__reactInternalMemoizedMergedChildContext=i,nt(En),nt(Xt),Je(Xt,i)):nt(En),Je(En,c)}var ls=null,ad=!1,cp=!1;function Vv(i){ls===null?ls=[i]:ls.push(i)}function uC(i){ad=!0,Vv(i)}function Bs(){if(!cp&&ls!==null){cp=!0;var i=0,o=je;try{var c=ls;for(je=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}ls=null,ad=!1}catch(g){throw ls!==null&&(ls=ls.slice(i+1)),Wo(Oi,Bs),g}finally{je=o,cp=!1}}return null}var fa=[],pa=0,ld=null,cd=0,Gn=[],Kn=0,qi=null,cs=1,us="";function Gi(i,o){fa[pa++]=cd,fa[pa++]=ld,ld=i,cd=o}function Fv(i,o,c){Gn[Kn++]=cs,Gn[Kn++]=us,Gn[Kn++]=qi,qi=i;var h=cs;i=us;var g=32-hn(h)-1;h&=~(1<<g),c+=1;var w=32-hn(o)+g;if(30<w){var E=g-g%5;w=(h&(1<<E)-1).toString(32),h>>=E,g-=E,cs=1<<32-hn(o)+g|c<<g|h,us=w+i}else cs=1<<w|c<<g|h,us=i}function up(i){i.return!==null&&(Gi(i,1),Fv(i,1,0))}function dp(i){for(;i===ld;)ld=fa[--pa],fa[pa]=null,cd=fa[--pa],fa[pa]=null;for(;i===qi;)qi=Gn[--Kn],Gn[Kn]=null,us=Gn[--Kn],Gn[Kn]=null,cs=Gn[--Kn],Gn[Kn]=null}var Mn=null,On=null,ot=!1,pr=null;function Uv(i,o){var c=Jn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Bv(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Mn=i,On=Vs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Mn=i,On=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=qi!==null?{id:cs,overflow:us}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Jn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Mn=i,On=null,!0):!1;default:return!1}}function hp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function fp(i){if(ot){var o=On;if(o){var c=o;if(!Bv(i,o)){if(hp(i))throw Error(n(418));o=Vs(c.nextSibling);var h=Mn;o&&Bv(i,o)?Uv(h,c):(i.flags=i.flags&-4097|2,ot=!1,Mn=i)}}else{if(hp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ot=!1,Mn=i}}}function zv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Mn=i}function ud(i){if(i!==Mn)return!1;if(!ot)return zv(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!sp(i.type,i.memoizedProps)),o&&(o=On)){if(hp(i))throw $v(),Error(n(418));for(;o;)Uv(i,o),o=Vs(o.nextSibling)}if(zv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){On=Vs(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}On=null}}else On=Mn?Vs(i.stateNode.nextSibling):null;return!0}function $v(){for(var i=On;i;)i=Vs(i.nextSibling)}function ma(){On=Mn=null,ot=!1}function pp(i){pr===null?pr=[i]:pr.push(i)}var dC=Y.ReactCurrentBatchConfig;function Ql(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var g=h,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(E){var P=g.refs;E===null?delete P[w]:P[w]=E},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function dd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Hv(i){var o=i._init;return o(i._payload)}function Wv(i){function o(H,O){if(i){var W=H.deletions;W===null?(H.deletions=[O],H.flags|=16):W.push(O)}}function c(H,O){if(!i)return null;for(;O!==null;)o(H,O),O=O.sibling;return null}function h(H,O){for(H=new Map;O!==null;)O.key!==null?H.set(O.key,O):H.set(O.index,O),O=O.sibling;return H}function g(H,O){return H=Qs(H,O),H.index=0,H.sibling=null,H}function w(H,O,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<O?(H.flags|=2,O):W):(H.flags|=2,O)):(H.flags|=1048576,O)}function E(H){return i&&H.alternate===null&&(H.flags|=2),H}function P(H,O,W,ie){return O===null||O.tag!==6?(O=im(W,H.mode,ie),O.return=H,O):(O=g(O,W),O.return=H,O)}function M(H,O,W,ie){var ye=W.type;return ye===j?ee(H,O,W.props.children,ie,W.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Bt&&Hv(ye)===O.type)?(ie=g(O,W.props),ie.ref=Ql(H,O,W),ie.return=H,ie):(ie=Md(W.type,W.key,W.props,null,H.mode,ie),ie.ref=Ql(H,O,W),ie.return=H,ie)}function q(H,O,W,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==W.containerInfo||O.stateNode.implementation!==W.implementation?(O=om(W,H.mode,ie),O.return=H,O):(O=g(O,W.children||[]),O.return=H,O)}function ee(H,O,W,ie,ye){return O===null||O.tag!==7?(O=to(W,H.mode,ie,ye),O.return=H,O):(O=g(O,W),O.return=H,O)}function re(H,O,W){if(typeof O=="string"&&O!==""||typeof O=="number")return O=im(""+O,H.mode,W),O.return=H,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case te:return W=Md(O.type,O.key,O.props,null,H.mode,W),W.ref=Ql(H,null,O),W.return=H,W;case ae:return O=om(O,H.mode,W),O.return=H,O;case Bt:var ie=O._init;return re(H,ie(O._payload),W)}if(Jr(O)||ge(O))return O=to(O,H.mode,W,null),O.return=H,O;dd(H,O)}return null}function Z(H,O,W,ie){var ye=O!==null?O.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:P(H,O,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case te:return W.key===ye?M(H,O,W,ie):null;case ae:return W.key===ye?q(H,O,W,ie):null;case Bt:return ye=W._init,Z(H,O,ye(W._payload),ie)}if(Jr(W)||ge(W))return ye!==null?null:ee(H,O,W,ie,null);dd(H,W)}return null}function ce(H,O,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(W)||null,P(O,H,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case te:return H=H.get(ie.key===null?W:ie.key)||null,M(O,H,ie,ye);case ae:return H=H.get(ie.key===null?W:ie.key)||null,q(O,H,ie,ye);case Bt:var xe=ie._init;return ce(H,O,W,xe(ie._payload),ye)}if(Jr(ie)||ge(ie))return H=H.get(W)||null,ee(O,H,ie,ye,null);dd(O,ie)}return null}function he(H,O,W,ie){for(var ye=null,xe=null,be=O,ke=O=0,Vt=null;be!==null&&ke<W.length;ke++){be.index>ke?(Vt=be,be=null):Vt=be.sibling;var Ue=Z(H,be,W[ke],ie);if(Ue===null){be===null&&(be=Vt);break}i&&be&&Ue.alternate===null&&o(H,be),O=w(Ue,O,ke),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue,be=Vt}if(ke===W.length)return c(H,be),ot&&Gi(H,ke),ye;if(be===null){for(;ke<W.length;ke++)be=re(H,W[ke],ie),be!==null&&(O=w(be,O,ke),xe===null?ye=be:xe.sibling=be,xe=be);return ot&&Gi(H,ke),ye}for(be=h(H,be);ke<W.length;ke++)Vt=ce(be,H,ke,W[ke],ie),Vt!==null&&(i&&Vt.alternate!==null&&be.delete(Vt.key===null?ke:Vt.key),O=w(Vt,O,ke),xe===null?ye=Vt:xe.sibling=Vt,xe=Vt);return i&&be.forEach(function(Ys){return o(H,Ys)}),ot&&Gi(H,ke),ye}function pe(H,O,W,ie){var ye=ge(W);if(typeof ye!="function")throw Error(n(150));if(W=ye.call(W),W==null)throw Error(n(151));for(var xe=ye=null,be=O,ke=O=0,Vt=null,Ue=W.next();be!==null&&!Ue.done;ke++,Ue=W.next()){be.index>ke?(Vt=be,be=null):Vt=be.sibling;var Ys=Z(H,be,Ue.value,ie);if(Ys===null){be===null&&(be=Vt);break}i&&be&&Ys.alternate===null&&o(H,be),O=w(Ys,O,ke),xe===null?ye=Ys:xe.sibling=Ys,xe=Ys,be=Vt}if(Ue.done)return c(H,be),ot&&Gi(H,ke),ye;if(be===null){for(;!Ue.done;ke++,Ue=W.next())Ue=re(H,Ue.value,ie),Ue!==null&&(O=w(Ue,O,ke),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue);return ot&&Gi(H,ke),ye}for(be=h(H,be);!Ue.done;ke++,Ue=W.next())Ue=ce(be,H,ke,Ue.value,ie),Ue!==null&&(i&&Ue.alternate!==null&&be.delete(Ue.key===null?ke:Ue.key),O=w(Ue,O,ke),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue);return i&&be.forEach(function(HC){return o(H,HC)}),ot&&Gi(H,ke),ye}function gt(H,O,W,ie){if(typeof W=="object"&&W!==null&&W.type===j&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case te:e:{for(var ye=W.key,xe=O;xe!==null;){if(xe.key===ye){if(ye=W.type,ye===j){if(xe.tag===7){c(H,xe.sibling),O=g(xe,W.props.children),O.return=H,H=O;break e}}else if(xe.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Bt&&Hv(ye)===xe.type){c(H,xe.sibling),O=g(xe,W.props),O.ref=Ql(H,xe,W),O.return=H,H=O;break e}c(H,xe);break}else o(H,xe);xe=xe.sibling}W.type===j?(O=to(W.props.children,H.mode,ie,W.key),O.return=H,H=O):(ie=Md(W.type,W.key,W.props,null,H.mode,ie),ie.ref=Ql(H,O,W),ie.return=H,H=ie)}return E(H);case ae:e:{for(xe=W.key;O!==null;){if(O.key===xe)if(O.tag===4&&O.stateNode.containerInfo===W.containerInfo&&O.stateNode.implementation===W.implementation){c(H,O.sibling),O=g(O,W.children||[]),O.return=H,H=O;break e}else{c(H,O);break}else o(H,O);O=O.sibling}O=om(W,H.mode,ie),O.return=H,H=O}return E(H);case Bt:return xe=W._init,gt(H,O,xe(W._payload),ie)}if(Jr(W))return he(H,O,W,ie);if(ge(W))return pe(H,O,W,ie);dd(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,O!==null&&O.tag===6?(c(H,O.sibling),O=g(O,W),O.return=H,H=O):(c(H,O),O=im(W,H.mode,ie),O.return=H,H=O),E(H)):c(H,O)}return gt}var ga=Wv(!0),qv=Wv(!1),hd=Fs(null),fd=null,ya=null,mp=null;function gp(){mp=ya=fd=null}function yp(i){var o=hd.current;nt(hd),i._currentValue=o}function vp(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function va(i,o){fd=i,mp=ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(kn=!0),i.firstContext=null)}function Qn(i){var o=i._currentValue;if(mp!==i)if(i={context:i,memoizedValue:o,next:null},ya===null){if(fd===null)throw Error(n(308));ya=i,fd.dependencies={lanes:0,firstContext:i}}else ya=ya.next=i;return o}var Ki=null;function wp(i){Ki===null?Ki=[i]:Ki.push(i)}function Gv(i,o,c,h){var g=o.interleaved;return g===null?(c.next=c,wp(o)):(c.next=g.next,g.next=c),o.interleaved=c,ds(i,h)}function ds(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var zs=!1;function _p(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function hs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $s(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Fe&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,ds(i,c)}return g=h.interleaved,g===null?(o.next=o,wp(h)):(o.next=g.next,g.next=o),h.interleaved=o,ds(i,c)}function pd(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Ns(i,c)}}function Qv(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=E:w=w.next=E,c=c.next}while(c!==null);w===null?g=w=o:w=w.next=o}else g=w=o;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function md(i,o,c,h){var g=i.updateQueue;zs=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var M=P,q=M.next;M.next=null,E===null?w=q:E.next=q,E=M;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==E&&(P===null?ee.firstBaseUpdate=q:P.next=q,ee.lastBaseUpdate=M))}if(w!==null){var re=g.baseState;E=0,ee=q=M=null,P=w;do{var Z=P.lane,ce=P.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var he=i,pe=P;switch(Z=o,ce=c,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(ce,re,Z);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,Z=typeof he=="function"?he.call(ce,re,Z):he,Z==null)break e;re=le({},re,Z);break e;case 2:zs=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,Z=g.effects,Z===null?g.effects=[P]:Z.push(P))}else ce={eventTime:ce,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(q=ee=ce,M=re):ee=ee.next=ce,E|=Z;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);if(ee===null&&(M=re),g.baseState=M,g.firstBaseUpdate=q,g.lastBaseUpdate=ee,o=g.shared.interleaved,o!==null){g=o;do E|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Xi|=E,i.lanes=E,i.memoizedState=re}}function Yv(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Yl={},Mr=Fs(Yl),Xl=Fs(Yl),Jl=Fs(Yl);function Qi(i){if(i===Yl)throw Error(n(174));return i}function xp(i,o){switch(Je(Jl,o),Je(Xl,i),Je(Mr,Yl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ct(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ct(o,i)}nt(Mr),Je(Mr,o)}function wa(){nt(Mr),nt(Xl),nt(Jl)}function Xv(i){Qi(Jl.current);var o=Qi(Mr.current),c=Ct(o,i.type);o!==c&&(Je(Xl,i),Je(Mr,c))}function bp(i){Xl.current===i&&(nt(Mr),nt(Xl))}var at=Fs(0);function gd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ep=[];function Tp(){for(var i=0;i<Ep.length;i++)Ep[i]._workInProgressVersionPrimary=null;Ep.length=0}var yd=Y.ReactCurrentDispatcher,kp=Y.ReactCurrentBatchConfig,Yi=0,lt=null,Pt=null,Ot=null,vd=!1,Zl=!1,ec=0,hC=0;function Jt(){throw Error(n(321))}function Ip(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!fr(i[c],o[c]))return!1;return!0}function Sp(i,o,c,h,g,w){if(Yi=w,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yd.current=i===null||i.memoizedState===null?gC:yC,i=c(h,g),Zl){w=0;do{if(Zl=!1,ec=0,25<=w)throw Error(n(301));w+=1,Ot=Pt=null,o.updateQueue=null,yd.current=vC,i=c(h,g)}while(Zl)}if(yd.current=xd,o=Pt!==null&&Pt.next!==null,Yi=0,Ot=Pt=lt=null,vd=!1,o)throw Error(n(300));return i}function Cp(){var i=ec!==0;return ec=0,i}function Or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?lt.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Yn(){if(Pt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Ot===null?lt.memoizedState:Ot.next;if(o!==null)Ot=o,Pt=i;else{if(i===null)throw Error(n(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?lt.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function tc(i,o){return typeof o=="function"?o(i):o}function Ap(i){var o=Yn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=Pt,g=h.baseQueue,w=c.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}h.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,h=h.baseState;var P=E=null,M=null,q=w;do{var ee=q.lane;if((Yi&ee)===ee)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:i(h,q.action);else{var re={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(P=M=re,E=h):M=M.next=re,lt.lanes|=ee,Xi|=ee}q=q.next}while(q!==null&&q!==w);M===null?E=h:M.next=P,fr(h,o.memoizedState)||(kn=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=M,c.lastRenderedState=h}if(i=c.interleaved,i!==null){g=i;do w=g.lane,lt.lanes|=w,Xi|=w,g=g.next;while(g!==i)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Pp(i){var o=Yn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,w=o.memoizedState;if(g!==null){c.pending=null;var E=g=g.next;do w=i(w,E.action),E=E.next;while(E!==g);fr(w,o.memoizedState)||(kn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function Jv(){}function Zv(i,o){var c=lt,h=Yn(),g=o(),w=!fr(h.memoizedState,g);if(w&&(h.memoizedState=g,kn=!0),h=h.queue,Rp(nw.bind(null,c,h,i),[i]),h.getSnapshot!==o||w||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,nc(9,tw.bind(null,c,h,g,o),void 0,null),Lt===null)throw Error(n(349));(Yi&30)!==0||ew(c,o,g)}return g}function ew(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function tw(i,o,c,h){o.value=c,o.getSnapshot=h,rw(o)&&sw(i)}function nw(i,o,c){return c(function(){rw(o)&&sw(i)})}function rw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!fr(i,c)}catch{return!0}}function sw(i){var o=ds(i,1);o!==null&&vr(o,i,1,-1)}function iw(i){var o=Or();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:i},o.queue=i,i=i.dispatch=mC.bind(null,lt,i),[o.memoizedState,i]}function nc(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function ow(){return Yn().memoizedState}function wd(i,o,c,h){var g=Or();lt.flags|=i,g.memoizedState=nc(1|o,c,void 0,h===void 0?null:h)}function _d(i,o,c,h){var g=Yn();h=h===void 0?null:h;var w=void 0;if(Pt!==null){var E=Pt.memoizedState;if(w=E.destroy,h!==null&&Ip(h,E.deps)){g.memoizedState=nc(o,c,w,h);return}}lt.flags|=i,g.memoizedState=nc(1|o,c,w,h)}function aw(i,o){return wd(8390656,8,i,o)}function Rp(i,o){return _d(2048,8,i,o)}function lw(i,o){return _d(4,2,i,o)}function cw(i,o){return _d(4,4,i,o)}function uw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function dw(i,o,c){return c=c!=null?c.concat([i]):null,_d(4,4,uw.bind(null,o,i),c)}function Np(){}function hw(i,o){var c=Yn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Ip(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function fw(i,o){var c=Yn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Ip(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function pw(i,o,c){return(Yi&21)===0?(i.baseState&&(i.baseState=!1,kn=!0),i.memoizedState=c):(fr(c,o)||(c=Fi(),lt.lanes|=c,Xi|=c,i.baseState=!0),o)}function fC(i,o){var c=je;je=c!==0&&4>c?c:4,i(!0);var h=kp.transition;kp.transition={};try{i(!1),o()}finally{je=c,kp.transition=h}}function mw(){return Yn().memoizedState}function pC(i,o,c){var h=Gs(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},gw(i))yw(o,c);else if(c=Gv(i,o,c,h),c!==null){var g=mn();vr(c,i,h,g),vw(c,o,h)}}function mC(i,o,c){var h=Gs(i),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(gw(i))yw(o,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var E=o.lastRenderedState,P=w(E,c);if(g.hasEagerState=!0,g.eagerState=P,fr(P,E)){var M=o.interleaved;M===null?(g.next=g,wp(o)):(g.next=M.next,M.next=g),o.interleaved=g;return}}catch{}c=Gv(i,o,g,h),c!==null&&(g=mn(),vr(c,i,h,g),vw(c,o,h))}}function gw(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function yw(i,o){Zl=vd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function vw(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Ns(i,c)}}var xd={readContext:Qn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},gC={readContext:Qn,useCallback:function(i,o){return Or().memoizedState=[i,o===void 0?null:o],i},useContext:Qn,useEffect:aw,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,wd(4194308,4,uw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return wd(4194308,4,i,o)},useInsertionEffect:function(i,o){return wd(4,2,i,o)},useMemo:function(i,o){var c=Or();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=Or();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=pC.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var o=Or();return i={current:i},o.memoizedState=i},useState:iw,useDebugValue:Np,useDeferredValue:function(i){return Or().memoizedState=i},useTransition:function(){var i=iw(!1),o=i[0];return i=fC.bind(null,i[1]),Or().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=lt,g=Or();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Lt===null)throw Error(n(349));(Yi&30)!==0||ew(h,o,c)}g.memoizedState=c;var w={value:c,getSnapshot:o};return g.queue=w,aw(nw.bind(null,h,w,i),[i]),h.flags|=2048,nc(9,tw.bind(null,h,w,c,o),void 0,null),c},useId:function(){var i=Or(),o=Lt.identifierPrefix;if(ot){var c=us,h=cs;c=(h&~(1<<32-hn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=ec++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=hC++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},yC={readContext:Qn,useCallback:hw,useContext:Qn,useEffect:Rp,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Ap,useRef:ow,useState:function(){return Ap(tc)},useDebugValue:Np,useDeferredValue:function(i){var o=Yn();return pw(o,Pt.memoizedState,i)},useTransition:function(){var i=Ap(tc)[0],o=Yn().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:mw,unstable_isNewReconciler:!1},vC={readContext:Qn,useCallback:hw,useContext:Qn,useEffect:Rp,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Pp,useRef:ow,useState:function(){return Pp(tc)},useDebugValue:Np,useDeferredValue:function(i){var o=Yn();return Pt===null?o.memoizedState=i:pw(o,Pt.memoizedState,i)},useTransition:function(){var i=Pp(tc)[0],o=Yn().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:mw,unstable_isNewReconciler:!1};function mr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Dp(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:le({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var bd={isMounted:function(i){return(i=i._reactInternals)?or(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=mn(),g=Gs(i),w=hs(h,g);w.payload=o,c!=null&&(w.callback=c),o=$s(i,w,g),o!==null&&(vr(o,i,g,h),pd(o,i,g))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=mn(),g=Gs(i),w=hs(h,g);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=$s(i,w,g),o!==null&&(vr(o,i,g,h),pd(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=mn(),h=Gs(i),g=hs(c,h);g.tag=2,o!=null&&(g.callback=o),o=$s(i,g,h),o!==null&&(vr(o,i,h,c),pd(o,i,h))}};function ww(i,o,c,h,g,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,E):o.prototype&&o.prototype.isPureReactComponent?!zl(c,h)||!zl(g,w):!0}function _w(i,o,c){var h=!1,g=Us,w=o.contextType;return typeof w=="object"&&w!==null?w=Qn(w):(g=Tn(o)?Wi:Xt.current,h=o.contextTypes,w=(h=h!=null)?ha(i,g):Us),o=new o(c,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bd,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),o}function xw(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&bd.enqueueReplaceState(o,o.state,null)}function jp(i,o,c,h){var g=i.stateNode;g.props=c,g.state=i.memoizedState,g.refs={},_p(i);var w=o.contextType;typeof w=="object"&&w!==null?g.context=Qn(w):(w=Tn(o)?Wi:Xt.current,g.context=ha(i,w)),g.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Dp(i,o,w,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&bd.enqueueReplaceState(g,g.state,null),md(i,c,g,h),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function _a(i,o){try{var c="",h=o;do c+=Re(h),h=h.return;while(h);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:g,digest:null}}function Mp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Op(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function bw(i,o,c){c=hs(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Ad||(Ad=!0,Xp=h),Op(i,o)},c}function Ew(i,o,c){c=hs(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;c.payload=function(){return h(g)},c.callback=function(){Op(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Op(i,o),typeof h!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function Tw(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new wC;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(c)||(g.add(c),i=DC.bind(null,i,o,c),o.then(i,i))}function kw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Iw(i,o,c,h,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=hs(-1,1),o.tag=2,$s(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var _C=Y.ReactCurrentOwner,kn=!1;function pn(i,o,c,h){o.child=i===null?qv(o,null,c,h):ga(o,i.child,c,h)}function Sw(i,o,c,h,g){c=c.render;var w=o.ref;return va(o,g),h=Sp(i,o,c,h,w,g),c=Cp(),i!==null&&!kn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fs(i,o,g)):(ot&&c&&up(o),o.flags|=1,pn(i,o,h,g),o.child)}function Cw(i,o,c,h,g){if(i===null){var w=c.type;return typeof w=="function"&&!sm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Aw(i,o,w,h,g)):(i=Md(c.type,null,h,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&g)===0){var E=w.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(E,h)&&i.ref===o.ref)return fs(i,o,g)}return o.flags|=1,i=Qs(w,h),i.ref=o.ref,i.return=o,o.child=i}function Aw(i,o,c,h,g){if(i!==null){var w=i.memoizedProps;if(zl(w,h)&&i.ref===o.ref)if(kn=!1,o.pendingProps=h=w,(i.lanes&g)!==0)(i.flags&131072)!==0&&(kn=!0);else return o.lanes=i.lanes,fs(i,o,g)}return Lp(i,o,c,h,g)}function Pw(i,o,c){var h=o.pendingProps,g=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ba,Ln),Ln|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(ba,Ln),Ln|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,Je(ba,Ln),Ln|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,Je(ba,Ln),Ln|=h;return pn(i,o,g,c),o.child}function Rw(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Lp(i,o,c,h,g){var w=Tn(c)?Wi:Xt.current;return w=ha(o,w),va(o,g),c=Sp(i,o,c,h,w,g),h=Cp(),i!==null&&!kn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,fs(i,o,g)):(ot&&h&&up(o),o.flags|=1,pn(i,o,c,g),o.child)}function Nw(i,o,c,h,g){if(Tn(c)){var w=!0;od(o)}else w=!1;if(va(o,g),o.stateNode===null)Td(i,o),_w(o,c,h),jp(o,c,h,g),h=!0;else if(i===null){var E=o.stateNode,P=o.memoizedProps;E.props=P;var M=E.context,q=c.contextType;typeof q=="object"&&q!==null?q=Qn(q):(q=Tn(c)?Wi:Xt.current,q=ha(o,q));var ee=c.getDerivedStateFromProps,re=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==h||M!==q)&&xw(o,E,h,q),zs=!1;var Z=o.memoizedState;E.state=Z,md(o,h,E,g),M=o.memoizedState,P!==h||Z!==M||En.current||zs?(typeof ee=="function"&&(Dp(o,c,ee,h),M=o.memoizedState),(P=zs||ww(o,c,P,h,Z,M,q))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=M),E.props=h,E.state=M,E.context=q,h=P):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Kv(i,o),P=o.memoizedProps,q=o.type===o.elementType?P:mr(o.type,P),E.props=q,re=o.pendingProps,Z=E.context,M=c.contextType,typeof M=="object"&&M!==null?M=Qn(M):(M=Tn(c)?Wi:Xt.current,M=ha(o,M));var ce=c.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==re||Z!==M)&&xw(o,E,h,M),zs=!1,Z=o.memoizedState,E.state=Z,md(o,h,E,g);var he=o.memoizedState;P!==re||Z!==he||En.current||zs?(typeof ce=="function"&&(Dp(o,c,ce,h),he=o.memoizedState),(q=zs||ww(o,c,q,h,Z,he,M)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,M),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,M)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=he),E.props=h,E.state=he,E.context=M,h=q):(typeof E.componentDidUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),h=!1)}return Vp(i,o,c,h,w,g)}function Vp(i,o,c,h,g,w){Rw(i,o);var E=(o.flags&128)!==0;if(!h&&!E)return g&&Lv(o,c,!1),fs(i,o,w);h=o.stateNode,_C.current=o;var P=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&E?(o.child=ga(o,i.child,null,w),o.child=ga(o,null,P,w)):pn(i,o,P,w),o.memoizedState=h.state,g&&Lv(o,c,!0),o.child}function Dw(i){var o=i.stateNode;o.pendingContext?Mv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Mv(i,o.context,!1),xp(i,o.containerInfo)}function jw(i,o,c,h,g){return ma(),pp(g),o.flags|=256,pn(i,o,c,h),o.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Up(i){return{baseLanes:i,cachePool:null,transitions:null}}function Mw(i,o,c){var h=o.pendingProps,g=at.current,w=!1,E=(o.flags&128)!==0,P;if((P=E)||(P=i!==null&&i.memoizedState===null?!1:(g&2)!==0),P?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),Je(at,g&1),i===null)return fp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,i=h.fallback,w?(h=o.mode,w=o.child,E={mode:"hidden",children:E},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Od(E,h,0,null),i=to(i,h,c,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=Up(c),o.memoizedState=Fp,i):Bp(o,E));if(g=i.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return xC(i,o,E,h,P,g,c);if(w){w=h.fallback,E=o.mode,g=i.child,P=g.sibling;var M={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=M,o.deletions=null):(h=Qs(g,M),h.subtreeFlags=g.subtreeFlags&14680064),P!==null?w=Qs(P,w):(w=to(w,E,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,E=i.child.memoizedState,E=E===null?Up(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=i.childLanes&~c,o.memoizedState=Fp,h}return w=i.child,i=w.sibling,h=Qs(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function Bp(i,o){return o=Od({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ed(i,o,c,h){return h!==null&&pp(h),ga(o,i.child,null,c),i=Bp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xC(i,o,c,h,g,w,E){if(c)return o.flags&256?(o.flags&=-257,h=Mp(Error(n(422))),Ed(i,o,E,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=h.fallback,g=o.mode,h=Od({mode:"visible",children:h.children},g,0,null),w=to(w,g,E,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&ga(o,i.child,null,E),o.child.memoizedState=Up(E),o.memoizedState=Fp,w);if((o.mode&1)===0)return Ed(i,o,E,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var P=h.dgst;return h=P,w=Error(n(419)),h=Mp(w,h,void 0),Ed(i,o,E,h)}if(P=(E&i.childLanes)!==0,kn||P){if(h=Lt,h!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|E))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,ds(i,g),vr(h,i,g,-1))}return rm(),h=Mp(Error(n(421))),Ed(i,o,E,h)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=jC.bind(null,i),g._reactRetry=o,null):(i=w.treeContext,On=Vs(g.nextSibling),Mn=o,ot=!0,pr=null,i!==null&&(Gn[Kn++]=cs,Gn[Kn++]=us,Gn[Kn++]=qi,cs=i.id,us=i.overflow,qi=o),o=Bp(o,h.children),o.flags|=4096,o)}function Ow(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),vp(i.return,o,c)}function zp(i,o,c,h,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g)}function Lw(i,o,c){var h=o.pendingProps,g=h.revealOrder,w=h.tail;if(pn(i,o,h.children,c),h=at.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ow(i,c,o);else if(i.tag===19)Ow(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Je(at,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)i=c.alternate,i!==null&&gd(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),zp(o,!1,g,c,w);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&gd(i)===null){o.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}zp(o,!0,c,null,w);break;case"together":zp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Td(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function fs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Xi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Qs(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Qs(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function bC(i,o,c){switch(o.tag){case 3:Dw(o),ma();break;case 5:Xv(o);break;case 1:Tn(o.type)&&od(o);break;case 4:xp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;Je(hd,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Je(at,at.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Mw(i,o,c):(Je(at,at.current&1),i=fs(i,o,c),i!==null?i.sibling:null);Je(at,at.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Lw(i,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(at,at.current),h)break;return null;case 22:case 23:return o.lanes=0,Pw(i,o,c)}return fs(i,o,c)}var Vw,$p,Fw,Uw;Vw=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},$p=function(){},Fw=function(i,o,c,h){var g=i.memoizedProps;if(g!==h){i=o.stateNode,Qi(Mr.current);var w=null;switch(c){case"input":g=Ci(i,g),h=Ci(i,h),w=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),w=[];break;case"textarea":g=yl(i,g),h=yl(i,h),w=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=rd)}El(c,h);var E;c=null;for(q in g)if(!h.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var P=g[q];for(E in P)P.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?w||(w=[]):(w=w||[]).push(q,null));for(q in h){var M=h[q];if(P=g?.[q],h.hasOwnProperty(q)&&M!==P&&(M!=null||P!=null))if(q==="style")if(P){for(E in P)!P.hasOwnProperty(E)||M&&M.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in M)M.hasOwnProperty(E)&&P[E]!==M[E]&&(c||(c={}),c[E]=M[E])}else c||(w||(w=[]),w.push(q,c)),c=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(w=w||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(w=w||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&tt("scroll",i),w||P===M||(w=[])):(w=w||[]).push(q,M))}c&&(w=w||[]).push("style",c);var q=w;(o.updateQueue=q)&&(o.flags|=4)}},Uw=function(i,o,c,h){c!==h&&(o.flags|=4)};function rc(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Zt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function EC(i,o,c){var h=o.pendingProps;switch(dp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return Tn(o.type)&&id(),Zt(o),null;case 3:return h=o.stateNode,wa(),nt(En),nt(Xt),Tp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ud(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,pr!==null&&(em(pr),pr=null))),$p(i,o),Zt(o),null;case 5:bp(o);var g=Qi(Jl.current);if(c=o.type,i!==null&&o.stateNode!=null)Fw(i,o,c,h,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Zt(o),null}if(i=Qi(Mr.current),ud(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[jr]=o,h[Gl]=w,i=(o.mode&1)!==0,c){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(g=0;g<Hl.length;g++)tt(Hl[g],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":jo(h,w),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},tt("invalid",h);break;case"textarea":Oo(h,w),tt("invalid",h)}El(c,w),g=null;for(var E in w)if(w.hasOwnProperty(E)){var P=w[E];E==="children"?typeof P=="string"?h.textContent!==P&&(w.suppressHydrationWarning!==!0&&nd(h.textContent,P,i),g=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&nd(h.textContent,P,i),g=["children",""+P]):s.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&tt("scroll",h)}switch(c){case"input":Xr(h),Cu(h,w,!0);break;case"textarea":Xr(h),vl(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=rd)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(c,{is:h.is}):(i=E.createElement(c),c==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,c),i[jr]=o,i[Gl]=h,Vw(i,o,!1,!1),o.stateNode=i;e:{switch(E=Tl(c,h),c){case"dialog":tt("cancel",i),tt("close",i),g=h;break;case"iframe":case"object":case"embed":tt("load",i),g=h;break;case"video":case"audio":for(g=0;g<Hl.length;g++)tt(Hl[g],i);g=h;break;case"source":tt("error",i),g=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),g=h;break;case"details":tt("toggle",i),g=h;break;case"input":jo(i,h),g=Ci(i,h),tt("invalid",i);break;case"option":g=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Oo(i,h),g=yl(i,h),tt("invalid",i);break;default:g=h}El(c,g),P=g;for(w in P)if(P.hasOwnProperty(w)){var M=P[w];w==="style"?xl(i,M):w==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&wl(i,M)):w==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&Ss(i,M):typeof M=="number"&&Ss(i,""+M):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?M!=null&&w==="onScroll"&&tt("scroll",i):M!=null&&F(i,w,M,E))}switch(c){case"input":Xr(i),Cu(i,h,!1);break;case"textarea":Xr(i),vl(i);break;case"option":h.value!=null&&i.setAttribute("value",""+$e(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?Zr(i,!!h.multiple,w,!1):h.defaultValue!=null&&Zr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=rd)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(i&&o.stateNode!=null)Uw(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(c=Qi(Jl.current),Qi(Mr.current),ud(o)){if(h=o.stateNode,c=o.memoizedProps,h[jr]=o,(w=h.nodeValue!==c)&&(i=Mn,i!==null))switch(i.tag){case 3:nd(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&nd(h.nodeValue,c,(i.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[jr]=o,o.stateNode=h}return Zt(o),null;case 13:if(nt(at),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&On!==null&&(o.mode&1)!==0&&(o.flags&128)===0)$v(),ma(),o.flags|=98560,w=!1;else if(w=ud(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[jr]=o}else ma(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),w=!1}else pr!==null&&(em(pr),pr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?Rt===0&&(Rt=3):rm())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return wa(),$p(i,o),i===null&&Wl(o.stateNode.containerInfo),Zt(o),null;case 10:return yp(o.type._context),Zt(o),null;case 17:return Tn(o.type)&&id(),Zt(o),null;case 19:if(nt(at),w=o.memoizedState,w===null)return Zt(o),null;if(h=(o.flags&128)!==0,E=w.rendering,E===null)if(h)rc(w,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=gd(i),E!==null){for(o.flags|=128,rc(w,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,i=h,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,i=E.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Je(at,at.current&1|2),o.child}i=i.sibling}w.tail!==null&&Xe()>Ea&&(o.flags|=128,h=!0,rc(w,!1),o.lanes=4194304)}else{if(!h)if(i=gd(E),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),rc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!ot)return Zt(o),null}else 2*Xe()-w.renderingStartTime>Ea&&c!==1073741824&&(o.flags|=128,h=!0,rc(w,!1),o.lanes=4194304);w.isBackwards?(E.sibling=o.child,o.child=E):(c=w.last,c!==null?c.sibling=E:o.child=E,w.last=E)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Xe(),o.sibling=null,c=at.current,Je(at,h?c&1|2:c&1),o):(Zt(o),null);case 22:case 23:return nm(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ln&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function TC(i,o){switch(dp(o),o.tag){case 1:return Tn(o.type)&&id(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wa(),nt(En),nt(Xt),Tp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return bp(o),null;case 13:if(nt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ma()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(at),null;case 4:return wa(),null;case 10:return yp(o.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var kd=!1,en=!1,kC=typeof WeakSet=="function"?WeakSet:Set,de=null;function xa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(i,o,h)}else c.current=null}function Hp(i,o,c){try{c()}catch(h){dt(i,o,h)}}var Bw=!1;function IC(i,o){if(np=Ms,i=wv(),Kf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var E=0,P=-1,M=-1,q=0,ee=0,re=i,Z=null;t:for(;;){for(var ce;re!==c||g!==0&&re.nodeType!==3||(P=E+g),re!==w||h!==0&&re.nodeType!==3||(M=E+h),re.nodeType===3&&(E+=re.nodeValue.length),(ce=re.firstChild)!==null;)Z=re,re=ce;for(;;){if(re===i)break t;if(Z===c&&++q===g&&(P=E),Z===w&&++ee===h&&(M=E),(ce=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=ce}c=P===-1||M===-1?null:{start:P,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(rp={focusedElem:i,selectionRange:c},Ms=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,gt=he.memoizedState,H=o.stateNode,O=H.getSnapshotBeforeUpdate(o.elementType===o.type?pe:mr(o.type,pe),gt);H.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){dt(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return he=Bw,Bw=!1,he}function sc(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&Hp(o,c,w)}g=g.next}while(g!==h)}}function Id(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Wp(i){var o=i.ref;if(o!==null){var c=i.stateNode;i.tag,i=c,typeof o=="function"?o(i):o.current=i}}function zw(i){var o=i.alternate;o!==null&&(i.alternate=null,zw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[jr],delete o[Gl],delete o[ap],delete o[lC],delete o[cC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $w(i){return i.tag===5||i.tag===3||i.tag===4}function Hw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$w(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=rd));else if(h!==4&&(i=i.child,i!==null))for(qp(i,o,c),i=i.sibling;i!==null;)qp(i,o,c),i=i.sibling}function Gp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Gp(i,o,c),i=i.sibling;i!==null;)Gp(i,o,c),i=i.sibling}var Ht=null,gr=!1;function Hs(i,o,c){for(c=c.child;c!==null;)Ww(i,o,c),c=c.sibling}function Ww(i,o,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 5:en||xa(c,o);case 6:var h=Ht,g=gr;Ht=null,Hs(i,o,c),Ht=h,gr=g,Ht!==null&&(gr?(i=Ht,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Ht.removeChild(c.stateNode));break;case 18:Ht!==null&&(gr?(i=Ht,c=c.stateNode,i.nodeType===8?op(i.parentNode,c):i.nodeType===1&&op(i,c),dr(i)):op(Ht,c.stateNode));break;case 4:h=Ht,g=gr,Ht=c.stateNode.containerInfo,gr=!0,Hs(i,o,c),Ht=h,gr=g;break;case 0:case 11:case 14:case 15:if(!en&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var w=g,E=w.destroy;w=w.tag,E!==void 0&&((w&2)!==0||(w&4)!==0)&&Hp(c,o,E),g=g.next}while(g!==h)}Hs(i,o,c);break;case 1:if(!en&&(xa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(P){dt(c,o,P)}Hs(i,o,c);break;case 21:Hs(i,o,c);break;case 22:c.mode&1?(en=(h=en)||c.memoizedState!==null,Hs(i,o,c),en=h):Hs(i,o,c);break;default:Hs(i,o,c)}}function qw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new kC),o.forEach(function(h){var g=MC.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}}function yr(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var w=i,E=o,P=E;e:for(;P!==null;){switch(P.tag){case 5:Ht=P.stateNode,gr=!1;break e;case 3:Ht=P.stateNode.containerInfo,gr=!0;break e;case 4:Ht=P.stateNode.containerInfo,gr=!0;break e}P=P.return}if(Ht===null)throw Error(n(160));Ww(w,E,g),Ht=null,gr=!1;var M=g.alternate;M!==null&&(M.return=null),g.return=null}catch(q){dt(g,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gw(o,i),o=o.sibling}function Gw(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(yr(o,i),Lr(i),h&4){try{sc(3,i,i.return),Id(3,i)}catch(pe){dt(i,i.return,pe)}try{sc(5,i,i.return)}catch(pe){dt(i,i.return,pe)}}break;case 1:yr(o,i),Lr(i),h&512&&c!==null&&xa(c,c.return);break;case 5:if(yr(o,i),Lr(i),h&512&&c!==null&&xa(c,c.return),i.flags&32){var g=i.stateNode;try{Ss(g,"")}catch(pe){dt(i,i.return,pe)}}if(h&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,E=c!==null?c.memoizedProps:w,P=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&ml(g,w),Tl(P,E);var q=Tl(P,w);for(E=0;E<M.length;E+=2){var ee=M[E],re=M[E+1];ee==="style"?xl(g,re):ee==="dangerouslySetInnerHTML"?wl(g,re):ee==="children"?Ss(g,re):F(g,ee,re,q)}switch(P){case"input":gl(g,w);break;case"textarea":Lo(g,w);break;case"select":var Z=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ce=w.value;ce!=null?Zr(g,!!w.multiple,ce,!1):Z!==!!w.multiple&&(w.defaultValue!=null?Zr(g,!!w.multiple,w.defaultValue,!0):Zr(g,!!w.multiple,w.multiple?[]:"",!1))}g[Gl]=w}catch(pe){dt(i,i.return,pe)}}break;case 6:if(yr(o,i),Lr(i),h&4){if(i.stateNode===null)throw Error(n(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(pe){dt(i,i.return,pe)}}break;case 3:if(yr(o,i),Lr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{dr(o.containerInfo)}catch(pe){dt(i,i.return,pe)}break;case 4:yr(o,i),Lr(i);break;case 13:yr(o,i),Lr(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Yp=Xe())),h&4&&qw(i);break;case 22:if(ee=c!==null&&c.memoizedState!==null,i.mode&1?(en=(q=en)||ee,yr(o,i),en=q):yr(o,i),Lr(i),h&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!ee&&(i.mode&1)!==0)for(de=i,ee=i.child;ee!==null;){for(re=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:sc(4,Z,Z.return);break;case 1:xa(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){h=Z,c=Z.return;try{o=h,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(pe){dt(h,c,pe)}}break;case 5:xa(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Yw(re);continue}}ce!==null?(ce.return=Z,de=ce):Yw(re)}ee=ee.sibling}e:for(ee=null,re=i;;){if(re.tag===5){if(ee===null){ee=re;try{g=re.stateNode,q?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=re.stateNode,M=re.memoizedProps.style,E=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=_l("display",E))}catch(pe){dt(i,i.return,pe)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(pe){dt(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:yr(o,i),Lr(i),h&4&&qw(i);break;case 21:break;default:yr(o,i),Lr(i)}}function Lr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if($w(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Ss(g,""),h.flags&=-33);var w=Hw(i);Gp(i,w,g);break;case 3:case 4:var E=h.stateNode.containerInfo,P=Hw(i);qp(i,P,E);break;default:throw Error(n(161))}}catch(M){dt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function SC(i,o,c){de=i,Kw(i)}function Kw(i,o,c){for(var h=(i.mode&1)!==0;de!==null;){var g=de,w=g.child;if(g.tag===22&&h){var E=g.memoizedState!==null||kd;if(!E){var P=g.alternate,M=P!==null&&P.memoizedState!==null||en;P=kd;var q=en;if(kd=E,(en=M)&&!q)for(de=g;de!==null;)E=de,M=E.child,E.tag===22&&E.memoizedState!==null?Xw(g):M!==null?(M.return=E,de=M):Xw(g);for(;w!==null;)de=w,Kw(w),w=w.sibling;de=g,kd=P,en=q}Qw(i)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,de=w):Qw(i)}}function Qw(i){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||Id(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!en)if(c===null)h.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:mr(o.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Yv(o,w,h);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Yv(o,E,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&dr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||o.flags&512&&Wp(o)}catch(Z){dt(o,o.return,Z)}}if(o===i){de=null;break}if(c=o.sibling,c!==null){c.return=o.return,de=c;break}de=o.return}}function Yw(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var c=o.sibling;if(c!==null){c.return=o.return,de=c;break}de=o.return}}function Xw(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Id(4,o)}catch(M){dt(o,c,M)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(M){dt(o,g,M)}}var w=o.return;try{Wp(o)}catch(M){dt(o,w,M)}break;case 5:var E=o.return;try{Wp(o)}catch(M){dt(o,E,M)}}}catch(M){dt(o,o.return,M)}if(o===i){de=null;break}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break}de=o.return}}var CC=Math.ceil,Sd=Y.ReactCurrentDispatcher,Kp=Y.ReactCurrentOwner,Xn=Y.ReactCurrentBatchConfig,Fe=0,Lt=null,xt=null,Wt=0,Ln=0,ba=Fs(0),Rt=0,ic=null,Xi=0,Cd=0,Qp=0,oc=null,In=null,Yp=0,Ea=1/0,ps=null,Ad=!1,Xp=null,Ws=null,Pd=!1,qs=null,Rd=0,ac=0,Jp=null,Nd=-1,Dd=0;function mn(){return(Fe&6)!==0?Xe():Nd!==-1?Nd:Nd=Xe()}function Gs(i){return(i.mode&1)===0?1:(Fe&2)!==0&&Wt!==0?Wt&-Wt:dC.transition!==null?(Dd===0&&(Dd=Fi()),Dd):(i=je,i!==0||(i=window.event,i=i===void 0?16:Ml(i.type)),i)}function vr(i,o,c,h){if(50<ac)throw ac=0,Jp=null,Error(n(185));Rs(i,c,h),((Fe&2)===0||i!==Lt)&&(i===Lt&&((Fe&2)===0&&(Cd|=c),Rt===4&&Ks(i,Wt)),Sn(i,h),c===1&&Fe===0&&(o.mode&1)===0&&(Ea=Xe()+500,ad&&Bs()))}function Sn(i,o){var c=i.callbackNode;ns(i,o);var h=Vi(i,i===Lt?Wt:0);if(h===0)c!==null&&Pl(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&Pl(c),o===1)i.tag===0?uC(Zw.bind(null,i)):Vv(Zw.bind(null,i)),oC(function(){(Fe&6)===0&&Bs()}),c=null;else{switch(Ds(h)){case 1:c=Oi;break;case 4:c=Cs;break;case 16:c=Hn;break;case 536870912:c=Du;break;default:c=Hn}c=a_(c,Jw.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Jw(i,o){if(Nd=-1,Dd=0,(Fe&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Ta()&&i.callbackNode!==c)return null;var h=Vi(i,i===Lt?Wt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=jd(i,h);else{o=h;var g=Fe;Fe|=2;var w=t_();(Lt!==i||Wt!==o)&&(ps=null,Ea=Xe()+500,Zi(i,o));do try{RC();break}catch(P){e_(i,P)}while(!0);gp(),Sd.current=w,Fe=g,xt!==null?o=0:(Lt=null,Wt=0,o=Rt)}if(o!==0){if(o===2&&(g=Nn(i),g!==0&&(h=g,o=Zp(i,g))),o===1)throw c=ic,Zi(i,0),Ks(i,h),Sn(i,Xe()),c;if(o===6)Ks(i,h);else{if(g=i.current.alternate,(h&30)===0&&!AC(g)&&(o=jd(i,h),o===2&&(w=Nn(i),w!==0&&(h=w,o=Zp(i,w))),o===1))throw c=ic,Zi(i,0),Ks(i,h),Sn(i,Xe()),c;switch(i.finishedWork=g,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:eo(i,In,ps);break;case 3:if(Ks(i,h),(h&130023424)===h&&(o=Yp+500-Xe(),10<o)){if(Vi(i,0)!==0)break;if(g=i.suspendedLanes,(g&h)!==h){mn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=ip(eo.bind(null,i,In,ps),o);break}eo(i,In,ps);break;case 4:if(Ks(i,h),(h&4194240)===h)break;for(o=i.eventTimes,g=-1;0<h;){var E=31-hn(h);w=1<<E,E=o[E],E>g&&(g=E),h&=~w}if(h=g,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*CC(h/1960))-h,10<h){i.timeoutHandle=ip(eo.bind(null,i,In,ps),h);break}eo(i,In,ps);break;case 5:eo(i,In,ps);break;default:throw Error(n(329))}}}return Sn(i,Xe()),i.callbackNode===c?Jw.bind(null,i):null}function Zp(i,o){var c=oc;return i.current.memoizedState.isDehydrated&&(Zi(i,o).flags|=256),i=jd(i,o),i!==2&&(o=In,In=c,o!==null&&em(o)),i}function em(i){In===null?In=i:In.push.apply(In,i)}function AC(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],w=g.getSnapshot;g=g.value;try{if(!fr(w(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(i,o){for(o&=~Qp,o&=~Cd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-hn(o),h=1<<c;i[c]=-1,o&=~h}}function Zw(i){if((Fe&6)!==0)throw Error(n(327));Ta();var o=Vi(i,0);if((o&1)===0)return Sn(i,Xe()),null;var c=jd(i,o);if(i.tag!==0&&c===2){var h=Nn(i);h!==0&&(o=h,c=Zp(i,h))}if(c===1)throw c=ic,Zi(i,0),Ks(i,o),Sn(i,Xe()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,eo(i,In,ps),Sn(i,Xe()),null}function tm(i,o){var c=Fe;Fe|=1;try{return i(o)}finally{Fe=c,Fe===0&&(Ea=Xe()+500,ad&&Bs())}}function Ji(i){qs!==null&&qs.tag===0&&(Fe&6)===0&&Ta();var o=Fe;Fe|=1;var c=Xn.transition,h=je;try{if(Xn.transition=null,je=1,i)return i()}finally{je=h,Xn.transition=c,Fe=o,(Fe&6)===0&&Bs()}}function nm(){Ln=ba.current,nt(ba)}function Zi(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,iC(c)),xt!==null)for(c=xt.return;c!==null;){var h=c;switch(dp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&id();break;case 3:wa(),nt(En),nt(Xt),Tp();break;case 5:bp(h);break;case 4:wa();break;case 13:nt(at);break;case 19:nt(at);break;case 10:yp(h.type._context);break;case 22:case 23:nm()}c=c.return}if(Lt=i,xt=i=Qs(i.current,null),Wt=Ln=o,Rt=0,ic=null,Qp=Cd=Xi=0,In=oc=null,Ki!==null){for(o=0;o<Ki.length;o++)if(c=Ki[o],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,w=c.pending;if(w!==null){var E=w.next;w.next=g,h.next=E}c.pending=h}Ki=null}return i}function e_(i,o){do{var c=xt;try{if(gp(),yd.current=xd,vd){for(var h=lt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}vd=!1}if(Yi=0,Ot=Pt=lt=null,Zl=!1,ec=0,Kp.current=null,c===null||c.return===null){Rt=1,ic=o,xt=null;break}e:{var w=i,E=c.return,P=c,M=o;if(o=Wt,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ee=P,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=kw(E);if(ce!==null){ce.flags&=-257,Iw(ce,E,P,w,o),ce.mode&1&&Tw(w,q,o),o=ce,M=q;var he=o.updateQueue;if(he===null){var pe=new Set;pe.add(M),o.updateQueue=pe}else he.add(M);break e}else{if((o&1)===0){Tw(w,q,o),rm();break e}M=Error(n(426))}}else if(ot&&P.mode&1){var gt=kw(E);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Iw(gt,E,P,w,o),pp(_a(M,P));break e}}w=M=_a(M,P),Rt!==4&&(Rt=2),oc===null?oc=[w]:oc.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=bw(w,M,o);Qv(w,H);break e;case 1:P=M;var O=w.type,W=w.stateNode;if((w.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ws===null||!Ws.has(W)))){w.flags|=65536,o&=-o,w.lanes|=o;var ie=Ew(w,P,o);Qv(w,ie);break e}}w=w.return}while(w!==null)}r_(c)}catch(ye){o=ye,xt===c&&c!==null&&(xt=c=c.return);continue}break}while(!0)}function t_(){var i=Sd.current;return Sd.current=xd,i===null?xd:i}function rm(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Lt===null||(Xi&268435455)===0&&(Cd&268435455)===0||Ks(Lt,Wt)}function jd(i,o){var c=Fe;Fe|=2;var h=t_();(Lt!==i||Wt!==o)&&(ps=null,Zi(i,o));do try{PC();break}catch(g){e_(i,g)}while(!0);if(gp(),Fe=c,Sd.current=h,xt!==null)throw Error(n(261));return Lt=null,Wt=0,Rt}function PC(){for(;xt!==null;)n_(xt)}function RC(){for(;xt!==null&&!Ru();)n_(xt)}function n_(i){var o=o_(i.alternate,i,Ln);i.memoizedProps=i.pendingProps,o===null?r_(i):xt=o,Kp.current=null}function r_(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=EC(c,o,Ln),c!==null){xt=c;return}}else{if(c=TC(c,o),c!==null){c.flags&=32767,xt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Rt=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=i}while(o!==null);Rt===0&&(Rt=5)}function eo(i,o,c){var h=je,g=Xn.transition;try{Xn.transition=null,je=1,NC(i,o,c,h)}finally{Xn.transition=g,je=h}return null}function NC(i,o,c,h){do Ta();while(qs!==null);if((Fe&6)!==0)throw Error(n(327));c=i.finishedWork;var g=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ke(i,w),i===Lt&&(xt=Lt=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pd||(Pd=!0,a_(Hn,function(){return Ta(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Xn.transition,Xn.transition=null;var E=je;je=1;var P=Fe;Fe|=4,Kp.current=null,IC(i,c),Gw(c,i),JS(rp),Ms=!!np,rp=np=null,i.current=c,SC(c),Uf(),Fe=P,je=E,Xn.transition=w}else i.current=c;if(Pd&&(Pd=!1,qs=i,Rd=g),w=i.pendingLanes,w===0&&(Ws=null),ju(c.stateNode),Sn(i,Xe()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)g=o[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Ad)throw Ad=!1,i=Xp,Xp=null,i;return(Rd&1)!==0&&i.tag!==0&&Ta(),w=i.pendingLanes,(w&1)!==0?i===Jp?ac++:(ac=0,Jp=i):ac=0,Bs(),null}function Ta(){if(qs!==null){var i=Ds(Rd),o=Xn.transition,c=je;try{if(Xn.transition=null,je=16>i?16:i,qs===null)var h=!1;else{if(i=qs,qs=null,Rd=0,(Fe&6)!==0)throw Error(n(331));var g=Fe;for(Fe|=4,de=i.current;de!==null;){var w=de,E=w.child;if((de.flags&16)!==0){var P=w.deletions;if(P!==null){for(var M=0;M<P.length;M++){var q=P[M];for(de=q;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:sc(8,ee,w)}var re=ee.child;if(re!==null)re.return=ee,de=re;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(zw(ee),ee===q){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var he=w.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var gt=pe.sibling;pe.sibling=null,pe=gt}while(pe!==null)}}de=w}}if((w.subtreeFlags&2064)!==0&&E!==null)E.return=w,de=E;else e:for(;de!==null;){if(w=de,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:sc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,de=H;break e}de=w.return}}var O=i.current;for(de=O;de!==null;){E=de;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,de=W;else e:for(E=O;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Id(9,P)}}catch(ye){dt(P,P.return,ye)}if(P===E){de=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,de=ie;break e}de=P.return}}if(Fe=g,Bs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Li,i)}catch{}h=!0}return h}finally{je=c,Xn.transition=o}}return!1}function s_(i,o,c){o=_a(c,o),o=bw(i,o,1),i=$s(i,o,1),o=mn(),i!==null&&(Rs(i,1,o),Sn(i,o))}function dt(i,o,c){if(i.tag===3)s_(i,i,c);else for(;o!==null;){if(o.tag===3){s_(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ws===null||!Ws.has(h))){i=_a(c,i),i=Ew(o,i,1),o=$s(o,i,1),i=mn(),o!==null&&(Rs(o,1,i),Sn(o,i));break}}o=o.return}}function DC(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=mn(),i.pingedLanes|=i.suspendedLanes&c,Lt===i&&(Wt&c)===c&&(Rt===4||Rt===3&&(Wt&130023424)===Wt&&500>Xe()-Yp?Zi(i,0):Qp|=c),Sn(i,o)}function i_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var c=mn();i=ds(i,o),i!==null&&(Rs(i,o,c),Sn(i,c))}function jC(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),i_(i,c)}function MC(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),i_(i,c)}var o_;o_=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||En.current)kn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return kn=!1,bC(i,o,c);kn=(i.flags&131072)!==0}else kn=!1,ot&&(o.flags&1048576)!==0&&Fv(o,cd,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Td(i,o),i=o.pendingProps;var g=ha(o,Xt.current);va(o,c),g=Sp(null,o,h,i,g,c);var w=Cp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(h)?(w=!0,od(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,_p(o),g.updater=bd,o.stateNode=g,g._reactInternals=o,jp(o,h,i,c),o=Vp(null,o,h,!0,w,c)):(o.tag=0,ot&&w&&up(o),pn(null,o,g,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Td(i,o),i=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=LC(h),i=mr(h,i),g){case 0:o=Lp(null,o,h,i,c);break e;case 1:o=Nw(null,o,h,i,c);break e;case 11:o=Sw(null,o,h,i,c);break e;case 14:o=Cw(null,o,h,mr(h.type,i),c);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:mr(h,g),Lp(i,o,h,g,c);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:mr(h,g),Nw(i,o,h,g,c);case 3:e:{if(Dw(o),i===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,g=w.element,Kv(i,o),md(o,h,null,c);var E=o.memoizedState;if(h=E.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=_a(Error(n(423)),o),o=jw(i,o,h,c,g);break e}else if(h!==g){g=_a(Error(n(424)),o),o=jw(i,o,h,c,g);break e}else for(On=Vs(o.stateNode.containerInfo.firstChild),Mn=o,ot=!0,pr=null,c=qv(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ma(),h===g){o=fs(i,o,c);break e}pn(i,o,h,c)}o=o.child}return o;case 5:return Xv(o),i===null&&fp(o),h=o.type,g=o.pendingProps,w=i!==null?i.memoizedProps:null,E=g.children,sp(h,g)?E=null:w!==null&&sp(h,w)&&(o.flags|=32),Rw(i,o),pn(i,o,E,c),o.child;case 6:return i===null&&fp(o),null;case 13:return Mw(i,o,c);case 4:return xp(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ga(o,null,h,c):pn(i,o,h,c),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:mr(h,g),Sw(i,o,h,g,c);case 7:return pn(i,o,o.pendingProps,c),o.child;case 8:return pn(i,o,o.pendingProps.children,c),o.child;case 12:return pn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,w=o.memoizedProps,E=g.value,Je(hd,h._currentValue),h._currentValue=E,w!==null)if(fr(w.value,E)){if(w.children===g.children&&!En.current){o=fs(i,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var P=w.dependencies;if(P!==null){E=w.child;for(var M=P.firstContext;M!==null;){if(M.context===h){if(w.tag===1){M=hs(-1,c&-c),M.tag=2;var q=w.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),q.pending=M}}w.lanes|=c,M=w.alternate,M!==null&&(M.lanes|=c),vp(w.return,c,o),P.lanes|=c;break}M=M.next}}else if(w.tag===10)E=w.type===o.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=c,P=E.alternate,P!==null&&(P.lanes|=c),vp(E,c,o),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===o){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}pn(i,o,g.children,c),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,va(o,c),g=Qn(g),h=h(g),o.flags|=1,pn(i,o,h,c),o.child;case 14:return h=o.type,g=mr(h,o.pendingProps),g=mr(h.type,g),Cw(i,o,h,g,c);case 15:return Aw(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:mr(h,g),Td(i,o),o.tag=1,Tn(h)?(i=!0,od(o)):i=!1,va(o,c),_w(o,h,g),jp(o,h,g,c),Vp(null,o,h,!0,i,c);case 19:return Lw(i,o,c);case 22:return Pw(i,o,c)}throw Error(n(156,o.tag))};function a_(i,o){return Wo(i,o)}function OC(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,o,c,h){return new OC(i,o,c,h)}function sm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function LC(i){if(typeof i=="function")return sm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===It)return 14}return 2}function Qs(i,o){var c=i.alternate;return c===null?(c=Jn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Md(i,o,c,h,g,w){var E=2;if(h=i,typeof i=="function")sm(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case j:return to(c.children,g,w,o);case S:E=8,g|=8;break;case A:return i=Jn(12,c,o,g|2),i.elementType=A,i.lanes=w,i;case R:return i=Jn(13,c,o,g),i.elementType=R,i.lanes=w,i;case st:return i=Jn(19,c,o,g),i.elementType=st,i.lanes=w,i;case Ie:return Od(c,g,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:E=10;break e;case L:E=9;break e;case U:E=11;break e;case It:E=14;break e;case Bt:E=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Jn(E,c,o,g),o.elementType=i,o.type=h,o.lanes=w,o}function to(i,o,c,h){return i=Jn(7,i,h,o),i.lanes=c,i}function Od(i,o,c,h){return i=Jn(22,i,h,o),i.elementType=Ie,i.lanes=c,i.stateNode={isHidden:!1},i}function im(i,o,c){return i=Jn(6,i,null,o),i.lanes=c,i}function om(i,o,c){return o=Jn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function VC(i,o,c,h,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function am(i,o,c,h,g,w,E,P,M){return i=new VC(i,o,c,P,M),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Jn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(w),i}function FC(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function l_(i){if(!i)return Us;i=i._reactInternals;e:{if(or(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(Tn(c))return Ov(i,c,o)}return o}function c_(i,o,c,h,g,w,E,P,M){return i=am(c,h,!0,i,g,w,E,P,M),i.context=l_(null),c=i.current,h=mn(),g=Gs(c),w=hs(h,g),w.callback=o??null,$s(c,w,g),i.current.lanes=g,Rs(i,g,h),Sn(i,h),i}function Ld(i,o,c,h){var g=o.current,w=mn(),E=Gs(g);return c=l_(c),o.context===null?o.context=c:o.pendingContext=c,o=hs(w,E),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=$s(g,o,E),i!==null&&(vr(i,g,E,w),pd(i,g,E)),E}function Vd(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function u_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function lm(i,o){u_(i,o),(i=i.alternate)&&u_(i,o)}function UC(){return null}var d_=typeof reportError=="function"?reportError:function(i){console.error(i)};function cm(i){this._internalRoot=i}Fd.prototype.render=cm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Ld(i,o,null,null)},Fd.prototype.unmount=cm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ji(function(){Ld(null,i,null,null)}),o[as]=null}};function Fd(i){this._internalRoot=i}Fd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fu();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Pr.length&&o!==0&&o<Pr[c].priority;c++);Pr.splice(c,0,i),c===0&&zu(i)}};function um(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ud(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function h_(){}function BC(i,o,c,h,g){if(g){if(typeof h=="function"){var w=h;h=function(){var q=Vd(E);w.call(q)}}var E=c_(o,h,i,0,null,!1,!1,"",h_);return i._reactRootContainer=E,i[as]=E.current,Wl(i.nodeType===8?i.parentNode:i),Ji(),E}for(;g=i.lastChild;)i.removeChild(g);if(typeof h=="function"){var P=h;h=function(){var q=Vd(M);P.call(q)}}var M=am(i,0,!1,null,null,!1,!1,"",h_);return i._reactRootContainer=M,i[as]=M.current,Wl(i.nodeType===8?i.parentNode:i),Ji(function(){Ld(o,M,c,h)}),M}function Bd(i,o,c,h,g){var w=c._reactRootContainer;if(w){var E=w;if(typeof g=="function"){var P=g;g=function(){var M=Vd(E);P.call(M)}}Ld(o,E,i,g)}else E=BC(c,o,i,g,h);return Vd(E)}Lu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=As(o.pendingLanes);c!==0&&(Ns(o,c|1),Sn(o,Xe()),(Fe&6)===0&&(Ea=Xe()+500,Bs()))}break;case 13:Ji(function(){var h=ds(i,1);if(h!==null){var g=mn();vr(h,i,1,g)}}),lm(i,1)}},Ko=function(i){if(i.tag===13){var o=ds(i,134217728);if(o!==null){var c=mn();vr(o,i,134217728,c)}lm(i,134217728)}},Vu=function(i){if(i.tag===13){var o=Gs(i),c=ds(i,o);if(c!==null){var h=mn();vr(c,i,o,h)}lm(i,o)}},Fu=function(){return je},Uu=function(i,o){var c=je;try{return je=i,o()}finally{je=c}},Fo=function(i,o,c){switch(o){case"input":if(gl(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var g=sd(h);if(!g)throw Error(n(90));Do(h),gl(h,g)}}}break;case"textarea":Lo(i,c);break;case"select":o=c.value,o!=null&&Zr(i,!!c.multiple,o,!1)}},Ni=tm,Il=Ji;var zC={usingClientEntryPoint:!1,Events:[Kl,ua,sd,Cr,kl,tm]},lc={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Al(i),i===null?null:i.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Li=zd.inject($C),Rn=zd}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC,Cn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(o))throw Error(n(200));return FC(i,o,null,c)},Cn.createRoot=function(i,o){if(!um(i))throw Error(n(299));var c=!1,h="",g=d_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=am(i,1,!1,null,null,c,!1,h,g),i[as]=o.current,Wl(i.nodeType===8?i.parentNode:i),new cm(o)},Cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Al(o),i=i===null?null:i.stateNode,i},Cn.flushSync=function(i){return Ji(i)},Cn.hydrate=function(i,o,c){if(!Ud(o))throw Error(n(200));return Bd(null,i,o,!0,c)},Cn.hydrateRoot=function(i,o,c){if(!um(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,w="",E=d_;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=c_(o,null,i,1,c??null,g,!1,w,E),i[as]=o.current,Wl(i),h)for(i=0;i<h.length;i++)c=h[i],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Fd(o)},Cn.render=function(i,o,c){if(!Ud(o))throw Error(n(200));return Bd(null,i,o,!1,c)},Cn.unmountComponentAtNode=function(i){if(!Ud(i))throw Error(n(40));return i._reactRootContainer?(Ji(function(){Bd(null,null,i,!1,function(){i._reactRootContainer=null,i[as]=null})}),!0):!1},Cn.unstable_batchedUpdates=tm,Cn.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Ud(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Bd(i,o,c,!1,h)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var __;function J1(){if(__)return fm.exports;__=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fm.exports=JC(),fm.exports}var x_;function ZC(){if(x_)return $d;x_=1;var t=J1();return $d.createRoot=t.createRoot,$d.hydrateRoot=t.hydrateRoot,$d}var eA=ZC();const tA=Y1(eA);J1();function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const b_="popstate";function nA(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:l,hash:u}=r.location;return eg("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Z1(s)}return sA(e,n,null,t)}function kt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ry(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substr(2,8)}function E_(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n,r){return n===void 0&&(n=null),Nc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tl(e):e,{state:n,key:e&&e.key||r||rA()})}function Z1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u=ii.Pop,f=null,m=y();m==null&&(m=0,l.replaceState(Nc({},l.state,{idx:m}),""));function y(){return(l.state||{idx:null}).idx}function _(){u=ii.Pop;let C=y(),z=C==null?null:C-m;m=C,f&&f({action:u,location:N.location,delta:z})}function b(C,z){u=ii.Push;let G=eg(N.location,C,z);m=y()+1;let F=E_(G,m),Y=N.createHref(G);try{l.pushState(F,"",Y)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(Y)}a&&f&&f({action:u,location:N.location,delta:1})}function T(C,z){u=ii.Replace;let G=eg(N.location,C,z);m=y();let F=E_(G,m),Y=N.createHref(G);l.replaceState(F,"",Y),a&&f&&f({action:u,location:N.location,delta:0})}function I(C){let z=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof C=="string"?C:Z1(C);return G=G.replace(/ $/,"%20"),kt(z,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,z)}let N={get action(){return u},get location(){return t(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(b_,_),f=C,()=>{s.removeEventListener(b_,_),f=null}},createHref(C){return e(s,C)},createURL:I,encodeLocation(C){let z=I(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:b,replace:T,go(C){return l.go(C)}};return N}var T_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T_||(T_={}));function iA(t,e,n){return n===void 0&&(n="/"),oA(t,e,n)}function oA(t,e,n,r){let s=typeof e=="string"?tl(e):e,a=nE(s.pathname||"/",n);if(a==null)return null;let l=eE(t);aA(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=wA(a);u=gA(l[f],m)}return u}function eE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=uo([r,f.relativePath]),y=n.concat(f);a.children&&a.children.length>0&&(kt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),eE(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:pA(m,a.index),routesMeta:y})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let f of tE(a.path))s(a,l,f)}),e}function tE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=tE(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function aA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lA=/^:[\w-]+$/,cA=3,uA=2,dA=1,hA=10,fA=-2,k_=t=>t==="*";function pA(t,e){let n=t.split("/"),r=n.length;return n.some(k_)&&(r+=fA),e&&(r+=uA),n.filter(s=>!k_(s)).reduce((s,a)=>s+(lA.test(a)?cA:a===""?dA:hA),r)}function mA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gA(t,e,n){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=yA({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:uo([a,_.pathname]),pathnameBase:TA(uo([a,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(a=uo([a,_.pathnameBase]))}return l}function yA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,y,_)=>{let{paramName:b,isOptional:T}=y;if(b==="*"){let N=u[_]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const I=u[_];return T&&!I?m[b]=void 0:m[b]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function vA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ry(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ry(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xA=t=>_A.test(t);function bA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?tl(t):t,a;if(n)if(xA(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ry(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=I_(n.substring(1),"/"):a=I_(n,e)}else a=e;return{pathname:a,search:kA(r),hash:IA(s)}}function I_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rE(t,e){let n=EA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sE(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=tl(t):(s=Nc({},t),kt(!s.pathname||!s.pathname.includes("?"),gm("?","pathname","search",s)),kt(!s.pathname||!s.pathname.includes("#"),gm("#","pathname","hash",s)),kt(!s.search||!s.search.includes("#"),gm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),_-=1;s.pathname=b.join("/")}u=_>=0?e[_]:"/"}let f=bA(s,u),m=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const uo=t=>t.join("/").replace(/\/\/+/g,"/"),TA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iE=["post","put","patch","delete"];new Set(iE);const CA=["get",...iE];new Set(CA);function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}const sy=V.createContext(null),AA=V.createContext(null),eu=V.createContext(null),ef=V.createContext(null),ko=V.createContext({outlet:null,matches:[],isDataRoute:!1}),oE=V.createContext(null);function tu(){return V.useContext(ef)!=null}function tf(){return tu()||kt(!1),V.useContext(ef).location}function aE(t){V.useContext(eu).static||V.useLayoutEffect(t)}function nu(){let{isDataRoute:t}=V.useContext(ko);return t?zA():PA()}function PA(){tu()||kt(!1);let t=V.useContext(sy),{basename:e,future:n,navigator:r}=V.useContext(eu),{matches:s}=V.useContext(ko),{pathname:a}=tf(),l=JSON.stringify(rE(s,n.v7_relativeSplatPath)),u=V.useRef(!1);return aE(()=>{u.current=!0}),V.useCallback(function(m,y){if(y===void 0&&(y={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let _=sE(m,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:uo([e,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[e,r,l,a,t])}function RA(t,e){return NA(t,e)}function NA(t,e,n,r){tu()||kt(!1);let{navigator:s}=V.useContext(eu),{matches:a}=V.useContext(ko),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=tf(),y;if(e){var _;let C=typeof e=="string"?tl(e):e;f==="/"||(_=C.pathname)!=null&&_.startsWith(f)||kt(!1),y=C}else y=m;let b=y.pathname||"/",T=b;if(f!=="/"){let C=f.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=iA(t,{pathname:T}),N=LA(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:uo([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:uo([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&N?V.createElement(ef.Provider,{value:{location:Dc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ii.Pop}},N):N}function DA(){let t=BA(),e=SA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const jA=V.createElement(DA,null);class MA extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(ko.Provider,{value:this.props.routeContext},V.createElement(oE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OA(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext(sy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ko.Provider,{value:e},r)}function LA(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let y=l.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);y>=0||kt(!1),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:b,errors:T}=n,I=_.route.loader&&b[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((y,_,b)=>{let T,I=!1,N=null,C=null;n&&(T=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||jA,f&&(m<0&&b===0?($A("route-fallback"),I=!0,C=null):m===b&&(I=!0,C=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,b+1)),G=()=>{let F;return T?F=N:I?F=C:_.route.Component?F=V.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=y,V.createElement(OA,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?V.createElement(MA,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):G()},null)}var lE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(lE||{}),cE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(cE||{});function VA(t){let e=V.useContext(sy);return e||kt(!1),e}function FA(t){let e=V.useContext(AA);return e||kt(!1),e}function UA(t){let e=V.useContext(ko);return e||kt(!1),e}function uE(t){let e=UA(),n=e.matches[e.matches.length-1];return n.route.id||kt(!1),n.route.id}function BA(){var t;let e=V.useContext(oE),n=FA(),r=uE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zA(){let{router:t}=VA(lE.UseNavigateStable),e=uE(cE.UseNavigateStable),n=V.useRef(!1);return aE(()=>{n.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Dc({fromRouteId:e},a)))},[t,e])}const S_={};function $A(t,e,n){S_[t]||(S_[t]=!0)}function HA(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function ka(t){let{to:e,replace:n,state:r,relative:s}=t;tu()||kt(!1);let{future:a,static:l}=V.useContext(eu),{matches:u}=V.useContext(ko),{pathname:f}=tf(),m=nu(),y=sE(e,rE(u,a.v7_relativeSplatPath),f,s==="path"),_=JSON.stringify(y);return V.useEffect(()=>m(JSON.parse(_),{replace:n,state:r,relative:s}),[m,_,s,n,r]),null}function _r(t){kt(!1)}function WA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ii.Pop,navigator:a,static:l=!1,future:u}=t;tu()&&kt(!1);let f=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:l,future:Dc({v7_relativeSplatPath:!1},u)}),[f,u,a,l]);typeof r=="string"&&(r=tl(r));let{pathname:y="/",search:_="",hash:b="",state:T=null,key:I="default"}=r,N=V.useMemo(()=>{let C=nE(y,f);return C==null?null:{location:{pathname:C,search:_,hash:b,state:T,key:I},navigationType:s}},[f,y,_,b,T,I,s]);return N==null?null:V.createElement(eu.Provider,{value:m},V.createElement(ef.Provider,{children:n,value:N}))}function qA(t){let{children:e,location:n}=t;return RA(tg(e),n)}new Promise(()=>{});function tg(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let a=[...e,s];if(r.type===V.Fragment){n.push.apply(n,tg(r.props.children,a));return}r.type!==_r&&kt(!1),!r.props.index||!r.props.children||kt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=tg(r.props.children,a)),n.push(l)}),n}const GA="6";try{window.__reactRouterVersion=GA}catch{}const KA="startTransition",C_=QC[KA];function QA(t){let{basename:e,children:n,future:r,window:s}=t,a=V.useRef();a.current==null&&(a.current=nA({window:s,v5Compat:!0}));let l=a.current,[u,f]=V.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},y=V.useCallback(_=>{m&&C_?C_(()=>f(_)):f(_)},[f,m]);return V.useLayoutEffect(()=>l.listen(y),[l,y]),V.useEffect(()=>HA(r),[r]),V.createElement(WA,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var A_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A_||(A_={}));var P_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P_||(P_={}));var R_={};const dE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],u=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,y=a>>2,_=(a&3)<<4|u>>4;let b=(u&15)<<2|m>>6,T=m&63;f||(T=64,l||(b=64)),r.push(n[y],n[_],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||u==null||m==null||_==null)throw new XA;const b=a<<2|u>>4;if(r.push(b),m!==64){const T=u<<4&240|m>>2;if(r.push(T),_!==64){const I=m<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(t){const e=dE(t);return hE.encodeByteArray(e,!0)},_h=function(t){return JA(t).replace(/\./g,"")},fE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eP=()=>ZA().__FIREBASE_DEFAULTS__,tP=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fE(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return eP()||tP()||nP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pE=t=>{var e,n;return(n=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iy=t=>{const e=pE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mE=()=>{var t;return(t=nf())===null||t===void 0?void 0:t.config},gE=t=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${t}`]};class rP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function yE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_h(JSON.stringify(n)),_h(JSON.stringify(l)),""].join(".")}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function iP(){var t;const e=(t=nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cP(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uP(){return!iP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dP(){try{return typeof indexedDB=="object"}catch{return!1}}function hP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}const fP="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fP,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?pP(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Ir(s,u,r)}}function pP(t,e){return t.replace(mP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mP=/\{\$([^}]+)}/g;function gP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(N_(a)&&N_(l)){if(!xh(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yP(t,e){const n=new vP(t,e);return n.subscribe.bind(n)}class vP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ym),s.error===void 0&&(s.error=ym),s.complete===void 0&&(s.complete=ym);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ym(){}function Qe(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const so="[DEFAULT]";class _P{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bP(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xP(t){return t===so?void 0:t}function bP(t){return t.instantiationMode==="EAGER"}class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _P(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const TP={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},kP=Me.INFO,IP={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},SP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=IP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oy{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=SP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const CP=(t,e)=>e.some(n=>t instanceof n);let D_,j_;function AP(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PP(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,ng=new WeakMap,wE=new WeakMap,vm=new WeakMap,ay=new WeakMap;function RP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(di(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,t)}).catch(()=>{}),ay.set(e,t),e}function NP(t){if(ng.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ng.set(t,e)}let rg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DP(t){rg=t(rg)}function jP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wm(this),e,...n);return wE.set(r,e.sort?e.sort():[e]),di(r)}:PP().includes(t)?function(...e){return t.apply(wm(this),e),di(vE.get(this))}:function(...e){return di(t.apply(wm(this),e))}}function MP(t){return typeof t=="function"?jP(t):(t instanceof IDBTransaction&&NP(t),CP(t,AP())?new Proxy(t,rg):t)}function di(t){if(t instanceof IDBRequest)return RP(t);if(vm.has(t))return vm.get(t);const e=MP(t);return e!==t&&(vm.set(t,e),ay.set(e,t)),e}const wm=t=>ay.get(t);function OP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=di(l);return r&&l.addEventListener("upgradeneeded",f=>{r(di(l.result),f.oldVersion,f.newVersion,di(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const LP=["get","getKey","getAll","getAllKeys","count"],VP=["put","add","delete","clear"],_m=new Map;function M_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||LP.includes(n)))return;const a=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),s&&f.done]))[0]};return _m.set(e,a),a}DP(t=>({...t,get:(e,n,r)=>M_(e,n)||t.get(e,n,r),has:(e,n)=>!!M_(e,n)||t.has(e,n)}));class FP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UP(t){const e=t.getComponent();return e?.type==="VERSION"}const sg="@firebase/app",O_="0.10.13";const xs=new oy("@firebase/app"),BP="@firebase/app-compat",zP="@firebase/analytics-compat",$P="@firebase/analytics",HP="@firebase/app-check-compat",WP="@firebase/app-check",qP="@firebase/auth",GP="@firebase/auth-compat",KP="@firebase/database",QP="@firebase/data-connect",YP="@firebase/database-compat",XP="@firebase/functions",JP="@firebase/functions-compat",ZP="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",rR="@firebase/performance",sR="@firebase/performance-compat",iR="@firebase/remote-config",oR="@firebase/remote-config-compat",aR="@firebase/storage",lR="@firebase/storage-compat",cR="@firebase/firestore",uR="@firebase/vertexai-preview",dR="@firebase/firestore-compat",hR="firebase",fR="10.14.1";const ig="[DEFAULT]",pR={[sg]:"fire-core",[BP]:"fire-core-compat",[$P]:"fire-analytics",[zP]:"fire-analytics-compat",[WP]:"fire-app-check",[HP]:"fire-app-check-compat",[qP]:"fire-auth",[GP]:"fire-auth-compat",[KP]:"fire-rtdb",[QP]:"fire-data-connect",[YP]:"fire-rtdb-compat",[XP]:"fire-fn",[JP]:"fire-fn-compat",[ZP]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[rR]:"fire-perf",[sR]:"fire-perf-compat",[iR]:"fire-rc",[oR]:"fire-rc-compat",[aR]:"fire-gcs",[lR]:"fire-gcs-compat",[cR]:"fire-fst",[dR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};const bh=new Map,mR=new Map,og=new Map;function L_(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(og.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(const n of bh.values())L_(n,t);for(const n of mR.values())L_(n,t);return!0}function iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new ru("app","Firebase",gR);class yR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}const Io=fR;function _E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw hi.create("bad-app-name",{appName:String(s)});if(n||(n=mE()),!n)throw hi.create("no-options");const a=bh.get(s);if(a){if(xh(n,a.options)&&xh(r,a.config))return a;throw hi.create("duplicate-app",{appName:s})}const l=new EP(s);for(const f of og.values())l.addComponent(f);const u=new yR(n,r,l);return bh.set(s,u),u}function rf(t=ig){const e=bh.get(t);if(!e&&t===ig&&mE())return _E();if(!e)throw hi.create("no-app",{appName:t});return e}function tr(t,e,n){var r;let s=(r=pR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(u.join(" "));return}gi(new _s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const vR="firebase-heartbeat-database",wR=1,jc="firebase-heartbeat-store";let xm=null;function xE(){return xm||(xm=OP(vR,wR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),xm}async function _R(t){try{const n=(await xE()).transaction(jc),r=await n.objectStore(jc).get(bE(t));return await n.done,r}catch(e){if(e instanceof Ir)xs.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e?.message});xs.warn(n.message)}}}async function V_(t,e){try{const r=(await xE()).transaction(jc,"readwrite");await r.objectStore(jc).put(e,bE(t)),await r.done}catch(n){if(n instanceof Ir)xs.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n?.message});xs.warn(r.message)}}}function bE(t){return`${t.name}!${t.options.appId}`}const xR=1024,bR=720*60*60*1e3;class ER{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=bR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F_(),{heartbeatsToSend:r,unsentEntries:s}=TR(this._heartbeatsCache.heartbeats),a=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xs.warn(n),""}}}function F_(){return new Date().toISOString().substring(0,10)}function TR(t,e=xR){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),U_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),U_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dP()?hP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _R(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function U_(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}function IR(t){gi(new _s("platform-logger",e=>new FP(e),"PRIVATE")),gi(new _s("heartbeat",e=>new ER(e),"PRIVATE")),tr(sg,O_,t),tr(sg,O_,"esm2017"),tr("fire-js","")}IR("");function ly(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SR=EE,TE=new ru("auth","Firebase",EE());const Eh=new oy("@firebase/auth");function CR(t,...e){Eh.logLevel<=Me.WARN&&Eh.warn(`Auth (${Io}): ${t}`,...e)}function rh(t,...e){Eh.logLevel<=Me.ERROR&&Eh.error(`Auth (${Io}): ${t}`,...e)}function Tr(t,...e){throw cy(t,...e)}function zr(t,...e){return cy(t,...e)}function kE(t,e,n){const r=Object.assign(Object.assign({},SR()),{[e]:n});return new ru("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return kE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TE.create(t,...e)}function Te(t,e,...n){if(!t)throw cy(e,...n)}function ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function bs(t,e){t||ms(e)}function ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AR(){return B_()==="http:"||B_()==="https:"}function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||aP()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=sP()||lP()}get(){return PR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uy(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class IE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DR=new ou(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ei(t,e,n,r,s={}){return SE(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=su(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},a);return oP()||(m.referrerPolicy="no-referrer"),IE.fetch()(CE(t,t.config.apiHost,n,u),m)})}async function SE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NR),e);try{const s=new MR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Hd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Hd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Hd(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw kE(t,y,m);Tr(t,y)}}catch(s){if(s instanceof Ir)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function au(t,e,n,r,s={}){const a=await Ei(t,e,n,r,s);return"mfaPendingCredential"in a&&Tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function CE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?uy(t.config,s):`${t.config.apiScheme}://${s}`}function jR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),DR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zr(t,e,r);return s.customData._tokenResponse=n,s}function z_(t){return t!==void 0&&t.enterprise!==void 0}class OR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function LR(t,e){return Ei(t,"GET","/v2/recaptchaConfig",bi(t,e))}async function VR(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function AE(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FR(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),s=dy(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:_c(bm(s.auth_time)),issuedAtTime:_c(bm(s.iat)),expirationTime:_c(bm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function bm(t){return Number(t)*1e3}function dy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=fE(n);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $_(t){const e=dy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&UR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class BR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Mc(t,AE(n,{idToken:r}));Te(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PE(a.providerUserInfo):[],u=$R(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,y=f?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new lg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function zR(t){const e=Qe(t);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $R(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PE(t){return t.map(e=>{var{providerId:n}=e,r=ly(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function HR(t,e){const n=await SE(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=CE(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",bi(t,e))}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await HR(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new La;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return ms("not implemented")}}function Xs(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Mc(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,u,f,m,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(u=n.tenantId)!==null&&u!==void 0?u:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,z=(m=n.createdAt)!==null&&m!==void 0?m:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Y,isAnonymous:te,providerData:ae,stsTokenManager:j}=n;Te(F&&j,e,"internal-error");const S=La.fromJSON(this.name,j);Te(typeof F=="string",e,"internal-error"),Xs(_,e.name),Xs(b,e.name),Te(typeof Y=="boolean",e,"internal-error"),Te(typeof te=="boolean",e,"internal-error"),Xs(T,e.name),Xs(I,e.name),Xs(N,e.name),Xs(C,e.name),Xs(z,e.name),Xs(G,e.name);const A=new gs({uid:F,auth:e,email:b,emailVerified:Y,displayName:_,isAnonymous:te,photoURL:I,phoneNumber:T,tenantId:N,stsTokenManager:S,createdAt:z,lastLoginAt:G});return ae&&Array.isArray(ae)&&(A.providerData=ae.map(D=>Object.assign({},D))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new La;s.updateFromServerResponse(n);const a=new gs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Th(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?PE(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new La;u.updateFromIdToken(r);const f=new gs({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const H_=new Map;function ys(t){bs(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RE.type="NONE";const W_=RE;function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,a),this.fullPersistenceKey=sh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(ys(W_),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ys(W_);const l=sh(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const y=await m._get(l);if(y){const _=gs._fromJSON(e,y);m!==a&&(u=_),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Va(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Va(a,e,r))}}function q_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(VE(e))return"Webos";if(DE(e))return"Safari";if((e.includes("chrome/")||jE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NE(t=un()){return/firefox\//i.test(t)}function DE(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jE(t=un()){return/crios\//i.test(t)}function ME(t=un()){return/iemobile/i.test(t)}function OE(t=un()){return/android/i.test(t)}function LE(t=un()){return/blackberry/i.test(t)}function VE(t=un()){return/webos/i.test(t)}function hy(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qR(t=un()){var e;return hy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GR(){return cP()&&document.documentMode===10}function FE(t=un()){return hy(t)||OE(t)||VE(t)||LE(t)||/windows phone/i.test(t)||ME(t)}function UE(t,e=[]){let n;switch(t){case"Browser":n=q_(un());break;case"Worker":n=`${q_(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function QR(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",bi(t,e))}const YR=6;class XR{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:YR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class JR{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AE(this,{idToken:e}),r=await gs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(vs(this));const n=e?Qe(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),n=new XR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&CR(`Error while retrieving App Check token: ${n.error}`),n?.token}}function So(t){return Qe(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yP(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(t){sf=t}function BE(t){return sf.loadJS(t)}function eN(){return sf.recaptchaEnterpriseScript}function tN(){return sf.gapiScript}function nN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rN="recaptcha-enterprise",sN="NO_RECAPTCHA";class iN{constructor(e){this.type=rN,this.auth=So(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{LR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new OR(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(f=>{u(f)})})}function s(a,l,u){const f=window.grecaptcha;z_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(sN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(u=>{if(!n&&z_(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=eN();f.length!==0&&(f+=u),BE(f).then(()=>{s(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function K_(t,e,n,r=!1){const s=new iN(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function cg(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await K_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await K_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}function oN(t,e){const n=iu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(xh(a,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function aN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lN(t,e,n){const r=So(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=zE(e),{host:l,port:u}=cN(e),f=u===null?"":`:${u}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),uN()}function zE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cN(t){const e=zE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Q_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Q_(l)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function dN(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}async function hN(t,e){return au(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}async function fN(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function pN(t,e){return au(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}class Oc extends fy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,n,"signInWithPassword",hN);case"emailLink":return fN(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cg(e,r,"signUpPassword",dN);case"emailLink":return pN(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fa(t,e){return au(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}const mN="http://localhost";class go extends fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=ly(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new go(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:mN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}function gN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yN(t){const e=fc(pc(t)).link,n=e?fc(pc(e)).deep_link_id:null,r=fc(pc(t)).deep_link_id;return(r?fc(pc(r)).link:null)||r||n||e||t}class py{constructor(e){var n,r,s,a,l,u;const f=fc(pc(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,_=gN((s=f.mode)!==null&&s!==void 0?s:null);Te(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=yN(e);try{return new py(n)}catch{return null}}}class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,n){return Oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=py.parseLink(n);return Te(r,"argument-error"),Oc._fromEmailAndCode(e,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $E{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends $E{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ei extends lu{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";ei.PROVIDER_ID="facebook.com";class ti extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";class ni extends lu{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";class ri extends lu{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";async function vN(t,e){return au(t,"POST","/v1/accounts:signUp",bi(t,e))}class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await gs._fromIdTokenResponse(e,r,s),l=Y_(r);return new yo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y_(r);return new yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Y_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kh extends Ir{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kh(e,n,r,s)}}function HE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,a,e,r):a})}async function wN(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}async function _N(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const a=await Mc(t,HE(r,s,e,t),n);Te(a.idToken,r,"internal-error");const l=dy(a.idToken);Te(l,r,"internal-error");const{sub:u}=l;return Te(t.uid===u,r,"user-mismatch"),yo._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),a}}async function WE(t,e,n=!1){if(Ur(t.app))return Promise.reject(vs(t));const r="signIn",s=await HE(t,r,e),a=await yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function xN(t,e){return WE(So(t),e)}async function qE(t){const e=So(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bN(t,e,n){if(Ur(t.app))return Promise.reject(vs(t));const r=So(t),l=await cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&qE(t),f}),u=await yo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function EN(t,e,n){return Ur(t.app)?Promise.reject(vs(t)):xN(Qe(t),nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qE(t),r})}function TN(t,e){return Qe(t).setPersistence(e)}function kN(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function IN(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function SN(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function CN(t){return Qe(t).signOut()}const Ih="__sak";class GE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AN=1e3,PN=10;class KE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);GR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const QE=KE;class YE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YE.type="SESSION";const XE=YE;function RN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async m=>m(n.origin,a)),f=await RN(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class NN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const m=my("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function $r(){return window}function DN(t){$r().location.href=t}function JE(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function jN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MN(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ON(){return JE()?self:null}const ZE="firebaseLocalStorageDb",LN=1,Sh="firebaseLocalStorage",e2="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(t,e){return t.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function VN(){const t=indexedDB.deleteDatabase(ZE);return new cu(t).toPromise()}function ug(){const t=indexedDB.open(ZE,LN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sh,{keyPath:e2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),await VN(),e(await ug()))})})}async function X_(t,e,n){const r=af(t,!0).put({[e2]:e,value:n});return new cu(r).toPromise()}async function FN(t,e){const n=af(t,!1).get(e),r=await new cu(n).toPromise();return r===void 0?null:r.value}function J_(t,e){const n=af(t,!0).delete(e);return new cu(n).toPromise()}const UN=800,BN=3;class t2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ug(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(ON()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jN(),!this.activeServiceWorker)return;this.sender=new NN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ug();return await X_(e,Ih,"1"),await J_(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=af(s,!1).getAll();return new cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t2.type="LOCAL";const zN=t2;new ou(3e4,6e4);function $N(t,e){return e?ys(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gy extends fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HN(t){return WE(t.auth,new gy(t),t.bypassAuthState)}function WN(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),_N(n,new gy(t),t.bypassAuthState)}async function qN(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),wN(n,new gy(t),t.bypassAuthState)}class n2{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HN;case"linkViaPopup":case"linkViaRedirect":return qN;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:Tr(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GN=new ou(2e3,1e4);class Ra extends n2{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ra.currentPopupAction&&Ra.currentPopupAction.cancel(),Ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GN.get())};e()}}Ra.currentPopupAction=null;const KN="pendingRedirect",ih=new Map;class QN extends n2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await YN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YN(t,e){const n=ZN(e),r=JN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function XN(t,e){ih.set(t._key(),e)}function JN(t){return ys(t._redirectPersistence)}function ZN(t){return sh(KN,t.config.apiKey,t.name)}async function eD(t,e,n=!1){if(Ur(t.app))return Promise.reject(vs(t));const r=So(t),s=$N(r,e),l=await new QN(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const tD=600*1e3;class nD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r2(t);default:return!1}}async function sD(t,e={}){return Ei(t,"GET","/v1/projects",e)}const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function aD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sD(t);for(const n of e)try{if(lD(n))return}catch{}Tr(t,"unauthorized-domain")}function lD(t){const e=ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!oD.test(n))return!1;if(iD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const cD=new ou(3e4,6e4);function ex(){const t=$r().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uD(t){return new Promise((e,n)=>{var r,s,a;function l(){ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ex(),n(zr(t,"network-request-failed"))},timeout:cD.get()})}if(!((s=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=$r().gapi)===null||a===void 0)&&a.load)l();else{const u=nN("iframefcb");return $r()[u]=()=>{gapi.load?l():n(zr(t,"network-request-failed"))},BE(`${tN()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw oh=null,e})}let oh=null;function dD(t){return oh=oh||uD(t),oh}const hD=new ou(5e3,15e3),fD="__/auth/iframe",pD="emulator/auth/iframe",mD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yD(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uy(e,pD):`https://${t.config.authDomain}/${fD}`,r={apiKey:e.apiKey,appName:t.name,v:Io},s=gD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${su(r).slice(1)}`}async function vD(t){const e=await dD(t),n=$r().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:yD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=zr(t,"network-request-failed"),u=$r().setTimeout(()=>{a(l)},hD.get());function f(){$r().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{a(l)})}))}const wD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_D=500,xD=600,bD="_blank",ED="http://localhost";class tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TD(t,e,n,r=_D,s=xD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},wD),{width:r.toString(),height:s.toString(),top:a,left:l}),m=un().toLowerCase();n&&(u=jE(m)?bD:n),NE(m)&&(e=e||ED,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[T,I])=>`${b}${T}=${I},`,"");if(qR(m)&&u!=="_self")return kD(e||"",u),new tx(null);const _=window.open(e||"",u,y);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new tx(_)}function kD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const ID="__/auth/handler",SD="emulator/auth/handler",CD=encodeURIComponent("fac");async function nx(t,e,n,r,s,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Io,eventId:s};if(e instanceof $E){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",gP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof lu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await t._getAppCheckToken(),m=f?`#${CD}=${encodeURIComponent(f)}`:"";return`${AD(t)}?${su(u).slice(1)}${m}`}function AD({config:t}){return t.emulator?uy(t,SD):`https://${t.authDomain}/${ID}`}const Em="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=eD,this._overrideRedirectResult=XN}async _openPopup(e,n,r,s){var a;bs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await nx(e,n,r,ag(),s);return TD(e,l,my())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await nx(e,n,r,ag(),s);return DN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(bs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vD(e),r=new nD(e);return n.register("authEvent",s=>(Te(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[Em];l!==void 0&&n(!!l),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FE()||DE()||hy()}}const RD=PD;var rx="@firebase/auth",sx="1.7.9";class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function DD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(t){gi(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UE(t)},m=new JR(r,s,a,f);return aN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new _s("auth-internal",e=>{const n=So(e.getProvider("auth").getImmediate());return(r=>new ND(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(rx,sx,DD(t)),tr(rx,sx,"esm2017")}const MD=300,OD=gE("authIdTokenMaxAge")||MD;let ix=null;const LD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OD)return;const s=n?.token;ix!==s&&(ix=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VD(t=rf()){const e=iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oN(t,{popupRedirectResolver:RD,persistence:[zN,QE,XE]}),r=gE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=LD(a.toString());IN(n,l,()=>l(n.currentUser)),kN(n,u=>l(u))}}const s=pE("auth");return s&&lN(n,`http://${s}`),n}function FD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=zr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",FD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");const UD=({className:t=""})=>p.jsxs("div",{className:`flex items-center gap-3 ${t} select-none`,children:[p.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center bg-[#007AFF] rounded-[1.25rem] shadow-xl shadow-blue-200/50 group transition-all duration-700 hover:rotate-[360deg]",children:[p.jsxs("svg",{viewBox:"0 0 100 100",className:"w-7 h-7 text-white",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("circle",{cx:"50",cy:"50",r:"9",fill:"currentColor"}),p.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"5",transform:"rotate(0 50 50)",className:"opacity-40"}),p.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"5",transform:"rotate(60 50 50)",className:"opacity-70"}),p.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"5",transform:"rotate(120 50 50)"})]}),p.jsxs("div",{className:"absolute top-2.5 right-2.5",children:[p.jsx("div",{className:"w-2 h-2 bg-[#34C759] rounded-full animate-ping opacity-75"}),p.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-[#34C759] rounded-full"})]})]}),p.jsxs("div",{className:"flex flex-col -space-y-1.5",children:[p.jsx("div",{className:"flex items-baseline",children:p.jsxs("span",{className:"text-2xl font-[1000] tracking-tighter text-slate-900 leading-none italic uppercase",children:["VITA",p.jsx("span",{className:"text-[#007AFF]",children:"METRA"})]})}),p.jsxs("div",{className:"flex items-center gap-1.5 pt-0.5",children:[p.jsx("div",{className:"h-[1.5px] w-4 bg-[#34C759] rounded-full"}),p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.4em] leading-none",children:"BIO-CORE AI"})]})]})]}),BD=({isLoggedIn:t,onLoginClick:e,onLogoutClick:n,currentUser:r})=>p.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-xl border-b border-slate-50",children:p.jsxs("div",{className:"w-full max-w-[1600px] mx-auto px-6 md:px-12 h-24 flex items-center justify-between",children:[p.jsx("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",children:p.jsx(UD,{})}),p.jsx("div",{className:"flex items-center gap-6",children:t?p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"hidden md:block text-right",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Usuario Pro"}),p.jsx("p",{className:"text-sm font-black text-slate-900 leading-none italic",children:r?.email?.split("@")[0]})]}),p.jsxs("button",{onClick:n,className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 hover:text-red-500 transition-colors",children:[p.jsx("span",{className:"sr-only",children:"Salir"}),p.jsx("svg",{size:20,fill:"none",stroke:"currentColor",strokeWidth:"3",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"})})]})]}):p.jsx("button",{onClick:e,className:"bg-[#007AFF] text-white px-8 py-3 rounded-full font-black text-[11px] uppercase tracking-[0.2em] shadow-lg shadow-blue-100 hover:scale-105 transition-all active:scale-95",children:"Iniciar Sesin"})})]})});const s2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const zD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const $D=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const ox=t=>{const e=$D(t);return e.charAt(0).toUpperCase()+e.slice(1)};var HD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const qD=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},f)=>V.createElement("svg",{ref:f,...HD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:s2("lucide",s),...!a&&!WD(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,y])=>V.createElement(m,y)),...Array.isArray(a)?a:[a]]));const Ee=(t,e)=>{const n=V.forwardRef(({className:r,...s},a)=>V.createElement(qD,{ref:a,iconNode:e,className:s2(`lucide-${zD(ox(t))}`,`lucide-${t}`,r),...s}));return n.displayName=ox(t),n};const GD=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],KD=Ee("accessibility",GD);const QD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ti=Ee("activity",QD);const YD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yy=Ee("arrow-right",YD);const XD=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],JD=Ee("bike",XD);const ZD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],ej=Ee("brain-circuit",ZD);const tj=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],i2=Ee("brain",tj);const nj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],rj=Ee("building-2",nj);const sj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ij=Ee("calculator",sj);const oj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aj=Ee("calendar",oj);const lj=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],o2=Ee("camera",lj);const cj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uj=Ee("check",cj);const dj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hj=Ee("chevron-left",dj);const fj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vy=Ee("chevron-right",fj);const pj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wy=Ee("circle-alert",pj);const mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_y=Ee("circle-check",mj);const gj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lf=Ee("clock",gj);const yj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vj=Ee("credit-card",yj);const wj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_j=Ee("download",wj);const xj=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],a2=Ee("droplets",xj);const bj=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ej=Ee("flame",bj);const Tj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],kj=Ee("funnel",Tj);const Ij=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Sj=Ee("heart",Ij);const Cj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],l2=Ee("history",Cj);const Aj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c2=Ee("info",Aj);const Pj=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Rj=Ee("layout-grid",Pj);const Nj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lc=Ee("loader-circle",Nj);const Dj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jj=Ee("lock",Dj);const Mj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Oj=Ee("log-out",Mj);const Lj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vj=Ee("mail",Lj);const Fj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Uj=Ee("message-square",Fj);const Bj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],u2=Ee("plus",Bj);const zj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xy=Ee("save",zj);const $j=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],d2=Ee("scale",$j);const Hj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wj=Ee("search",Hj);const qj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gj=Ee("send",qj);const Kj=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Qj=Ee("settings-2",Kj);const Yj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Xj=Ee("shield-alert",Yj);const Jj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],h2=Ee("shield-check",Jj);const Zj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eM=Ee("shield",Zj);const tM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rl=Ee("sparkles",tM);const nM=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],rM=Ee("syringe",nM);const sM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],by=Ee("target",sM);const iM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oM=Ee("trash-2",iM);const aM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],lM=Ee("trending-down",aM);const cM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uM=Ee("trending-up",cM);const dM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],f2=Ee("trophy",dM);const hM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p2=Ee("user",hM);const fM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pM=Ee("users",fM);const mM=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],gM=Ee("utensils",mM);const yM=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],m2=Ee("waves",yM);const vM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cf=Ee("x",vM);const wM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Co=Ee("zap",wM),Ey=V.createContext({});function Ty(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const g2=typeof window<"u",y2=g2?V.useLayoutEffect:V.useEffect,uf=V.createContext(null);function ky(t,e){t.indexOf(e)===-1&&t.push(e)}function Iy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kr=(t,e,n)=>n>e?e:n<t?t:n;let Sy=()=>{};const Es={},v2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function w2(t){return typeof t=="object"&&t!==null}const _2=t=>/^0[^.\s]+$/u.test(t);function Cy(t){let e;return()=>(e===void 0&&(e=t()),e)}const nr=t=>t,_M=(t,e)=>n=>e(t(n)),uu=(...t)=>t.reduce(_M),Vc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ay{constructor(){this.subscriptions=[]}add(e){return ky(this.subscriptions,e),()=>Iy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,er=t=>t/1e3;function x2(t,e){return e?t*(1e3/e):0}const b2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xM=1e-7,bM=12;function EM(t,e,n,r,s){let a,l,u=0;do l=e+(n-e)/2,a=b2(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>xM&&++u<bM);return l}function du(t,e,n,r){if(t===e&&n===r)return nr;const s=a=>EM(a,0,1,t,n);return a=>a===0||a===1?a:b2(s(a),e,r)}const E2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,T2=t=>e=>1-t(1-e),k2=du(.33,1.53,.69,.99),Py=T2(k2),I2=E2(Py),S2=t=>(t*=2)<1?.5*Py(t):.5*(2-Math.pow(2,-10*(t-1))),Ry=t=>1-Math.sin(Math.acos(t)),C2=T2(Ry),A2=E2(Ry),TM=du(.42,0,1,1),kM=du(0,0,.58,1),P2=du(.42,0,.58,1),IM=t=>Array.isArray(t)&&typeof t[0]!="number",R2=t=>Array.isArray(t)&&typeof t[0]=="number",SM={linear:nr,easeIn:TM,easeInOut:P2,easeOut:kM,circIn:Ry,circInOut:A2,circOut:C2,backIn:Py,backInOut:I2,backOut:k2,anticipate:S2},CM=t=>typeof t=="string",ax=t=>{if(R2(t)){Sy(t.length===4);const[e,n,r,s]=t;return du(e,n,r,s)}else if(CM(t))return SM[t];return t},Wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AM(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(m.schedule(y),t()),y(u)}const m={schedule:(y,_=!1,b=!1)=>{const I=b&&s?n:r;return _&&l.add(y),I.has(y)||I.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(u=y,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,m.process(y))}};return m}const PM=40;function N2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Wd.reduce((F,Y)=>(F[Y]=AM(a),F),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:y,update:_,preRender:b,render:T,postRender:I}=l,N=()=>{const F=Es.useManualTiming?s.timestamp:performance.now();n=!1,Es.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,PM),1)),s.timestamp=F,s.isProcessing=!0,u.process(s),f.process(s),m.process(s),y.process(s),_.process(s),b.process(s),T.process(s),I.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(N))},C=()=>{n=!0,r=!0,s.isProcessing||t(N)};return{schedule:Wd.reduce((F,Y)=>{const te=l[Y];return F[Y]=(ae,j=!1,S=!1)=>(n||C(),te.schedule(ae,j,S)),F},{}),cancel:F=>{for(let Y=0;Y<Wd.length;Y++)l[Wd[Y]].cancel(F)},state:s,steps:l}}const{schedule:Ze,cancel:yi,state:qt,steps:Tm}=N2(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0);let ah;function RM(){ah=void 0}const yn={now:()=>(ah===void 0&&yn.set(qt.isProcessing||Es.useManualTiming?qt.timestamp:performance.now()),ah),set:t=>{ah=t,queueMicrotask(RM)}},D2=t=>e=>typeof e=="string"&&e.startsWith(t),j2=D2("--"),NM=D2("var(--"),Ny=t=>NM(t)?DM.test(t.split("/*")[0].trim()):!1,DM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fc={...sl,transform:t=>Kr(0,1,t)},qd={...sl,default:1},xc=t=>Math.round(t*1e5)/1e5,Dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jM(t){return t==null}const MM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jy=(t,e)=>n=>!!(typeof n=="string"&&MM.test(n)&&n.startsWith(t)||e&&!jM(n)&&Object.prototype.hasOwnProperty.call(n,e)),M2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,u]=r.match(Dy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},OM=t=>Kr(0,255,t),km={...sl,transform:t=>Math.round(OM(t))},ao={test:jy("rgb","red"),parse:M2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+km.transform(t)+", "+km.transform(e)+", "+km.transform(n)+", "+xc(Fc.transform(r))+")"};function LM(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dg={test:jy("#"),parse:LM,transform:ao.transform},hu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Js=hu("deg"),Wr=hu("%"),fe=hu("px"),VM=hu("vh"),FM=hu("vw"),cx={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},Na={test:jy("hsl","hue"),parse:M2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(xc(e))+", "+Wr.transform(xc(n))+", "+xc(Fc.transform(r))+")"},Et={test:t=>ao.test(t)||dg.test(t)||Na.test(t),parse:t=>ao.test(t)?ao.parse(t):Na.test(t)?Na.parse(t):dg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ao.transform(t):Na.transform(t),getAnimatableNone:t=>{const e=Et.parse(t);return e.alpha=0,Et.transform(e)}},UM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Dy)?.length||0)+(t.match(UM)?.length||0)>0}const O2="number",L2="color",zM="var",$M="var(",ux="${}",HM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(HM,f=>(Et.test(f)?(r.color.push(a),s.push(L2),n.push(Et.parse(f))):f.startsWith($M)?(r.var.push(a),s.push(zM),n.push(f)):(r.number.push(a),s.push(O2),n.push(parseFloat(f))),++a,ux)).split(ux);return{values:n,split:u,indexes:r,types:s}}function V2(t){return Uc(t).values}function F2(t){const{split:e,types:n}=Uc(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const u=n[l];u===O2?a+=xc(s[l]):u===L2?a+=Et.transform(s[l]):a+=s[l]}return a}}const WM=t=>typeof t=="number"?0:Et.test(t)?Et.getAnimatableNone(t):t;function qM(t){const e=V2(t);return F2(t)(e.map(WM))}const vi={test:BM,parse:V2,createTransformer:F2,getAnimatableNone:qM};function Im(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;s=Im(f,u,t+1/3),a=Im(f,u,t),l=Im(f,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ch(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,Sm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},KM=[dg,ao,Na],QM=t=>KM.find(e=>e.test(t));function dx(t){const e=QM(t);if(!e)return!1;let n=e.parse(t);return e===Na&&(n=GM(n)),n}const hx=(t,e)=>{const n=dx(t),r=dx(e);if(!n||!r)return Ch(t,e);const s={...n};return a=>(s.red=Sm(n.red,r.red,a),s.green=Sm(n.green,r.green,a),s.blue=Sm(n.blue,r.blue,a),s.alpha=ct(n.alpha,r.alpha,a),ao.transform(s))},hg=new Set(["none","hidden"]);function YM(t,e){return hg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XM(t,e){return n=>ct(t,e,n)}function My(t){return typeof t=="number"?XM:typeof t=="string"?Ny(t)?Ch:Et.test(t)?hx:eO:Array.isArray(t)?U2:typeof t=="object"?Et.test(t)?hx:JM:Ch}function U2(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>My(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function JM(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=My(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function ZM(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],u=t.values[l]??0;n[s]=u,r[a]++}return n}const eO=(t,e)=>{const n=vi.createTransformer(e),r=Uc(t),s=Uc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?hg.has(t)&&!s.values.length||hg.has(e)&&!r.values.length?YM(t,e):uu(U2(ZM(r,s),s.values),n):Ch(t,e)};function B2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):My(t)(t,e)}const tO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ze.update(e,n),stop:()=>yi(e),now:()=>qt.isProcessing?qt.timestamp:yn.now()}},z2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ah=2e4;function Oy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ah;)e+=n,r=t.next(e);return e>=Ah?1/0:e}function nO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Oy(r),Ah);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:er(s)}}const rO=5;function $2(t,e,n){const r=Math.max(e-rO,0);return x2(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cm=.001;function sO({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=Kr(ht.minDamping,ht.maxDamping,l),t=Kr(ht.minDuration,ht.maxDuration,er(t)),l<1?(s=m=>{const y=m*l,_=y*t,b=y-n,T=fg(m,l),I=Math.exp(-_);return Cm-b/T*I},a=m=>{const _=m*l*t,b=_*n+n,T=Math.pow(l,2)*Math.pow(m,2)*t,I=Math.exp(-_),N=fg(Math.pow(m,2),l);return(-s(m)+Cm>0?-1:1)*((b-T)*I)/N}):(s=m=>{const y=Math.exp(-m*t),_=(m-n)*t+1;return-Cm+y*_},a=m=>{const y=Math.exp(-m*t),_=(n-m)*(t*t);return y*_});const u=5/t,f=oO(s,a,u);if(t=Hr(t),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const iO=12;function oO(t,e,n){let r=n;for(let s=1;s<iO;s++)r=r-t(r)/e(r);return r}function fg(t,e){return t*Math.sqrt(1-e*e)}const aO=["duration","bounce"],lO=["stiffness","damping","mass"];function fx(t,e){return e.some(n=>t[n]!==void 0)}function cO(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!fx(t,lO)&&fx(t,aO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Kr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=sO(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function Ph(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:m,mass:y,duration:_,velocity:b,isResolvedFromDuration:T}=cO({...n,velocity:-er(n.velocity||0)}),I=b||0,N=m/(2*Math.sqrt(f*y)),C=l-a,z=er(Math.sqrt(f/y)),G=Math.abs(C)<5;r||(r=G?ht.restSpeed.granular:ht.restSpeed.default),s||(s=G?ht.restDelta.granular:ht.restDelta.default);let F;if(N<1){const te=fg(z,N);F=ae=>{const j=Math.exp(-N*z*ae);return l-j*((I+N*z*C)/te*Math.sin(te*ae)+C*Math.cos(te*ae))}}else if(N===1)F=te=>l-Math.exp(-z*te)*(C+(I+z*C)*te);else{const te=z*Math.sqrt(N*N-1);F=ae=>{const j=Math.exp(-N*z*ae),S=Math.min(te*ae,300);return l-j*((I+N*z*C)*Math.sinh(S)+te*C*Math.cosh(S))/te}}const Y={calculatedDuration:T&&_||null,next:te=>{const ae=F(te);if(T)u.done=te>=_;else{let j=te===0?I:0;N<1&&(j=te===0?Hr(I):$2(F,te,ae));const S=Math.abs(j)<=r,A=Math.abs(l-ae)<=s;u.done=S&&A}return u.value=u.done?l:ae,u},toString:()=>{const te=Math.min(Oy(Y),Ah),ae=z2(j=>Y.next(te*j).value,te,30);return te+"ms "+ae},toTransition:()=>{}};return Y}Ph.applyToOptions=t=>{const e=nO(t,100,Ph);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function pg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:y}){const _=t[0],b={done:!1,value:_},T=S=>u!==void 0&&S<u||f!==void 0&&S>f,I=S=>u===void 0?f:f===void 0||Math.abs(u-S)<Math.abs(f-S)?u:f;let N=n*e;const C=_+N,z=l===void 0?C:l(C);z!==C&&(N=z-_);const G=S=>-N*Math.exp(-S/r),F=S=>z+G(S),Y=S=>{const A=G(S),D=F(S);b.done=Math.abs(A)<=m,b.value=b.done?z:D};let te,ae;const j=S=>{T(b.value)&&(te=S,ae=Ph({keyframes:[b.value,I(b.value)],velocity:$2(F,S,b.value),damping:s,stiffness:a,restDelta:m,restSpeed:y}))};return j(0),{calculatedDuration:null,next:S=>{let A=!1;return!ae&&te===void 0&&(A=!0,Y(S),j(S)),te!==void 0&&S>=te?ae.next(S-te):(!A&&Y(S),b)}}}function uO(t,e,n){const r=[],s=n||Es.mix||B2,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||nr:e;u=uu(f,u)}r.push(u)}return r}function dO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Sy(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=uO(e,r,s),f=u.length,m=y=>{if(l&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const b=Vc(t[_],t[_+1],y);return u[_](b)};return n?y=>m(Kr(t[0],t[a-1],y)):m}function hO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vc(0,e,r);t.push(ct(n,1,s))}}function fO(t){const e=[0];return hO(e,t.length-1),e}function pO(t,e){return t.map(n=>n*e)}function mO(t,e){return t.map(()=>e||P2).splice(0,t.length-1)}function bc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=IM(r)?r.map(ax):ax(r),a={done:!1,value:e[0]},l=pO(n&&n.length===e.length?n:fO(e),t),u=dO(l,e,{ease:Array.isArray(s)?s:mO(e,s)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const gO=t=>t!==null;function Ly(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(gO),u=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const yO={decay:pg,inertia:pg,tween:bc,keyframes:bc,spring:Ph};function H2(t){typeof t.type=="string"&&(t.type=yO[t.type])}class Vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vO=t=>t/100;class Fy extends Vy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;H2(e);const{type:n=bc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const f=n||bc;f!==bc&&typeof u[0]!="number"&&(this.mixKeyframes=uu(vO,B2(u[0],u[1])),u=[0,100]);const m=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Oy(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:b,repeatDelay:T,type:I,onUpdate:N,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-m*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?z<0:z>s;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,Y=r;if(_){const S=Math.min(this.currentTime,s)/u;let A=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&A--,A=Math.min(A,_+1),A%2&&(b==="reverse"?(D=1-D,T&&(D-=T/u)):b==="mirror"&&(Y=l)),F=Kr(0,1,D)*u}const te=G?{done:!1,value:y[0]}:Y.next(F);a&&(te.value=a(te.value));let{done:ae}=te;!G&&f!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return j&&I!==pg&&(te.value=Ly(y,this.options,C,this.speed)),N&&N(te.value),j&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return er(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=er(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tO,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function wO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const lo=t=>t*180/Math.PI,mg=t=>{const e=lo(Math.atan2(t[1],t[0]));return gg(e)},_O={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:mg,rotateZ:mg,skewX:t=>lo(Math.atan(t[1])),skewY:t=>lo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gg=t=>(t=t%360,t<0&&(t+=360),t),px=mg,mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mx,scaleY:gx,scale:t=>(mx(t)+gx(t))/2,rotateX:t=>gg(lo(Math.atan2(t[6],t[5]))),rotateY:t=>gg(lo(Math.atan2(-t[2],t[0]))),rotateZ:px,rotate:px,skewX:t=>lo(Math.atan(t[4])),skewY:t=>lo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yg(t){return t.includes("scale")?1:0}function vg(t,e){if(!t||t==="none")return yg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=xO,s=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_O,s=u}if(!s)return yg(e);const a=r[e],l=s[1].split(",").map(EO);return typeof a=="function"?a(l):l[a]}const bO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return vg(n,e)};function EO(t){return parseFloat(t.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),yx=t=>t===sl||t===fe,TO=new Set(["x","y","z"]),kO=il.filter(t=>!TO.has(t));function IO(t){const e=[];return kO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const oi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vg(e,"x"),y:(t,{transform:e})=>vg(e,"y")};oi.translateX=oi.x;oi.translateY=oi.y;const ho=new Set;let wg=!1,_g=!1,xg=!1;function W2(){if(_g){const t=Array.from(ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=IO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_g=!1,wg=!1,ho.forEach(t=>t.complete(xg)),ho.clear()}function q2(){ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_g=!0)})}function SO(){xg=!0,q2(),W2(),xg=!1}class Uy{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),wg||(wg=!0,Ze.read(q2),Ze.resolveKeyframes(W2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}wO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CO=t=>t.startsWith("--");function AO(t,e,n){CO(e)?t.style.setProperty(e,n):t.style[e]=n}const PO=Cy(()=>window.ScrollTimeline!==void 0),RO={};function NO(t,e){const n=Cy(t);return()=>RO[e]??n()}const G2=NO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mc([0,.65,.55,1]),circOut:mc([.55,0,1,.45]),backIn:mc([.31,.01,.66,-.59]),backOut:mc([.33,1.53,.69,.99])};function K2(t,e){if(t)return typeof t=="function"?G2()?z2(t,e):"ease-out":R2(t)?mc(t):Array.isArray(t)?t.map(n=>K2(n,e)||vx.easeOut):vx[t]}function DO(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:f}={},m=void 0){const y={[e]:n};f&&(y.offset=f);const _=K2(u,s);Array.isArray(_)&&(y.easing=_);const b={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(y,b)}function Q2(t){return typeof t=="function"&&"applyToOptions"in t}function jO({type:t,...e}){return Q2(t)&&G2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class MO extends Vy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Sy(typeof e.type!="string");const m=jO(e);this.animation=DO(n,r,s,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=Ly(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(y):AO(n,r,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return er(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+er(e)}get time(){return er(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PO()?(this.animation.timeline=e,nr):n(this)}}const Y2={anticipate:S2,backInOut:I2,circInOut:A2};function OO(t){return t in Y2}function LO(t){typeof t.ease=="string"&&OO(t.ease)&&(t.ease=Y2[t.ease])}const Am=10;class VO extends MO{constructor(e){LO(e),H2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new Fy({...l,autoplay:!1}),f=Math.max(Am,yn.now()-this.startTime),m=Kr(0,Am,f-Am);n.setWithVelocity(u.sample(Math.max(0,f-m)).value,u.sample(f).value,m),u.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vi.test(t)||t==="0")&&!t.startsWith("url("));function FO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UO(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=wx(s,e),u=wx(a,e);return!l||!u?!1:FO(t)||(n==="spring"||Q2(n))&&r}function bg(t){t.duration=0,t.type="keyframes"}const BO=new Set(["opacity","clipPath","filter","transform"]),zO=Cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $O(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return zO()&&n&&BO.has(n)&&(n!=="transform"||!m)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const HO=40;class WO extends Vy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:f,motionValue:m,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const b={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:m,element:y,..._},T=y?.KeyframeResolver||Uy;this.keyframeResolver=new T(u,(I,N,C)=>this.onKeyframesResolved(I,N,b,!C),f,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:f,isHandoff:m,onUpdate:y}=r;this.resolvedAt=yn.now(),UO(e,a,l,u)||((Es.instantAnimations||!f)&&y?.(Ly(e,r,n)),e[0]=e[e.length-1],bg(r),r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>HO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!m&&$O(b),I=b.motionValue?.owner?.current,N=T?new VO({...b,element:I}):new Fy(b);N.finished.then(()=>{this.notifyFinished()}).catch(nr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function X2(t,e,n,r=0,s=1){const a=Array.from(t).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),l=t.size,u=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:u-a*r}const qO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GO(t){const e=qO.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function J2(t,e,n=1){const[r,s]=GO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return v2(l)?parseFloat(l):l}return Ny(s)?J2(s,e,n+1):s}const KO={type:"spring",stiffness:500,damping:25,restSpeed:10},QO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YO={type:"keyframes",duration:.8},XO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JO=(t,{keyframes:e})=>e.length>2?YO:ol.has(t)?t.startsWith("scale")?QO(e[1]):KO:XO,ZO=t=>t!==null;function eL(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(ZO),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function Z2(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function By(t,e){const n=t?.[e]??t?.default??t;return n!==t?Z2(n,t):n}function tL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const zy=(t,e,n,r={},s,a)=>l=>{const u=By(r,t)||{},f=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Hr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};tL(u)||Object.assign(y,JO(t,y)),y.duration&&(y.duration=Hr(y.duration)),y.repeatDelay&&(y.repeatDelay=Hr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(bg(y),y.delay===0&&(_=!0)),(Es.instantAnimations||Es.skipAnimations||s?.shouldSkipAnimations)&&(_=!0,bg(y),y.delay=0),y.allowFlatten=!u.type&&!u.ease,_&&!a&&e.get()!==void 0){const b=eL(y.keyframes,u);if(b!==void 0){Ze.update(()=>{y.onUpdate(b),y.onComplete()});return}}return u.isSync?new Fy(y):new WO(y)};function _x(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function $y(t,e,n,r){if(typeof e=="function"){const[s,a]=_x(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=_x(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Ua(t,e,n){const r=t.getProps();return $y(r,e,n!==void 0?n:r.custom,t)}const eT=new Set(["width","height","top","left","right","bottom",...il]),xx=30,nL=t=>!isNaN(parseFloat(t));class rL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=yn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ay);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xx);return x2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new rL(t,e)}const Eg=t=>Array.isArray(t);function sL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function iL(t){return Eg(t)?t[t.length-1]||0:t}function oL(t,e){const n=Ua(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const u=iL(a[l]);sL(t,l,u)}}const ln=t=>!!(t&&t.getVelocity);function aL(t){return!!(ln(t)&&t.add)}function Tg(t,e){const n=t.getValue("willChange");if(aL(n))return n.add(e);if(!n&&Es.WillChange){const r=new Es.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Hy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const lL="framerAppearId",tT="data-"+Hy(lL);function nT(t){return t.props[tT]}function cL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function rT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a,transitionEnd:l,...u}=e;const f=t.getDefaultTransition();a=a?Z2(a,f):f;const m=a?.reduceMotion;r&&(a=r);const y=[],_=s&&t.animationState&&t.animationState.getState()[s];for(const b in u){const T=t.getValue(b,t.latestValues[b]??null),I=u[b];if(I===void 0||_&&cL(_,b))continue;const N={delay:n,...By(a||{},b)},C=T.get();if(C!==void 0&&!T.isAnimating&&!Array.isArray(I)&&I===C&&!N.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const Y=nT(t);if(Y){const te=window.MotionHandoffAnimation(Y,b,Ze);te!==null&&(N.startTime=te,z=!0)}}Tg(t,b);const G=m??t.shouldReduceMotion;T.start(zy(b,T,I,G&&eT.has(b)?{type:!1}:N,t,z));const F=T.animation;F&&y.push(F)}if(l){const b=()=>Ze.update(()=>{l&&oL(t,l)});y.length?Promise.all(y).then(b):b()}return y}function kg(t,e,n={}){const r=Ua(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(rT(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=s;return uL(t,e,f,m,y,_,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[a,l]:[l,a];return f().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function uL(t,e,n=0,r=0,s=0,a=1,l){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(kg(f,e,{...l,delay:n+(typeof r=="function"?0:r)+X2(t.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function dL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>kg(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=kg(t,e,n);else{const s=typeof e=="function"?Ua(t,e,n.custom):e;r=Promise.all(rT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const hL={test:t=>t==="auto",parse:t=>t},sT=t=>e=>e.test(t),iT=[sl,fe,Wr,Js,FM,VM,hL],bx=t=>iT.find(sT(t));function fL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_2(t):!0}const pL=new Set(["brightness","contrast","saturate","opacity"]);function mL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dy)||[];if(!r)return t;const s=n.replace(r,"");let a=pL.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const gL=/\b([a-z-]*)\(.*?\)/gu,Ig={...vi,getAnimatableNone:t=>{const e=t.match(gL);return e?e.map(mL).join(" "):t}},Ex={...sl,transform:Math.round},yL={rotate:Js,rotateX:Js,rotateY:Js,rotateZ:Js,scale:qd,scaleX:qd,scaleY:qd,scaleZ:qd,skew:Js,skewX:Js,skewY:Js,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Fc,originX:cx,originY:cx,originZ:fe},Wy={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,fontSize:fe,backgroundPositionX:fe,backgroundPositionY:fe,...yL,zIndex:Ex,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:Ex},vL={...Wy,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Ig,WebkitFilter:Ig},oT=t=>vL[t];function aT(t,e){let n=oT(t);return n!==Ig&&(n=vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wL=new Set(["auto","none","0"]);function _L(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!wL.has(a)&&Uc(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=aT(n,s)}class xL extends Uy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),Ny(_))){const b=J2(_,n.current);b!==void 0&&(e[y]=b),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!eT.has(r)||e.length!==2)return;const[s,a]=e,l=bx(s),u=bx(a),f=lx(s),m=lx(a);if(f!==m&&oi[r]){this.needsMeasurement=!0;return}if(l!==u)if(yx(l)&&yx(u))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else oi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||fL(e[s]))&&r.push(s);r.length&&_L(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=oi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function lT(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const cT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Sg(t){return w2(t)&&"offsetHeight"in t}const{schedule:qy}=N2(queueMicrotask,!1),xr={x:!1,y:!1};function uT(){return xr.x||xr.y}function bL(t){return t==="x"||t==="y"?xr[t]?null:(xr[t]=!0,()=>{xr[t]=!1}):xr.x||xr.y?null:(xr.x=xr.y=!0,()=>{xr.x=xr.y=!1})}function dT(t,e){const n=lT(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function EL(t){return!(t.pointerType==="touch"||uT())}function TL(t,e,n={}){const[r,s,a]=dT(t,n);return r.forEach(l=>{let u=!1,f=!1,m;const y=()=>{l.removeEventListener("pointerleave",I)},_=C=>{m&&(m(C),m=void 0),y()},b=C=>{u=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),f&&(f=!1,_(C))},T=()=>{u=!0,window.addEventListener("pointerup",b,s),window.addEventListener("pointercancel",b,s)},I=C=>{if(C.pointerType!=="touch"){if(u){f=!0;return}_(C)}},N=C=>{if(!EL(C))return;f=!1;const z=e(l,C);typeof z=="function"&&(m=z,l.addEventListener("pointerleave",I,s))};l.addEventListener("pointerenter",N,s),l.addEventListener("pointerdown",T,s)}),a}const hT=(t,e)=>e?t===e?!0:hT(t,e.parentElement):!1,Gy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IL(t){return kL.has(t.tagName)||t.isContentEditable===!0}const SL=new Set(["INPUT","SELECT","TEXTAREA"]);function CL(t){return SL.has(t.tagName)||t.isContentEditable===!0}const lh=new WeakSet;function Tx(t){return e=>{e.key==="Enter"&&t(e)}}function Pm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Tx(()=>{if(lh.has(n))return;Pm(n,"down");const s=Tx(()=>{Pm(n,"up")}),a=()=>Pm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kx(t){return Gy(t)&&!uT()}const Ix=new WeakSet;function PL(t,e,n={}){const[r,s,a]=dT(t,n),l=u=>{const f=u.currentTarget;if(!kx(u)||Ix.has(u))return;lh.add(f),n.stopPropagation&&Ix.add(u);const m=e(f,u),y=(T,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",b),lh.has(f)&&lh.delete(f),kx(T)&&typeof m=="function"&&m(T,{success:I})},_=T=>{y(T,f===window||f===document||n.useGlobalTarget||hT(f,T.target))},b=T=>{y(T,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",b,s)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),Sg(u)&&(u.addEventListener("focus",m=>AL(m,s)),!IL(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function Ky(t){return w2(t)&&"ownerSVGElement"in t}const ch=new WeakMap;let uh;const fT=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:Ky(r)&&"getBBox"in r?r.getBBox()[e]:r[n],RL=fT("inline","width","offsetWidth"),NL=fT("block","height","offsetHeight");function DL({target:t,borderBoxSize:e}){ch.get(t)?.forEach(n=>{n(t,{get width(){return RL(t,e)},get height(){return NL(t,e)}})})}function jL(t){t.forEach(DL)}function ML(){typeof ResizeObserver>"u"||(uh=new ResizeObserver(jL))}function OL(t,e){uh||ML();const n=lT(t);return n.forEach(r=>{let s=ch.get(r);s||(s=new Set,ch.set(r,s)),s.add(e),uh?.observe(r)}),()=>{n.forEach(r=>{const s=ch.get(r);s?.delete(e),s?.size||uh?.unobserve(r)})}}const dh=new Set;let Da;function LL(){Da=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};dh.forEach(e=>e(t))},window.addEventListener("resize",Da)}function VL(t){return dh.add(t),Da||LL(),()=>{dh.delete(t),!dh.size&&typeof Da=="function"&&(window.removeEventListener("resize",Da),Da=void 0)}}function Sx(t,e){return typeof t=="function"?VL(t):OL(t,e)}function FL(t){return Ky(t)&&t.tagName==="svg"}const UL=[...iT,Et,vi],BL=t=>UL.find(sT(t)),Cx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ja=()=>({x:Cx(),y:Cx()}),Ax=()=>({min:0,max:0}),Nt=()=>({x:Ax(),y:Ax()}),Cg={current:null},pT={current:!1},zL=typeof window<"u";function $L(){if(pT.current=!0,!!zL)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cg.current=t.matches;t.addEventListener("change",e),e()}else Cg.current=!1}const HL=new WeakMap;function df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bc(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Qy];function hf(t){return df(t.animate)||Yy.some(e=>Bc(t[e]))}function mT(t){return!!(hf(t)||t.variants)}function WL(t,e,n){for(const r in e){const s=e[r],a=n[r];if(ln(s))t.addValue(r,s);else if(ln(a))t.addValue(r,Wa(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Wa(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Px=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Rh={};function gT(t){Rh=t}function qL(){return Rh}class GL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Uy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=yn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ze.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=hf(n),this.isVariantNode=mT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const I=b[T];m[T]!==void 0&&ln(I)&&I.set(m[T])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,HL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(pT.current||$L(),this.shouldReduceMotion=Cg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ol.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rh){const n=Rh[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Px.length;r++){const s=Px[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=WL(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(v2(r)||_2(r))?r=parseFloat(r):!BL(r)&&vi.test(n)&&(r=aT(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=$y(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ay),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){qy.render(this.render)}}class yT extends GL{constructor(){super(...arguments),this.KeyframeResolver=xL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function KL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rm(t){return t===void 0||t===1}function Ag({scale:t,scaleX:e,scaleY:n}){return!Rm(t)||!Rm(e)||!Rm(n)}function io(t){return Ag(t)||wT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wT(t){return Rx(t.x)||Rx(t.y)}function Rx(t){return t&&t!=="0%"}function Nh(t,e,n){const r=t-n,s=e*r;return n+s}function Nx(t,e,n,r,s){return s!==void 0&&(t=Nh(t,s,r)),Nh(t,n,r)+e}function Pg(t,e=0,n=1,r,s){t.min=Nx(t.min,e,n,r,s),t.max=Nx(t.max,e,n,r,s)}function _T(t,{x:e,y:n}){Pg(t.x,e.translate,e.scale,e.originPoint),Pg(t.y,n.translate,n.scale,n.originPoint)}const Dx=.999999999999,jx=1.0000000000001;function YL(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=n[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Oa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_T(t,l)),r&&io(a.latestValues)&&Oa(t,a.latestValues))}e.x<jx&&e.x>Dx&&(e.x=1),e.y<jx&&e.y>Dx&&(e.y=1)}function Ma(t,e){t.min=t.min+e,t.max=t.max+e}function Mx(t,e,n,r,s=.5){const a=ct(t.min,t.max,s);Pg(t,e,n,a,r)}function Oa(t,e){Mx(t.x,e.x,e.scaleX,e.scale,e.originX),Mx(t.y,e.y,e.scaleY,e.scale,e.originY)}function xT(t,e){return vT(QL(t.getBoundingClientRect(),e))}function XL(t,e,n){const r=xT(t,n),{scroll:s}=e;return s&&(Ma(r.x,s.offset.x),Ma(r.y,s.offset.y)),r}const JL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZL=il.length;function e5(t,e,n){let r="",s=!0;for(let a=0;a<ZL;a++){const l=il[a],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(l.startsWith("scale")?1:0);else{const m=parseFloat(u);f=l.startsWith("scale")?m===1:m===0}if(!f||n){const m=cT(u,Wy[l]);if(!f){s=!1;const y=JL[l]||l;r+=`${y}(${m}) `}n&&(e[l]=m)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Xy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const f in e){const m=e[f];if(ol.has(f)){l=!0;continue}else if(j2(f)){s[f]=m;continue}else{const y=cT(m,Wy[f]);f.startsWith("origin")?(u=!0,a[f]=y):r[f]=y}}if(e.transform||(l||n?r.transform=e5(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${m} ${y}`}}function bT(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function Ox(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const n=Ox(t,e.target.x),r=Ox(t,e.target.y);return`${n}% ${r}%`}},t5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=vi.parse(t);if(s.length>5)return r;const a=vi.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=f;const m=ct(u,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}},Rg={borderRadius:{...uc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uc,borderTopRightRadius:uc,borderBottomLeftRadius:uc,borderBottomRightRadius:uc,boxShadow:t5};function ET(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rg[t]||t==="opacity")}function Jy(t,e,n){const r=t.style,s=e?.style,a={};if(!r)return a;for(const l in r)(ln(r[l])||s&&ln(s[l])||ET(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}function n5(t){return window.getComputedStyle(t)}class r5 extends yT{constructor(){super(...arguments),this.type="html",this.renderInstance=bT}readValueFromInstance(e,n){if(ol.has(n))return this.projection?.isProjecting?yg(n):bO(e,n);{const r=n5(e),s=(j2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xT(e,n)}build(e,n,r){Xy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jy(e,n,r)}}const s5={offset:"stroke-dashoffset",array:"stroke-dasharray"},i5={offset:"strokeDashoffset",array:"strokeDasharray"};function o5(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?s5:i5;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const a5=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function TT(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},f,m,y){if(Xy(t,u,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:b}=t;_.transform&&(b.transform=_.transform,delete _.transform),(b.transform||_.transformOrigin)&&(b.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const T of a5)_[T]!==void 0&&(b[T]=_[T],delete _[T]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&o5(_,s,a,l,!1)}const kT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),IT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function l5(t,e,n,r){bT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(kT.has(s)?s:Hy(s),e.attrs[s])}function ST(t,e,n){const r=Jy(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const a=il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class c5 extends yT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const r=oT(n);return r&&r.default||0}return n=kT.has(n)?n:Hy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ST(e,n,r)}build(e,n,r){TT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){l5(e,n,r,s)}mount(e){this.isSVGTag=IT(e.tagName),super.mount(e)}}const u5=Yy.length;function CT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?CT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<u5;n++){const r=Yy[n],s=t.props[r];(Bc(s)||s===!1)&&(e[r]=s)}return e}function AT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const d5=[...Qy].reverse(),h5=Qy.length;function f5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dL(t,n,r)))}function p5(t){let e=f5(t),n=Lx(),r=!0;const s=f=>(m,y)=>{const _=Ua(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:b,transitionEnd:T,...I}=_;m={...m,...I,...T}}return m};function a(f){e=f(t)}function l(f){const{props:m}=t,y=CT(t.parent)||{},_=[],b=new Set;let T={},I=1/0;for(let C=0;C<h5;C++){const z=d5[C],G=n[z],F=m[z]!==void 0?m[z]:y[z],Y=Bc(F),te=z===f?G.isActive:null;te===!1&&(I=C);let ae=F===y[z]&&F!==m[z]&&Y;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),G.protectedKeys={...T},!G.isActive&&te===null||!F&&!G.prevProp||df(F)||typeof F=="boolean")continue;const j=m5(G.prevProp,F);let S=j||z===f&&G.isActive&&!ae&&Y||C>I&&Y,A=!1;const D=Array.isArray(F)?F:[F];let L=D.reduce(s(z),{});te===!1&&(L={});const{prevResolvedValues:U={}}=G,R={...U,...L},st=Ie=>{S=!0,b.has(Ie)&&(A=!0,b.delete(Ie)),G.needsAnimating[Ie]=!0;const se=t.getValue(Ie);se&&(se.liveStyle=!1)};for(const Ie in R){const se=L[Ie],ge=U[Ie];if(T.hasOwnProperty(Ie))continue;let le=!1;Eg(se)&&Eg(ge)?le=!AT(se,ge):le=se!==ge,le?se!=null?st(Ie):b.add(Ie):se!==void 0&&b.has(Ie)?st(Ie):G.protectedKeys[Ie]=!0}G.prevProp=F,G.prevResolvedValues=L,G.isActive&&(T={...T,...L}),r&&t.blockInitialAnimation&&(S=!1);const It=ae&&j;S&&(!It||A)&&_.push(...D.map(Ie=>{const se={type:z};if(typeof Ie=="string"&&r&&!It&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,le=Ua(ge,Ie);if(ge.enteringChildren&&le){const{delayChildren:B}=le.transition||{};se.delay=X2(ge.enteringChildren,t,B)}}return{animation:Ie,options:se}}))}if(b.size){const C={};if(typeof m.initial!="boolean"){const z=Ua(t,Array.isArray(m.initial)?m.initial[0]:m.initial);z&&z.transition&&(C.transition=z.transition)}b.forEach(z=>{const G=t.getBaseTarget(z),F=t.getValue(z);F&&(F.liveStyle=!0),C[z]=G??null}),_.push({animation:C})}let N=!!_.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function u(f,m){if(n[f].isActive===m)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,m)),n[f].isActive=m;const y=l(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Lx()}}}function m5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AT(e,t):!1}function no(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lx(){return{animate:no(!0),whileInView:no(),whileHover:no(),whileTap:no(),whileDrag:no(),whileFocus:no(),exit:no()}}function Vx(t,e){t.min=e.min,t.max=e.max}function wr(t,e){Vx(t.x,e.x),Vx(t.y,e.y)}function Fx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const PT=1e-4,g5=1-PT,y5=1+PT,RT=.01,v5=0-RT,w5=0+RT;function vn(t){return t.max-t.min}function _5(t,e,n){return Math.abs(t-e)<=n}function Ux(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g5&&t.scale<=y5||isNaN(t.scale))&&(t.scale=1),(t.translate>=v5&&t.translate<=w5||isNaN(t.translate))&&(t.translate=0)}function Ec(t,e,n,r){Ux(t.x,e.x,n.x,r?r.originX:void 0),Ux(t.y,e.y,n.y,r?r.originY:void 0)}function Bx(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function x5(t,e,n){Bx(t.x,e.x,n.x),Bx(t.y,e.y,n.y)}function zx(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function Dh(t,e,n){zx(t.x,e.x,n.x),zx(t.y,e.y,n.y)}function $x(t,e,n,r,s){return t-=e,t=Nh(t,1/n,r),s!==void 0&&(t=Nh(t,1/s,r)),t}function b5(t,e=0,n=1,r=.5,s,a=t,l=t){if(Wr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ct(a.min,a.max,r);t===a&&(u-=e),t.min=$x(t.min,e,n,u,s),t.max=$x(t.max,e,n,u,s)}function Hx(t,e,[n,r,s],a,l){b5(t,e[n],e[r],e[s],e.scale,a,l)}const E5=["x","scaleX","originX"],T5=["y","scaleY","originY"];function Wx(t,e,n,r){Hx(t.x,e,E5,n?n.x:void 0,r?r.x:void 0),Hx(t.y,e,T5,n?n.y:void 0,r?r.y:void 0)}function qx(t){return t.translate===0&&t.scale===1}function NT(t){return qx(t.x)&&qx(t.y)}function Gx(t,e){return t.min===e.min&&t.max===e.max}function k5(t,e){return Gx(t.x,e.x)&&Gx(t.y,e.y)}function Kx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DT(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function Qx(t){return vn(t.x)/vn(t.y)}function Yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Vr(t){return[t("x"),t("y")]}function I5(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:b,skewX:T,skewY:I}=n;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),b&&(r+=`rotateY(${b}deg) `),T&&(r+=`skewX(${T}deg) `),I&&(r+=`skewY(${I}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const jT=["TopLeft","TopRight","BottomLeft","BottomRight"],S5=jT.length,Xx=t=>typeof t=="string"?parseFloat(t):t,Jx=t=>typeof t=="number"||fe.test(t);function C5(t,e,n,r,s,a){s?(t.opacity=ct(0,n.opacity??1,A5(r)),t.opacityExit=ct(e.opacity??1,0,P5(r))):a&&(t.opacity=ct(e.opacity??1,n.opacity??1,r));for(let l=0;l<S5;l++){const u=`border${jT[l]}Radius`;let f=Zx(e,u),m=Zx(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Jx(f)===Jx(m)?(t[u]=Math.max(ct(Xx(f),Xx(m),r),0),(Wr.test(m)||Wr.test(f))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function Zx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A5=MT(0,.5,C2),P5=MT(.5,.95,nr);function MT(t,e,n){return r=>r<t?0:r>e?1:n(Vc(t,e,r))}function R5(t,e,n){const r=ln(t)?t:Wa(t);return r.start(zy("",r,e,n)),r.animation}function zc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const N5=(t,e)=>t.depth-e.depth;class D5{constructor(){this.children=[],this.isDirty=!1}add(e){ky(this.children,e),this.isDirty=!0}remove(e){Iy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(N5),this.isDirty=!1,this.children.forEach(e)}}function j5(t,e){const n=yn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(yi(r),t(a-e))};return Ze.setup(r,!0),()=>yi(r)}function hh(t){return ln(t)?t.get():t}class M5{constructor(){this.members=[]}add(e){ky(this.members,e),e.scheduleRender()}remove(e){if(Iy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,a=e.options.layoutDependency;s!==void 0&&a!==void 0&&s===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:u}=e.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Nm=["","X","Y","Z"],O5=1e3;let L5=0;function Dm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OT(r)}function LT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=L5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U5),this.nodes.forEach(H5),this.nodes.forEach(W5),this.nodes.forEach(B5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new D5)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ay),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Ky(l)&&!FL(l),this.instance=l;const{layoutId:u,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let y,_=0;const b=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{_=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==_&&(_=T,this.root.updateBlockedByResize=!0,y&&y(),y=j5(b,250),fh.hasAnimatedSinceResize&&(fh.hasAnimatedSinceResize=!1,this.nodes.forEach(nb)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:b,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||Y5,{onLayoutAnimationStart:N,onLayoutAnimationComplete:C}=m.getProps(),z=!this.targetLayout||!DT(this.targetLayout,T),G=!_&&b;if(this.options.layoutRoot||this.resumeFrom||G||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...By(I,"layout"),onPlay:N,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,G)}else _||nb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($5),this.nodes.forEach(V5),this.nodes.forEach(F5)):this.nodes.forEach(tb),this.clearAllSnapshots();const u=yn.now();qt.delta=Kr(0,1e3/60,u-qt.timestamp),qt.timestamp=u,qt.isProcessing=!0,Tm.update.process(qt),Tm.preRender.process(qt),Tm.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z5),this.sharedNodes.forEach(G5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!NT(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||io(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),X5(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(J5))){const{scroll:m}=this.root;m&&(Ma(u.x,m.offset.x),Ma(u.y,m.offset.y))}return u}removeElementScroll(l){const u=Nt();if(wr(u,l),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&wr(u,l),Ma(u.x,y.offset.x),Ma(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const f=Nt();wr(f,l);for(let m=0;m<this.path.length;m++){const y=this.path[m];!u&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oa(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),io(y.latestValues)&&Oa(f,y.latestValues)}return io(this.latestValues)&&Oa(f,this.latestValues),f}removeTransform(l){const u=Nt();wr(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!io(m.latestValues))continue;Ag(m.latestValues)&&m.updateSnapshot();const y=Nt(),_=m.measurePageBox();wr(y,_),Wx(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return io(this.latestValues)&&Wx(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=qt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wr(this.target,this.layout.layoutBox),_T(this.target,this.targetDelta)):wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ag(this.parent.latestValues)||wT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Dh(this.relativeTargetOrigin,u,f),wr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;wr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,b=this.treeScale.y;YL(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fx(this.prevProjectionDelta.x,this.projectionDelta.x),Fx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ec(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==b||!Yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ja(),this.projectionDelta=ja(),this.projectionDeltaWithTransform=ja()}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},_=ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Nt(),T=f?f.source:void 0,I=this.layout?this.layout.source:void 0,N=T!==I,C=this.getStack(),z=!C||C.members.length<=1,G=!!(N&&!z&&this.options.crossfade===!0&&!this.path.some(Q5));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const te=Y/1e3;rb(_.x,l.x,te),rb(_.y,l.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K5(this.relativeTarget,this.relativeTargetOrigin,b,te),F&&k5(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Nt()),wr(F,this.relativeTarget)),N&&(this.animationValues=y,C5(y,m,this.latestValues,te,G,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{fh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=R5(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:y}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&VT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Nt();const _=vn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const b=vn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}wr(u,f),Oa(u,y),Ec(this.projectionDeltaWithTransform,this.layoutCorrected,u,y)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new M5),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&Dm("z",l,m,this.animationValues);for(let y=0;y<Nm.length;y++)Dm(`rotate${Nm[y]}`,l,m,this.animationValues),Dm(`skew${Nm[y]}`,l,m,this.animationValues);l.render();for(const y in m)l.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=hh(u?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=hh(u?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=I5(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),l.transform=_;const{x:b,y:T}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${T.origin*100}% 0`,m.animationValues?l.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in Rg){if(y[I]===void 0)continue;const{correct:N,applyTo:C,isCSSVariable:z}=Rg[I],G=_==="none"?y[I]:N(y[I],m);if(C){const F=C.length;for(let Y=0;Y<F;Y++)l[C[Y]]=G}else z?this.options.visualElement.renderState.vars[I]=G:l[I]=G}this.options.layoutId&&(l.pointerEvents=m===this?hh(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(eb),this.root.sharedNodes.clear()}}}function V5(t){t.updateLayout()}function F5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],b=vn(_);_.min=n[y].min,_.max=_.min+b}):VT(s,e.layoutBox,n)&&Vr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],b=vn(n[y]);_.max=_.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const l=ja();Ec(l,n,e.layoutBox);const u=ja();a?Ec(u,t.applyTransform(r,!0),e.measuredBox):Ec(u,n,e.layoutBox);const f=!NT(l);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:b}=y;if(_&&b){const T=Nt();Dh(T,e.layoutBox,_.layoutBox);const I=Nt();Dh(I,n,b.layoutBox),DT(T,I)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function U5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z5(t){t.clearSnapshot()}function eb(t){t.clearMeasurements()}function tb(t){t.isLayoutDirty=!1}function $5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H5(t){t.resolveTargetDelta()}function W5(t){t.calcProjection()}function q5(t){t.resetSkewAndRotation()}function G5(t){t.removeLeadSnapshot()}function rb(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sb(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function K5(t,e,n,r){sb(t.x,e.x,n.x,r),sb(t.y,e.y,n.y,r)}function Q5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Y5={duration:.45,ease:[.4,0,.1,1]},ib=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ob=ib("applewebkit/")&&!ib("chrome/")?Math.round:nr;function ab(t){t.min=ob(t.min),t.max=ob(t.max)}function X5(t){ab(t.x),ab(t.y)}function VT(t,e,n){return t==="position"||t==="preserve-aspect"&&!_5(Qx(e),Qx(n),.2)}function J5(t){return t!==t.root&&t.scroll?.wasRoot}const Z5=LT({attachResizeListener:(t,e)=>zc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),jm={current:void 0},FT=LT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jm.current){const t=new Z5({});t.mount(window),t.setOptions({layoutScroll:!0}),jm.current=t}return jm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zy=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function eV(...t){return e=>{let n=!1;const r=t.map(s=>{const a=lb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():lb(t[s],null)}}}}function tV(...t){return V.useCallback(eV(...t),t)}class nV extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,s=Sg(r)&&r.offsetWidth||0,a=Sg(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function rV({children:t,isPresent:e,anchorX:n,anchorY:r,root:s,pop:a}){const l=V.useId(),u=V.useRef(null),f=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=V.useContext(Zy),y=t.props?.ref??t?.ref,_=tV(u,y);return V.useInsertionEffect(()=>{const{width:b,height:T,top:I,left:N,right:C,bottom:z}=f.current;if(e||a===!1||!u.current||!b||!T)return;const G=n==="left"?`left: ${N}`:`right: ${C}`,F=r==="bottom"?`bottom: ${z}`:`top: ${I}`;u.current.dataset.motionPopId=l;const Y=document.createElement("style");m&&(Y.nonce=m);const te=s??document.head;return te.appendChild(Y),Y.sheet&&Y.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${T}px !important;
            ${G}px !important;
            ${F}px !important;
          }
        `),()=>{te.contains(Y)&&te.removeChild(Y)}},[e]),p.jsx(nV,{isPresent:e,childRef:u,sizeRef:f,pop:a,children:a===!1?t:V.cloneElement(t,{ref:_})})}const sV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u,anchorY:f,root:m})=>{const y=Ty(iV),_=V.useId();let b=!0,T=V.useMemo(()=>(b=!1,{id:_,initial:e,isPresent:n,custom:s,onExitComplete:I=>{y.set(I,!0);for(const N of y.values())if(!N)return;r&&r()},register:I=>(y.set(I,!1),()=>y.delete(I))}),[n,y,r]);return a&&b&&(T={...T}),V.useMemo(()=>{y.forEach((I,N)=>y.set(N,!1))},[n]),V.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),t=p.jsx(rV,{pop:l==="popLayout",isPresent:n,anchorX:u,anchorY:f,root:m,children:t}),p.jsx(uf.Provider,{value:T,children:t})};function iV(){return new Map}function UT(t=!0){const e=V.useContext(uf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=V.useId();V.useEffect(()=>{if(t)return s(a)},[t]);const l=V.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Gd=t=>t.key||"";function cb(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const oV=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left",anchorY:f="top",root:m})=>{const[y,_]=UT(l),b=V.useMemo(()=>cb(t),[t]),T=l&&!y?[]:b.map(Gd),I=V.useRef(!0),N=V.useRef(b),C=Ty(()=>new Map),z=V.useRef(new Set),[G,F]=V.useState(b),[Y,te]=V.useState(b);y2(()=>{I.current=!1,N.current=b;for(let S=0;S<Y.length;S++){const A=Gd(Y[S]);T.includes(A)?(C.delete(A),z.current.delete(A)):C.get(A)!==!0&&C.set(A,!1)}},[Y,T.length,T.join("-")]);const ae=[];if(b!==G){let S=[...b];for(let A=0;A<Y.length;A++){const D=Y[A],L=Gd(D);T.includes(L)||(S.splice(A,0,D),ae.push(D))}return a==="wait"&&ae.length&&(S=ae),te(cb(S)),F(b),null}const{forceRender:j}=V.useContext(Ey);return p.jsx(p.Fragment,{children:Y.map(S=>{const A=Gd(S),D=l&&!y?!1:b===Y||T.includes(A),L=()=>{if(z.current.has(A))return;if(z.current.add(A),C.has(A))C.set(A,!0);else return;let U=!0;C.forEach(R=>{R||(U=!1)}),U&&(j?.(),te(N.current),l&&_?.(),r&&r())};return p.jsx(sV,{isPresent:D,initial:!I.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:m,onExitComplete:D?void 0:L,anchorX:u,anchorY:f,children:S},A)})})},BT=V.createContext({strict:!1}),ub={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let db=!1;function aV(){if(db)return;const t={};for(const e in ub)t[e]={isEnabled:n=>ub[e].some(r=>!!n[r])};gT(t),db=!0}function zT(){return aV(),qL()}function lV(t){const e=zT();for(const n in t)e[n]={...e[n],...t[n]};gT(e)}const cV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function jh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cV.has(t)}let $T=t=>!jh(t);function uV(t){typeof t=="function"&&($T=e=>e.startsWith("on")?!jh(e):t(e))}try{uV(require("@emotion/is-prop-valid").default)}catch{}function dV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||($T(s)||n===!0&&jh(s)||!e&&!jh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ff=V.createContext({});function hV(t,e){if(hf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(r)?r:void 0}}return t.inherit!==!1?e:{}}function fV(t){const{initial:e,animate:n}=hV(t,V.useContext(ff));return V.useMemo(()=>({initial:e,animate:n}),[hb(e),hb(n)])}function hb(t){return Array.isArray(t)?t.join(" "):t}const e0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HT(t,e,n){for(const r in e)!ln(e[r])&&!ET(r,n)&&(t[r]=e[r])}function pV({transformTemplate:t},e){return V.useMemo(()=>{const n=e0();return Xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mV(t,e){const n=t.style||{},r={};return HT(r,n,t),Object.assign(r,pV(t,e)),r}function gV(t,e){const n={},r=mV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const WT=()=>({...e0(),attrs:{}});function yV(t,e,n,r){const s=V.useMemo(()=>{const a=WT();return TT(a,e,IT(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};HT(a,t.style,t),s.style={...a,...s.style}}return s}const vV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t0(t){return typeof t!="string"||t.includes("-")?!1:!!(vV.indexOf(t)>-1||/[A-Z]/u.test(t))}function wV(t,e,n,{latestValues:r},s,a=!1,l){const f=(l??t0(t)?yV:gV)(e,r,s,t),m=dV(e,typeof t=="string",a),y=t!==V.Fragment?{...m,...f,ref:n}:{},{children:_}=e,b=V.useMemo(()=>ln(_)?_.get():_,[_]);return V.createElement(t,{...y,children:b})}function _V({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:xV(n,r,s,t),renderState:e()}}function xV(t,e,n,r){const s={},a=r(t,{});for(const b in a)s[b]=hh(a[b]);let{initial:l,animate:u}=t;const f=hf(t),m=mT(t);e&&m&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?u:l;if(_&&typeof _!="boolean"&&!df(_)){const b=Array.isArray(_)?_:[_];for(let T=0;T<b.length;T++){const I=$y(t,b[T]);if(I){const{transitionEnd:N,transition:C,...z}=I;for(const G in z){let F=z[G];if(Array.isArray(F)){const Y=y?F.length-1:0;F=F[Y]}F!==null&&(s[G]=F)}for(const G in N)s[G]=N[G]}}}return s}const qT=t=>(e,n)=>{const r=V.useContext(ff),s=V.useContext(uf),a=()=>_V(t,e,r,s);return n?a():Ty(a)},bV=qT({scrapeMotionValuesFromProps:Jy,createRenderState:e0}),EV=qT({scrapeMotionValuesFromProps:ST,createRenderState:WT}),TV=Symbol.for("motionComponentSymbol");function kV(t,e,n){const r=V.useRef(n);V.useInsertionEffect(()=>{r.current=n});const s=V.useRef(null);return V.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const u=l(a);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):l(a);else l&&(l.current=a)},[e])}const GT=V.createContext({});function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function IV(t,e,n,r,s,a){const{visualElement:l}=V.useContext(ff),u=V.useContext(BT),f=V.useContext(uf),m=V.useContext(Zy),y=m.reducedMotion,_=m.skipAnimations,b=V.useRef(null),T=V.useRef(!1);r=r||u.renderer,!b.current&&r&&(b.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:a}),T.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const I=b.current,N=V.useContext(GT);I&&!I.projection&&s&&(I.type==="html"||I.type==="svg")&&SV(b.current,n,s,N);const C=V.useRef(!1);V.useInsertionEffect(()=>{I&&C.current&&I.update(n,f)});const z=n[tT],G=V.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return y2(()=>{T.current=!0,I&&(C.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),G.current&&I.animationState&&I.animationState.animateChanges())}),V.useEffect(()=>{I&&(!G.current&&I.animationState&&I.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),G.current=!1),I.enteringChildren=void 0)}),I}function SV(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:KT(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Sa(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:m})}function KT(t){if(t)return t.options.allowProjection!==!1?t.projection:KT(t.parent)}function Mm(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&lV(r);const a=n?n==="svg":t0(t),l=a?EV:bV;function u(m,y){let _;const b={...V.useContext(Zy),...m,layoutId:CV(m)},{isStatic:T}=b,I=fV(m),N=l(m,T);if(!T&&g2){AV();const C=PV(b);_=C.MeasureLayout,I.visualElement=IV(t,N,b,s,C.ProjectionNode,a)}return p.jsxs(ff.Provider,{value:I,children:[_&&I.visualElement?p.jsx(_,{visualElement:I.visualElement,...b}):null,wV(t,m,kV(N,I.visualElement,y),N,T,e,a)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=V.forwardRef(u);return f[TV]=t,f}function CV({layoutId:t}){const e=V.useContext(Ey).id;return e&&t!==void 0?e+"-"+t:t}function AV(t,e){V.useContext(BT).strict}function PV(t){const e=zT(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function RV(t,e){if(typeof Proxy>"u")return Mm;const n=new Map,r=(a,l)=>Mm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Mm(l,void 0,t,e)),n.get(l))})}const NV=(t,e)=>e.isSVG??t0(t)?new c5(e):new r5(e,{allowProjection:t!==V.Fragment});class DV extends ki{constructor(e){super(e),e.animationState||(e.animationState=p5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();df(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jV=0;class MV extends ki{constructor(){super(...arguments),this.id=jV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OV={animation:{Feature:DV},exit:{Feature:MV}};function fu(t){return{point:{x:t.pageX,y:t.pageY}}}const LV=t=>e=>Gy(e)&&t(e,fu(e));function Tc(t,e,n,r){return zc(t,e,LV(n),r)}const QT=({current:t})=>t?t.ownerDocument.defaultView:null,fb=(t,e)=>Math.abs(t-e);function VV(t,e){const n=fb(t.x,e.x),r=fb(t.y,e.y);return Math.sqrt(n**2+r**2)}const pb=new Set(["auto","scroll"]);class YT{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Lm(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,N=VV(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!N)return;const{point:C}=T,{timestamp:z}=qt;this.history.push({...C,timestamp:z});const{onStart:G,onMove:F}=this.handlers;I||(G&&G(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,T)},this.handlePointerMove=(T,I)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Om(I,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(T,I)=>{this.end();const{onEnd:N,onSessionEnd:C,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Lm(T.type==="pointercancel"?this.lastMoveEventInfo:Om(I,this.transformPagePoint),this.history);this.startEvent&&N&&N(T,G),C&&C(T,G)},!Gy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const f=fu(e),m=Om(f,this.transformPagePoint),{point:y}=m,{timestamp:_}=qt;this.history=[{...y,timestamp:_}];const{onSessionStart:b}=n;b&&b(e,Lm(m,this.history)),this.removeListeners=uu(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(pb.has(r.overflowX)||pb.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),Ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),yi(this.updatePoint)}}function Om(t,e){return e?{point:e(t.point)}:t}function mb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lm({point:t},e){return{point:t,delta:mb(t,XT(e)),offset:mb(t,FV(e)),velocity:UV(e,.1)}}function FV(t){return t[0]}function XT(t){return t[t.length-1]}function UV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=XT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Hr(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&s.timestamp-r.timestamp>Hr(e)*2&&(r=t[1]);const a=er(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function BV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function gb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zV(t,{top:e,left:n,bottom:r,right:s}){return{x:gb(t.x,n,s),y:gb(t.y,e,r)}}function yb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function $V(t,e){return{x:yb(t.x,e.x),y:yb(t.y,e.y)}}function HV(t,e){let n=.5;const r=vn(t),s=vn(e);return s>r?n=Vc(e.min,e.max-r,t.min):r>s&&(n=Vc(t.min,t.max-s,e.min)),Kr(0,1,n)}function WV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ng=.35;function qV(t=Ng){return t===!1?t=0:t===!0&&(t=Ng),{x:vb(t,"left","right"),y:vb(t,"top","bottom")}}function vb(t,e,n){return{min:wb(t,e),max:wb(t,n)}}function wb(t,e){return typeof t=="number"?t:t[e]||0}const GV=new WeakMap;class KV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=_=>{n&&this.snapToCursor(fu(_).point),this.stopAnimation()},l=(_,b)=>{const{drag:T,dragPropagation:I,onDragStart:N}=this.getProps();if(T&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bL(T),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(z=>{let G=this.getAxisMotionValue(z).get()||0;if(Wr.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[z];Y&&(G=vn(Y)*(parseFloat(G)/100))}}this.originPoint[z]=G}),N&&Ze.update(()=>N(_,b),!1,!0),Tg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},u=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b;const{dragPropagation:T,dragDirectionLock:I,onDirectionLock:N,onDrag:C}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:z}=b;if(I&&this.currentDirection===null){this.currentDirection=YV(z),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",b.point,z),this.updateAxis("y",b.point,z),this.visualElement.render(),C&&Ze.update(()=>C(_,b),!1,!0)},f=(_,b)=>{this.latestPointerEvent=_,this.latestPanInfo=b,this.stop(_,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new YT(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:QT(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ze.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=BV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zV(r.layoutBox,e):this.constraints=!1,this.elastic=qV(n),s!==this.constraints&&!Sa(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Vr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=WV(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=XL(r,s.root,this.visualElement.getTransformPagePoint());let l=$V(s.layout.layoutBox,a);if(n){const u=n(KL(l));this.hasMutatedConstraints=!!u,u&&(l=vT(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Vr(y=>{if(!Kd(y,n,this.currentDirection))return;let _=f&&f[y]||{};l&&(_={min:0,max:0});const b=s?200:1e6,T=s?40:1e7,I={type:"inertia",velocity:r?e[y]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Tg(this.visualElement,e),r.start(zy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!Kd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-ct(l,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();s[l]=HV({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Vr(l=>{if(!Kd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(ct(f,m,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;GV.set(this.visualElement,this);const e=this.visualElement.current,n=Tc(e,"pointerdown",m=>{const{drag:y,dragListener:_=!0}=this.getProps(),b=m.target,T=b!==e&&CL(b);y&&_&&!T&&this.start(m)});let r;const s=()=>{const{dragConstraints:m}=this.getProps();Sa(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),r||(r=QV(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ze.read(s);const u=zc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Vr(_=>{const b=this.getAxisMotionValue(_);b&&(this.originPoint[_]+=m[_].translate,b.set(b.get()+m[_].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Ng,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function _b(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function QV(t,e,n){const r=Sx(t,_b(n)),s=Sx(e,_b(n));return()=>{r(),s()}}function Kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XV extends ki{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new KV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Vm=t=>(e,n)=>{t&&Ze.update(()=>t(e,n),!1,!0)};class JV extends ki{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new YT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Vm(e),onStart:Vm(n),onMove:Vm(r),onEnd:(a,l)=>{delete this.session,s&&Ze.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fm=!1;class ZV extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Fm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),Fm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ze.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Fm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function JT(t){const[e,n]=UT(),r=V.useContext(Ey);return p.jsx(ZV,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(GT),isPresent:e,safeToRemove:n})}const e4={pan:{Feature:JV},drag:{Feature:XV,ProjectionNode:FT,MeasureLayout:JT}};function xb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ze.postRender(()=>a(e,fu(e)))}class t4 extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=TL(e,(n,r)=>(xb(this.node,r,"Start"),s=>xb(this.node,s,"End"))))}unmount(){}}class n4 extends ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uu(zc(this.node.current,"focus",()=>this.onFocus()),zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ze.postRender(()=>a(e,fu(e)))}class r4 extends ki{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=PL(e,(s,a)=>(bb(this.node,a,"Start"),(l,{success:u})=>bb(this.node,l,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const Dg=new WeakMap,Um=new WeakMap,s4=t=>{const e=Dg.get(t.target);e&&e(t)},i4=t=>{t.forEach(s4)};function o4({root:t,...e}){const n=t||document;Um.has(n)||Um.set(n,{});const r=Um.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(i4,{root:t,...e})),r[s]}function a4(t,e,n){const r=o4(e);return Dg.set(t,n),r.observe(t),()=>{Dg.delete(t),r.unobserve(t)}}const l4={some:0,all:1};class c4 extends ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l4[s]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),b=m?y:_;b&&b(f)};return a4(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u4(e,n))&&this.startObserver()}unmount(){}}function u4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const d4={inView:{Feature:c4},tap:{Feature:r4},focus:{Feature:n4},hover:{Feature:t4}},h4={layout:{ProjectionNode:FT,MeasureLayout:JT}},f4={...OV,...d4,...e4,...h4},Mh=RV(f4,NV),p4=({activeTab:t,onTabChange:e})=>{const n=[{id:"dashboard",label:"Inicio",icon:p.jsx(Rj,{size:22}),path:"dashboard"},{id:"analyzer",label:"Mente IA",icon:p.jsx(Co,{size:22}),path:"analyzer"},{id:"history",label:"Progreso",icon:p.jsx(l2,{size:22}),path:"history"},{id:"settings",label:"Clnico",icon:p.jsx(Qj,{size:22}),path:"settings"},{id:"profile",label:"T",icon:p.jsx(p2,{size:22}),path:"profile"}],r=t==="clinical-settings"?"settings":t||"dashboard";return p.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-6 pb-8 pt-4 z-[900] pointer-events-none",children:p.jsx("nav",{className:"max-w-md mx-auto bg-white/80 backdrop-blur-2xl border border-white/40 shadow-[0_20px_50px_rgba(0,0,0,0.1)] rounded-[2.5rem] px-2 py-3 flex items-center justify-between pointer-events-auto relative overflow-hidden",children:n.map(s=>{const a=r===s.id;return p.jsxs("button",{onClick:()=>e(s.path),className:"relative flex flex-col items-center justify-center py-2 px-3 transition-all duration-500 group flex-1",children:[a&&p.jsx(Mh.div,{layoutId:"nav-indicator",className:"absolute -top-3 w-1.5 h-1.5 bg-blue-600 rounded-full shadow-[0_0_10px_#2563EB]",transition:{type:"spring",stiffness:380,damping:30}}),p.jsx("div",{className:`transition-all duration-300 transform ${a?"scale-110 text-blue-600":"text-slate-400 group-hover:text-slate-600"}`,children:s.icon}),p.jsx("span",{className:`text-[8px] font-black uppercase tracking-[0.1em] mt-1.5 transition-colors duration-300 ${a?"text-blue-600":"text-slate-400"}`,children:s.label}),a&&p.jsx(Mh.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-blue-50/50 rounded-2xl -z-10",transition:{type:"spring",stiffness:300,damping:30}})]},s.id)})})})},m4=({message:t,type:e="info",actionText:n,onAction:r,duration:s=4e3,snackbarKey:a})=>{const[l,u]=V.useState(!1);if(V.useEffect(()=>{if(a>0){u(!0);const m=setTimeout(()=>u(!1),s);return()=>clearTimeout(m)}},[a,s]),!l)return null;const f={success:"bg-metra-green shadow-metra-green/20",error:"bg-red-500 shadow-red-500/20",info:"bg-metra-dark shadow-metra-dark/20"};return p.jsx("div",{className:"fixed top-10 left-1/2 -translate-x-1/2 z-[2000] w-[90%] max-w-sm p-1 rounded-[2rem] animate-in slide-in-from-top-10 duration-500",children:p.jsxs("div",{className:`flex items-center justify-between px-6 py-4 rounded-[1.8rem] text-white shadow-2xl ${f[e]} backdrop-blur-md border border-white/10`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),p.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:t})]}),n&&p.jsx("button",{onClick:()=>{r?.(),u(!1)},className:"bg-white/20 px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-white/30 transition-colors",children:n})]})})};var Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fo,ZT;(function(){var t;function e(j,S){function A(){}A.prototype=S.prototype,j.D=S.prototype,j.prototype=new A,j.prototype.constructor=j,j.C=function(D,L,U){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return S.prototype[L].apply(D,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)D[L]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(L=0;16>L;++L)D[L]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=j.g[0],A=j.g[1],L=j.g[2];var U=j.g[3],R=S+(U^A&(L^U))+D[0]+3614090360&4294967295;S=A+(R<<7&4294967295|R>>>25),R=U+(L^S&(A^L))+D[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=L+(A^U&(S^A))+D[2]+606105819&4294967295,L=U+(R<<17&4294967295|R>>>15),R=A+(S^L&(U^S))+D[3]+3250441966&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(U^A&(L^U))+D[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(L^S&(A^L))+D[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=L+(A^U&(S^A))+D[6]+2821735955&4294967295,L=U+(R<<17&4294967295|R>>>15),R=A+(S^L&(U^S))+D[7]+4249261313&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(U^A&(L^U))+D[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(L^S&(A^L))+D[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=L+(A^U&(S^A))+D[10]+4294925233&4294967295,L=U+(R<<17&4294967295|R>>>15),R=A+(S^L&(U^S))+D[11]+2304563134&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(U^A&(L^U))+D[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(L^S&(A^L))+D[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=L+(A^U&(S^A))+D[14]+2792965006&4294967295,L=U+(R<<17&4294967295|R>>>15),R=A+(S^L&(U^S))+D[15]+1236535329&4294967295,A=L+(R<<22&4294967295|R>>>10),R=S+(L^U&(A^L))+D[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^L&(S^A))+D[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(U^S))+D[11]+643717713&4294967295,L=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(L^U))+D[0]+3921069994&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^U&(A^L))+D[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^L&(S^A))+D[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(U^S))+D[15]+3634488961&4294967295,L=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(L^U))+D[4]+3889429448&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^U&(A^L))+D[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^L&(S^A))+D[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(U^S))+D[3]+4107603335&4294967295,L=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(L^U))+D[8]+1163531501&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(L^U&(A^L))+D[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^L&(S^A))+D[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=L+(S^A&(U^S))+D[7]+1735328473&4294967295,L=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(L^U))+D[12]+2368359562&4294967295,A=L+(R<<20&4294967295|R>>>12),R=S+(A^L^U)+D[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^L)+D[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=L+(U^S^A)+D[11]+1839030562&4294967295,L=U+(R<<16&4294967295|R>>>16),R=A+(L^U^S)+D[14]+4259657740&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^U)+D[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^L)+D[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=L+(U^S^A)+D[7]+4139469664&4294967295,L=U+(R<<16&4294967295|R>>>16),R=A+(L^U^S)+D[10]+3200236656&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^U)+D[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^L)+D[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=L+(U^S^A)+D[3]+3572445317&4294967295,L=U+(R<<16&4294967295|R>>>16),R=A+(L^U^S)+D[6]+76029189&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(A^L^U)+D[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^L)+D[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=L+(U^S^A)+D[15]+530742520&4294967295,L=U+(R<<16&4294967295|R>>>16),R=A+(L^U^S)+D[2]+3299628645&4294967295,A=L+(R<<23&4294967295|R>>>9),R=S+(L^(A|~U))+D[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~L))+D[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=L+(S^(U|~A))+D[14]+2878612391&4294967295,L=U+(R<<15&4294967295|R>>>17),R=A+(U^(L|~S))+D[5]+4237533241&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~U))+D[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~L))+D[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=L+(S^(U|~A))+D[10]+4293915773&4294967295,L=U+(R<<15&4294967295|R>>>17),R=A+(U^(L|~S))+D[1]+2240044497&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~U))+D[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~L))+D[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=L+(S^(U|~A))+D[6]+2734768916&4294967295,L=U+(R<<15&4294967295|R>>>17),R=A+(U^(L|~S))+D[13]+1309151649&4294967295,A=L+(R<<21&4294967295|R>>>11),R=S+(L^(A|~U))+D[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~L))+D[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=L+(S^(U|~A))+D[2]+718787259&4294967295,L=U+(R<<15&4294967295|R>>>17),R=A+(U^(L|~S))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+L&4294967295,j.g[3]=j.g[3]+U&4294967295}r.prototype.u=function(j,S){S===void 0&&(S=j.length);for(var A=S-this.blockSize,D=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=A;)s(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<S;)if(D[L++]=j.charCodeAt(U++),L==this.blockSize){s(this,D),L=0;break}}else for(;U<S;)if(D[L++]=j[U++],L==this.blockSize){s(this,D),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;var A=8*this.o;for(S=j.length-8;S<j.length;++S)j[S]=A&255,A/=256;for(this.u(j),j=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)j[A++]=this.g[S]>>>D&255;return j};function a(j,S){var A=u;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=S(j)}function l(j,S){this.h=S;for(var A=[],D=!0,L=j.length-1;0<=L;L--){var U=j[L]|0;D&&U==S||(A[L]=U,D=!1)}this.g=A}var u={};function f(j){return-128<=j&&128>j?a(j,function(S){return new l([S|0],0>S?-1:0)}):new l([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return _;if(0>j)return C(m(-j));for(var S=[],A=1,D=0;j>=A;D++)S[D]=j/A|0,A*=4294967296;return new l(S,0)}function y(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return C(y(j.substring(1),S));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(S,8)),D=_,L=0;L<j.length;L+=8){var U=Math.min(8,j.length-L),R=parseInt(j.substring(L,L+U),S);8>U?(U=m(Math.pow(S,U)),D=D.j(U).add(m(R))):(D=D.j(A),D=D.add(m(R)))}return D}var _=f(0),b=f(1),T=f(16777216);t=l.prototype,t.m=function(){if(N(this))return-C(this).m();for(var j=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);j+=(0<=D?D:4294967296+D)*S,S*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(N(this))return"-"+C(this).toString(j);for(var S=m(Math.pow(j,6)),A=this,D="";;){var L=Y(A,S).g;A=z(A,L.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(j);if(A=L,I(A))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(var S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function N(j){return j.h==-1}t.l=function(j){return j=z(this,j),N(j)?-1:I(j)?0:1};function C(j){for(var S=j.g.length,A=[],D=0;D<S;D++)A[D]=~j.g[D];return new l(A,~j.h).add(b)}t.abs=function(){return N(this)?C(this):this},t.add=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],D=0,L=0;L<=S;L++){var U=D+(this.i(L)&65535)+(j.i(L)&65535),R=(U>>>16)+(this.i(L)>>>16)+(j.i(L)>>>16);D=R>>>16,U&=65535,R&=65535,A[L]=R<<16|U}return new l(A,A[A.length-1]&-2147483648?-1:0)};function z(j,S){return j.add(C(S))}t.j=function(j){if(I(this)||I(j))return _;if(N(this))return N(j)?C(this).j(C(j)):C(C(this).j(j));if(N(j))return C(this.j(C(j)));if(0>this.l(T)&&0>j.l(T))return m(this.m()*j.m());for(var S=this.g.length+j.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<j.g.length;L++){var U=this.i(D)>>>16,R=this.i(D)&65535,st=j.i(L)>>>16,It=j.i(L)&65535;A[2*D+2*L]+=R*It,G(A,2*D+2*L),A[2*D+2*L+1]+=U*It,G(A,2*D+2*L+1),A[2*D+2*L+1]+=R*st,G(A,2*D+2*L+1),A[2*D+2*L+2]+=U*st,G(A,2*D+2*L+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new l(A,0)};function G(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function F(j,S){this.g=j,this.h=S}function Y(j,S){if(I(S))throw Error("division by zero");if(I(j))return new F(_,_);if(N(j))return S=Y(C(j),S),new F(C(S.g),C(S.h));if(N(S))return S=Y(j,C(S)),new F(C(S.g),S.h);if(30<j.g.length){if(N(j)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var A=b,D=S;0>=D.l(j);)A=te(A),D=te(D);var L=ae(A,1),U=ae(D,1);for(D=ae(D,2),A=ae(A,2);!I(D);){var R=U.add(D);0>=R.l(j)&&(L=L.add(A),U=R),D=ae(D,1),A=ae(A,1)}return S=z(j,L.j(S)),new F(L,S)}for(L=_;0<=j.l(S);){for(A=Math.max(1,Math.floor(j.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=m(A),R=U.j(S);N(R)||0<R.l(j);)A-=D,U=m(A),R=U.j(S);I(U)&&(U=b),L=L.add(U),j=z(j,R)}return new F(L,j)}t.A=function(j){return Y(this,j).h},t.and=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&j.i(D);return new l(A,this.h&j.h)},t.or=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|j.i(D);return new l(A,this.h|j.h)},t.xor=function(j){for(var S=Math.max(this.g.length,j.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^j.i(D);return new l(A,this.h^j.h)};function te(j){for(var S=j.g.length+1,A=[],D=0;D<S;D++)A[D]=j.i(D)<<1|j.i(D-1)>>>31;return new l(A,j.h)}function ae(j,S){var A=S>>5;S%=32;for(var D=j.g.length-A,L=[],U=0;U<D;U++)L[U]=0<S?j.i(U+A)>>>S|j.i(U+A+1)<<32-S:j.i(U+A);return new l(L,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,fo=l}).apply(typeof Eb<"u"?Eb:typeof self<"u"?self:typeof window<"u"?window:{});var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ek,gc,tk,ph,jg,nk,rk,sk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,x){return d==Array.prototype||d==Object.prototype||(d[v]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qd=="object"&&Qd];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(d,v){if(v)e:{var x=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var $=d[k];if(!($ in x))break e;x=x[$]}d=d[d.length-1],k=x[d],v=v(k),v!=k&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var x=0,k=!1,$={next:function(){if(!k&&x<d.length){var K=x++;return{value:v(K,d[K]),done:!1}}return k=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(d){return d||function(){return a(this,function(v,x){return x})}});var l=l||{},u=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,x){return d.call.apply(d.bind,arguments)}function _(d,v,x){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,k),d.apply(v,$)}}return function(){return d.apply(v,arguments)}}function b(d,v,x){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function T(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function I(d,v){function x(){}x.prototype=v.prototype,d.aa=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(k,$,K){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return v.prototype[$].apply(k,oe)}}function N(d){const v=d.length;if(0<v){const x=Array(v);for(let k=0;k<v;k++)x[k]=d[k];return x}return[]}function C(d,v){for(let x=1;x<arguments.length;x++){const k=arguments[x];if(f(k)){const $=d.length||0,K=k.length||0;d.length=$+K;for(let oe=0;oe<K;oe++)d[$+oe]=k[oe]}else d.push(k)}}class z{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var te=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(d,v,x){for(const k in d)v.call(x,d[k],k,d)}function j(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function S(d){const v={};for(const x in d)v[x]=d[x];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,v){let x,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(x in k)d[x]=k[x];for(let K=0;K<A.length;K++)x=A[K],Object.prototype.hasOwnProperty.call(k,x)&&(d[x]=k[x])}}function L(d){var v=1;d=d.split(":");const x=[];for(;0<v&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function U(d){u.setTimeout(()=>{throw d},0)}function R(){var d=ge;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class st{constructor(){this.h=this.g=null}add(v,x){const k=It.get();k.set(v,x),this.h?this.h.next=k:this.g=k,this.h=k}}var It=new z(()=>new Bt,d=>d.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,se=!1,ge=new st,le=()=>{const d=u.Promise.resolve(void 0);Ie=()=>{d.then(B)}};var B=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(x){U(x)}var v=It;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};u.addEventListener("test",x,v),u.removeEventListener("test",x,v)}catch{}return d})();function Re(d,v){if(we.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(te){e:{try{Y(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement);this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}I(Re,we);var Oe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ye(d,v,x,k,$){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!k,this.ha=$,this.key=++$e,this.da=this.fa=!1}function jt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Xr(d){this.src=d,this.g={},this.h=0}Xr.prototype.add=function(d,v,x,k,$){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var oe=Is(d,v,k,$);return-1<oe?(v=d[oe],x||(v.fa=!1)):(v=new Ye(v,this.src,K,!!k,$),v.fa=x,d.push(v)),v};function Do(d,v){var x=v.type;if(x in d.g){var k=d.g[x],$=Array.prototype.indexOf.call(k,v,void 0),K;(K=0<=$)&&Array.prototype.splice.call(k,$,1),K&&(jt(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Is(d,v,x,k){for(var $=0;$<d.length;++$){var K=d[$];if(!K.da&&K.listener==v&&K.capture==!!x&&K.ha==k)return $}return-1}var Ci="closure_lm_"+(1e6*Math.random()|0),jo={};function ml(d,v,x,k,$){if(Array.isArray(v)){for(var K=0;K<v.length;K++)ml(d,v[K],x,k,$);return null}return x=vl(x),d&&d[ze]?d.K(v,x,m(k)?!!k.capture:!1,$):gl(d,v,x,!1,k,$)}function gl(d,v,x,k,$,K){if(!v)throw Error("Invalid event type");var oe=m($)?!!$.capture:!!$,qe=Oo(d);if(qe||(d[Ci]=qe=new Xr(d)),x=qe.add(v,x,k,oe,K),x.proxy)return x;if(k=Cu(),x.proxy=k,k.src=d,k.listener=x,d.addEventListener)Pe||($=oe),$===void 0&&($=!1),d.addEventListener(v.toString(),k,$);else if(d.attachEvent)d.attachEvent(Zr(v.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Cu(){function d(x){return v.call(d.src,d.listener,x)}const v=yl;return d}function Mo(d,v,x,k,$){if(Array.isArray(v))for(var K=0;K<v.length;K++)Mo(d,v[K],x,k,$);else k=m(k)?!!k.capture:!!k,x=vl(x),d&&d[ze]?(d=d.i,v=String(v).toString(),v in d.g&&(K=d.g[v],x=Is(K,x,k,$),-1<x&&(jt(K[x]),Array.prototype.splice.call(K,x,1),K.length==0&&(delete d.g[v],d.h--)))):d&&(d=Oo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Is(v,x,k,$)),(x=-1<d?v[d]:null)&&Jr(x))}function Jr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ze])Do(v.i,d);else{var x=d.type,k=d.proxy;v.removeEventListener?v.removeEventListener(x,k,d.capture):v.detachEvent?v.detachEvent(Zr(x),k):v.addListener&&v.removeListener&&v.removeListener(k),(x=Oo(v))?(Do(x,d),x.h==0&&(x.src=null,v[Ci]=null)):jt(d)}}}function Zr(d){return d in jo?jo[d]:jo[d]="on"+d}function yl(d,v){if(d.da)d=!0;else{v=new Re(v,this);var x=d.listener,k=d.ha||d.src;d.fa&&Jr(d),d=x.call(k,v)}return d}function Oo(d){return d=d[Ci],d instanceof Xr?d:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function vl(d){return typeof d=="function"?d:(d[Lo]||(d[Lo]=function(v){return d.handleEvent(v)}),d[Lo])}function St(){X.call(this),this.i=new Xr(this),this.M=this,this.F=null}I(St,X),St.prototype[ze]=!0,St.prototype.removeEventListener=function(d,v,x,k){Mo(this,d,v,x,k)};function Ct(d,v){var x,k=d.F;if(k)for(x=[];k;k=k.F)x.push(k);if(d=d.M,k=v.type||v,typeof v=="string")v=new we(v,d);else if(v instanceof we)v.target=v.target||d;else{var $=v;v=new we(k,d),D(v,$)}if($=!0,x)for(var K=x.length-1;0<=K;K--){var oe=v.g=x[K];$=es(oe,k,!0,v)&&$}if(oe=v.g=d,$=es(oe,k,!0,v)&&$,$=es(oe,k,!1,v)&&$,x)for(K=0;K<x.length;K++)oe=v.g=x[K],$=es(oe,k,!1,v)&&$}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var x=d.g[v],k=0;k<x.length;k++)jt(x[k]);delete d.g[v],d.h--}}this.F=null},St.prototype.K=function(d,v,x,k){return this.i.add(String(d),v,!1,x,k)},St.prototype.L=function(d,v,x,k){return this.i.add(String(d),v,!0,x,k)};function es(d,v,x,k){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,K=0;K<v.length;++K){var oe=v[K];if(oe&&!oe.da&&oe.capture==x){var qe=oe.listener,At=oe.ha||oe.src;oe.fa&&Do(d.i,oe),$=qe.call(At,k)!==!1&&$}}return $&&!k.defaultPrevented}function wl(d,v,x){if(typeof d=="function")x&&(d=b(d,x));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Ss(d){d.g=wl(()=>{d.g=null,d.i&&(d.i=!1,Ss(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ai extends X{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ss(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(d){X.call(this),this.h=d,this.g={}}I(Pi,X);var _l=[];function xl(d){ae(d.g,function(v,x){this.g.hasOwnProperty(x)&&Jr(v)},d),d.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),xl(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=u.JSON.stringify,El=u.JSON.parse,Tl=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ri(){}Ri.prototype.h=null;function Vo(d){return d.h||(d.h=d.i())}function Fo(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){we.call(this,"d")}I(Sr,we);function Uo(){we.call(this,"c")}I(Uo,we);var Cr={},kl=null;function Ni(){return kl=kl||new St}Cr.La="serverreachability";function Il(d){we.call(this,Cr.La,d)}I(Il,we);function ts(d){const v=Ni();Ct(v,new Il(v))}Cr.STAT_EVENT="statevent";function Sl(d,v){we.call(this,Cr.STAT_EVENT,d),this.stat=v}I(Sl,we);function mt(d){const v=Ni();Ct(v,new Sl(v,d))}Cr.Ma="timingevent";function Bo(d,v){we.call(this,Cr.Ma,d),this.size=v}I(Bo,we);function sr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function ji(d,v,x,k,$,K){d.info(function(){if(d.g)if(K)for(var oe="",qe=K.split("&"),At=0;At<qe.length;At++){var Le=qe[At].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var _t=Mt.split("_");oe=2<=_t.length&&_t[1]=="type"?oe+(Mt+"="+Le+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+v+`
`+x+`
`+oe})}function zo(d,v,x,k,$,K,oe){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+v+`
`+x+`
`+K+" "+oe})}function ir(d,v,x,k){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ff(d,x)+(k?" "+k:"")})}function Cl(d,v){d.info(function(){return"TIMEOUT: "+v})}Di.prototype.info=function(){};function Ff(d,v){if(!d.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var k=x[d];if(!(2>k.length)){var $=k[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return bl(x)}catch{return v}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function Mi(){}I(Mi,Ri),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},or=new Mi;function ar(d,v,x,k){this.j=d,this.i=v,this.l=x,this.R=k||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Al={},Ho={};function Wo(d,v,x){d.L=1,d.v=Ns(Nn(v)),d.m=x,d.P=!0,Pl(d,null)}function Pl(d,v){d.F=Date.now(),Xe(d),d.A=Nn(d.v);var x=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),js(x.i,"t",k),d.C=0,x=d.j.J,d.h=new Pu,d.g=Ku(d.j,x?v:null,!d.m),0<d.O&&(d.M=new Ai(b(d.Y,d,d.g),d.O)),v=d.U,x=d.g,k=d.ca;var $="readystatechange";Array.isArray($)||($&&(_l[0]=$.toString()),$=_l);for(var K=0;K<$.length;K++){var oe=ml(x,$[K],k||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ts(),ji(d.i,d.u,d.A,d.l,d.R,d.m)}ar.prototype.ca=function(d){d=d.target;const v=this.M;v&&bn(d)==3?v.j():this.Y(d)},ar.prototype.Y=function(d){try{if(d==this.g)e:{const _t=bn(this.g);var v=this.g.Ba();const qn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Ol(this.g)))){this.J||_t!=4||v==7||(v==8||0>=qn?ts(3):ts(2)),Oi(this);var x=this.g.Z();this.X=x;t:if(Ru(this)){var k=Ol(this.g);d="";var $=k.length,K=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Cs(this);var oe="";break t}this.h.i=new u.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,d+=this.h.i.decode(k[v],{stream:!(K&&v==$-1)});k.length=0,this.h.g+=d,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=x==200,zo(this.i,this.u,this.A,this.l,this.R,_t,x),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,At=this.g;if((qe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Le=qe;break t}}Le=null}if(x=Le)ir(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rl(this,x);else{this.o=!1,this.s=3,mt(12),Hn(this),Cs(this);break e}}if(this.P){x=!0;let jn;for(;!this.J&&this.C<oe.length;)if(jn=Uf(this,oe),jn==Ho){_t==4&&(this.s=4,mt(14),x=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Al){this.s=4,mt(15),ir(this.i,this.l,oe,"[Invalid Chunk]"),x=!1;break}else ir(this.i,this.l,jn,null),Rl(this,jn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),x=!1),this.o=this.o&&x,!x)ir(this.i,this.l,oe,"[Invalid Chunked Response]"),Hn(this),Cs(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Vl(Mt),Mt.M=!0,mt(11))}}else ir(this.i,this.l,oe,null),Rl(this,oe);_t==4&&Hn(this),this.o&&!this.J&&(_t==4?na(this.j,this):(this.o=!1,Xe(this)))}else Xo(this.g),x==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Hn(this),Cs(this)}}}catch{}};function Ru(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Uf(d,v){var x=d.C,k=v.indexOf(`
`,x);return k==-1?Ho:(x=Number(v.substring(x,k)),isNaN(x)?Al:(k+=1,k+x>v.length?Ho:(v=v.slice(k,k+x),d.C=k+x,v)))}ar.prototype.cancel=function(){this.J=!0,Hn(this)};function Xe(d){d.S=Date.now()+d.I,Nu(d,d.I)}function Nu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=sr(b(d.ba,d),v)}function Oi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}ar.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Cl(this.i,this.A),this.L!=2&&(ts(),mt(17)),Hn(this),this.s=2,Cs(this)):Nu(this,this.S-d)};function Cs(d){d.j.G==0||d.J||na(d.j,d)}function Hn(d){Oi(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,xl(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Rl(d,v){try{var x=d.j;if(x.G!=0&&(x.g==d||hn(x.h,d))){if(!d.K&&hn(x.h,d)&&x.G==3){try{var k=x.Da.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)ta(x),hr(x);else break e;ea(x),mt(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=sr(b(x.Za,x),6e3));if(1>=ju(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else os(x,11)}else if((d.K||x.g==d)&&ta(x),!G(v))for($=x.Da.g.parse(v),v=0;v<$.length;v++){let Le=$[v];if(x.T=Le[0],Le=Le[1],x.G==2)if(Le[0]=="c"){x.K=Le[1],x.ia=Le[2];const Mt=Le[3];Mt!=null&&(x.la=Mt,x.j.info("VER="+x.la));const _t=Le[4];_t!=null&&(x.Aa=_t,x.j.info("SVER="+x.Aa));const qn=Le[5];qn!=null&&typeof qn=="number"&&0<qn&&(k=1.5*qn,x.L=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const jn=d.g;if(jn){const $i=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($i){var K=k.h;K.g||$i.indexOf("spdy")==-1&&$i.indexOf("quic")==-1&&$i.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Nl(K,K.h),K.h=null))}if(k.D){const sa=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(k.ya=sa,Ke(k.I,k.D,sa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),k=x;var oe=d;if(k.qa=Gu(k,k.J?k.ia:null,k.W),oe.K){Mu(k.h,oe);var qe=oe,At=k.L;At&&(qe.I=At),qe.B&&(Oi(qe),Xe(qe)),k.g=oe}else zi(k);0<x.i.length&&Nr(x)}else Le[0]!="stop"&&Le[0]!="close"||os(x,7);else x.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?os(x,7):$t(x):Le[0]!="noop"&&x.l&&x.l.ta(Le),x.v=0)}}ts(4)}catch{}}var Du=class{constructor(d,v){this.g=d,this.map=v}};function Li(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ju(d){return d.h?1:d.g?d.g.size:0}function hn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Nl(d,v){d.g?d.g.add(v):d.h=v}function Mu(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Li.prototype.cancel=function(){if(this.i=Ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ou(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.D);return v}return N(d.i)}function qo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],x=d.length,k=0;k<x;k++)v.push(d[k]);return v}v=[],x=0;for(k in d)v[x++]=d[k];return v}function Go(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var x=0;x<d;x++)v.push(x);return v}v=[],x=0;for(const k in d)v[x++]=k;return v}}}function As(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var x=Go(d),k=qo(d),$=k.length,K=0;K<$;K++)v.call(void 0,k[K],x&&x[K],d)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(d,v){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var k=d[x].indexOf("="),$=null;if(0<=k){var K=d[x].substring(0,k);$=d[x].substring(k+1)}else K=d[x];v(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ns(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ns){this.h=d.h,Fi(this,d.j),this.o=d.o,this.g=d.g,Ps(this,d.s),this.l=d.l;var v=d.i,x=new Ar;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),Rs(this,x),this.m=d.m}else d&&(v=String(d).match(Vi))?(this.h=!1,Fi(this,v[1]||"",!0),this.o=je(v[2]||""),this.g=je(v[3]||"",!0),Ps(this,v[4]),this.l=je(v[5]||"",!0),Rs(this,v[6]||"",!0),this.m=je(v[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}ns.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ds(v,Ko,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ds(v,Ko,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Ds(x,x.charAt(0)=="/"?Fu:Vu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Ds(x,Dl)),d.join("")};function Nn(d){return new ns(d)}function Fi(d,v,x){d.j=x?je(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ps(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Rs(d,v,x){v instanceof Ar?(d.i=v,Pr(d.i,d.h)):(x||(v=Ds(v,Uu)),d.i=new Ar(v,d.h))}function Ke(d,v,x){d.i.set(v,x)}function Ns(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function je(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ds(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,Lu),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Lu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ko=/[#\/\?@]/g,Vu=/[#\?:]/g,Fu=/[#\?]/g,Uu=/[#\?@]/g,Dl=/#/g;function Ar(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function zt(d){d.g||(d.g=new Map,d.h=0,d.i&&Bf(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}t=Ar.prototype,t.add=function(d,v){zt(this),this.i=null,d=Wn(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function lr(d,v){zt(d),v=Wn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function cr(d,v){return zt(d),v=Wn(d,v),d.g.has(v)}t.forEach=function(d,v){zt(this),this.g.forEach(function(x,k){x.forEach(function($){d.call(v,$,k,this)},this)},this)},t.na=function(){zt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let k=0;k<v.length;k++){const $=d[k];for(let K=0;K<$.length;K++)x.push(v[k])}return x},t.V=function(d){zt(this);let v=[];if(typeof d=="string")cr(this,d)&&(v=v.concat(this.g.get(Wn(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)v=v.concat(d[x])}return v},t.set=function(d,v){return zt(this),this.i=null,d=Wn(this,d),cr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function js(d,v,x){lr(d,v),0<x.length&&(d.i=null,d.g.set(Wn(d,v),N(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var k=v[x];const K=encodeURIComponent(String(k)),oe=this.V(k);for(k=0;k<oe.length;k++){var $=K;oe[k]!==""&&($+="="+encodeURIComponent(String(oe[k]))),d.push($)}}return this.i=d.join("&")};function Wn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Pr(d,v){v&&!d.j&&(zt(d),d.i=null,d.g.forEach(function(x,k){var $=k.toLowerCase();k!=$&&(lr(this,k),js(this,$,x))},d)),d.j=v}function zf(d,v){const x=new Di;if(u.Image){const k=new Image;k.onload=T(xn,x,"TestLoadImage: loaded",!0,v,k),k.onerror=T(xn,x,"TestLoadImage: error",!1,v,k),k.onabort=T(xn,x,"TestLoadImage: abort",!1,v,k),k.ontimeout=T(xn,x,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else v(!1)}function Bu(d,v){const x=new Di,k=new AbortController,$=setTimeout(()=>{k.abort(),xn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:k.signal}).then(K=>{clearTimeout($),K.ok?xn(x,"TestPingServer: ok",!0,v):xn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),xn(x,"TestPingServer: error",!1,v)})}function xn(d,v,x,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(x)}catch{}}function $f(){this.g=new Tl}function zu(d,v,x){const k=x||"";try{As(d,function($,K){let oe=$;m($)&&(oe=bl($)),v.push(k+K+"="+encodeURIComponent(oe))})}catch($){throw v.push(k+"type="+encodeURIComponent("_badmap")),$}}function rs(d){this.l=d.Ub||null,this.j=d.eb||!1}I(rs,Ri),rs.prototype.g=function(){return new Ui(this.l,this.j)},rs.prototype.i=(function(d){return function(){return d}})({});function Ui(d,v){St.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ui,St),t=Ui.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,dr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$u(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function $u(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ur(this):dr(this),this.readyState==3&&$u(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ur(this))},t.Qa=function(d){this.g&&(this.response=d,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(d){d.readyState=4,d.l=null,d.j=null,d.v=null,dr(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function dr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ss(d){let v="";return ae(d,function(x,k){v+=k,v+=":",v+=x,v+=`\r
`}),v}function Ms(d,v,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=ss(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):Ke(d,v,x))}function it(d){St.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(it,St);var Hf=/^https?$/i,jl=["POST","PUT"];t=it.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Vo(this.o):Vo(or),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(K){Bi(this,K);return}if(d=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)x.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const K of k.keys())x.set(K,k.get(K));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),$=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(jl,v,void 0))||k||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){Bi(this,K)}};function Bi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Qo(d),Dn(d)}function Qo(d){d.A||(d.A=!0,Ct(d,"complete"),Ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ct(this,"complete"),Ct(this,"abort"),Dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},t.bb=function(){Ml(this)};function Ml(d){if(d.h&&typeof l<"u"&&(!d.v[1]||bn(d)!=4||d.Z()!=2)){if(d.u&&bn(d)==4)wl(d.Ea,0,d);else if(Ct(d,"readystatechange"),bn(d)==4){d.h=!1;try{const oe=d.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var k;if(k=oe===0){var $=String(d.D).match(Vi)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),k=!Hf.test($?$.toLowerCase():"")}x=k}if(x)Ct(d,"complete"),Ct(d,"success");else{d.m=6;try{var K=2<bn(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",Qo(d)}}finally{Dn(d)}}}}function Dn(d,v){if(d.g){Yo(d);const x=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ct(d,"ready");try{x.onreadystatechange=k}catch{}}}function Yo(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function bn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),El(v)}};function Ol(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(d){const v={};d=(d.g&&2<=bn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(G(d[k]))continue;var x=L(d[k]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=v[$]||[];v[$]=K,K.push(x)}j(v,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function Ll(d){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,d),this.cb=Rr("retryDelaySeedMs",1e4,d),this.Wa=Rr("forwardChannelMaxRetries",2,d),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(d&&d.concurrentRequestLimit),this.Da=new $f,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ll.prototype,t.la=8,t.G=1,t.connect=function(d,v,x,k){mt(0),this.W=d,this.H=v||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.I=Gu(this,null,this.W),Nr(this)};function $t(d){if(Jo(d),d.G==3){var v=d.U++,x=Nn(d.I);if(Ke(x,"SID",d.K),Ke(x,"RID",v),Ke(x,"TYPE","terminate"),is(d,x),v=new ar(d,d.j,v),v.L=2,v.v=Ns(Nn(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=v.v,x=!0),x||(v.g=Ku(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}qu(d)}function hr(d){d.g&&(Vl(d),d.g.cancel(),d.g=null)}function Jo(d){hr(d),d.u&&(u.clearTimeout(d.u),d.u=null),ta(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Nr(d){if(!Rn(d.h)&&!d.s){d.s=!0;var v=d.Ga;Ie||le(),se||(Ie(),se=!0),ge.add(v,d),d.B=0}}function Wf(d,v){return ju(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=sr(b(d.Ga,d,v),Wu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new ar(this,this.j,d);let K=this.o;if(this.S&&(K?(K=S(K),D(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Os(this,$,v),x=Nn(this.I),Ke(x,"RID",d),Ke(x,"CVER",22),this.D&&Ke(x,"X-HTTP-Session-Id",this.D),is(this,x),K&&(this.O?v="headers="+encodeURIComponent(String(ss(K)))+"&"+v:this.m&&Ms(x,this.m,K)),Nl(this.h,$),this.Ua&&Ke(x,"TYPE","init"),this.P?(Ke(x,"$req",v),Ke(x,"SID","null"),$.T=!0,Wo($,x,null)):Wo($,x,v),this.G=2}}else this.G==3&&(d?Zo(this,d):this.i.length==0||Rn(this.h)||Zo(this))};function Zo(d,v){var x;v?x=v.l:x=d.U++;const k=Nn(d.I);Ke(k,"SID",d.K),Ke(k,"RID",x),Ke(k,"AID",d.T),is(d,k),d.m&&d.o&&Ms(k,d.m,d.o),x=new ar(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Os(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Nl(d.h,x),Wo(x,k,v)}function is(d,v){d.H&&ae(d.H,function(x,k){Ke(v,k,x)}),d.l&&As({},function(x,k){Ke(v,k,x)})}function Os(d,v,x){x=Math.min(d.i.length,x);var k=d.l?b(d.l.Na,d.l,d):null;e:{var $=d.i;let K=-1;for(;;){const oe=["count="+x];K==-1?0<x?(K=$[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let qe=!0;for(let At=0;At<x;At++){let Le=$[At].g;const Mt=$[At].map;if(Le-=K,0>Le)K=Math.max(0,$[At].g-100),qe=!1;else try{zu(Mt,oe,"req"+Le+"_")}catch{k&&k(Mt)}}if(qe){k=oe.join("&");break e}}}return d=d.i.splice(0,x),v.D=d,k}function zi(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Ie||le(),se||(Ie(),se=!0),ge.add(v,d),d.v=0}}function ea(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=sr(b(d.Fa,d),Wu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=sr(b(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),hr(this),Hu(this))};function Vl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Hu(d){d.g=new ar(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Nn(d.qa);Ke(v,"RID","rpc"),Ke(v,"SID",d.K),Ke(v,"AID",d.T),Ke(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(v,"TO",d.ja),Ke(v,"TYPE","xmlhttp"),is(d,v),d.m&&d.o&&Ms(v,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Ns(Nn(v)),x.m=null,x.P=!0,Pl(x,d)}t.Za=function(){this.C!=null&&(this.C=null,hr(this),ea(this),mt(19))};function ta(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function na(d,v){var x=null;if(d.g==v){ta(d),Vl(d),d.g=null;var k=2}else if(hn(d.h,v))x=v.D,Mu(d.h,v),k=1;else return;if(d.G!=0){if(v.o)if(k==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var $=d.B;k=Ni(),Ct(k,new Bo(k,x)),Nr(d)}else zi(d);else if($=v.s,$==3||$==0&&0<v.X||!(k==1&&Wf(d,v)||k==2&&ea(d)))switch(x&&0<x.length&&(v=d.h,v.i=v.i.concat(x)),$){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function Wu(d,v){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*v}function os(d,v){if(d.j.info("Error code "+v),v==2){var x=b(d.fb,d),k=d.Xa;const $=!k;k=new ns(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Fi(k,"https"),Ns(k),$?zf(k.toString(),x):Bu(k.toString(),x)}else mt(2);d.G=0,d.l&&d.l.sa(v),qu(d),Jo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function qu(d){if(d.G=0,d.ka=[],d.l){const v=Ou(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ka,v),C(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function Gu(d,v,x){var k=x instanceof ns?Nn(x):new ns(x);if(k.g!="")v&&(k.g=v+"."+k.g),Ps(k,k.s);else{var $=u.location;k=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var K=new ns(null);k&&Fi(K,k),v&&(K.g=v),$&&Ps(K,$),x&&(K.l=x),k=K}return x=d.D,v=d.ya,x&&v&&Ke(k,x,v),Ke(k,"VER",d.la),is(d,k),k}function Ku(d,v,x){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new it(new rs({eb:x})):new it(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fl(){}t=Fl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ra(){}ra.prototype.g=function(d,v){return new fn(d,v)};function fn(d,v){St.call(this),this.g=new Ll(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!G(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Dr(this)}I(fn,St),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){$t(this.g)},fn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=bl(d),d=x);v.i.push(new Du(v.Ya++,d)),v.G==3&&Nr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,fn.aa.N.call(this)};function Qu(d){Sr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}I(Qu,Sr);function Yu(){Uo.call(this),this.status=1}I(Yu,Uo);function Dr(d){this.g=d}I(Dr,Fl),Dr.prototype.ua=function(){Ct(this.g,"a")},Dr.prototype.ta=function(d){Ct(this.g,new Qu(d))},Dr.prototype.sa=function(d){Ct(this.g,new Yu)},Dr.prototype.ra=function(){Ct(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,sk=function(){return new ra},rk=function(){return Ni()},nk=Cr,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,ph=$o,Au.COMPLETE="complete",tk=Au,Fo.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",St.prototype.listen=St.prototype.K,gc=Fo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,ek=it}).apply(typeof Qd<"u"?Qd:typeof self<"u"?self:typeof window<"u"?window:{});const Tb="@firebase/firestore";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let al="10.14.0";const vo=new oy("@firebase/firestore");function dc(){return vo.logLevel}function me(t,...e){if(vo.logLevel<=Me.DEBUG){const n=e.map(n0);vo.debug(`Firestore (${al}): ${t}`,...n)}}function Ts(t,...e){if(vo.logLevel<=Me.ERROR){const n=e.map(n0);vo.error(`Firestore (${al}): ${t}`,...n)}}function qa(t,...e){if(vo.logLevel<=Me.WARN){const n=e.map(n0);vo.warn(`Firestore (${al}): ${t}`,...n)}}function n0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function Ge(t,e){t||Se()}function Ae(t,e){return t}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class y4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class v4{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fi,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new ik(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new nn(e)}}class w4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new w4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new x4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class ok{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=E4(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Dt(0,0))}static max(){return new Ce(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $c{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),l=n.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends $c{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const T4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends $c{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return T4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function k4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new wi(s,_e.empty(),e)}function I4(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(Ce.min(),_e.empty(),-1)}static max(){return new wi(Ce.max(),_e.empty(),-1)}}function S4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}const C4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==C4)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&n()}),(f=>r(f)))})),l=!0,a===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;n(e[m]).next((y=>{l[m]=y,++u,u===a&&r(l)}),(y=>s(y)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function P4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mu(t){return t.name==="IndexedDbTransactionError"}class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}r0.oe=-1;function pf(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function R4(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Qt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lk("Invalid base64 string: "+a):a}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const N4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=N4.exec(t);if(Ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}function s0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i0(t){const e=t.mapValue.fields.__previous_value__;return s0(e)?i0(e):e}function Hc(t){const e=_i(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}class D4{constructor(e,n,r,s,a,l,u,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m}}class Wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}const Xd={mapValue:{}};function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:M4(t)?9007199254740991:j4(t)?10:11:Se()}function Qr(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=_i(s.timestampValue),u=_i(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return wo(s.bytesValue).isEqual(wo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return vt(s.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return vt(s.integerValue)===vt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=vt(s.doubleValue),u=vt(a.doubleValue);return l===u?Oh(l)===Oh(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(kb(l)!==kb(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Qr(l[f],u[f])))return!1;return!0})(t,e);default:return Se()}}function qc(t,e){return(t.values||[]).find((n=>Qr(n,e)))!==void 0}function Ka(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=vt(a.integerValue||a.doubleValue),f=vt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return Sb(t.timestampValue,e.timestampValue);case 4:return Sb(Hc(t),Hc(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=wo(a),f=wo(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const y=Be(u[m],f[m]);if(y!==0)return y}return Be(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Be(vt(a.latitude),vt(l.latitude));return u!==0?u:Be(vt(a.longitude),vt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Cb(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var u,f,m,y;const _=a.fields||{},b=l.fields||{},T=(u=_.value)===null||u===void 0?void 0:u.arrayValue,I=(f=b.value)===null||f===void 0?void 0:f.arrayValue,N=Be(((m=T?.values)===null||m===void 0?void 0:m.length)||0,((y=I?.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:Cb(T,I)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Xd.mapValue&&l===Xd.mapValue)return 0;if(a===Xd.mapValue)return 1;if(l===Xd.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=Be(f[_],y[_]);if(b!==0)return b;const T=Ka(u[f[_]],m[y[_]]);if(T!==0)return T}return Be(f.length,y.length)})(t.mapValue,e.mapValue);default:throw Se()}}function Sb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=_i(t),r=_i(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function Cb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ka(n[s],r[s]);if(a)return a}return Be(n.length,r.length)}function Qa(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=_i(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Mg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Mg(n.fields[l])}`;return s+"}"})(t.mapValue):Se()}function Ab(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Og(t){return!!t&&"integerValue"in t}function o0(t){return!!t&&"arrayValue"in t}function Pb(t){return!!t&&"nullValue"in t}function Rb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function j4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function M4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=u.popLast()}l?r[u.lastSegment()]=kc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new An(kc(this.value))}}function ck(t){const e=[];return Ao(t.fields,((n,r)=>{const s=new Kt([n]);if(mh(r)){const a=ck(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Vn(e)}class sn{constructor(e,n,r,s,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),An.empty(),0)}static newFoundDocument(e,n,r,s){return new sn(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new sn(e,2,n,Ce.min(),Ce.min(),An.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ce.min(),Ce.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function Nb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=Ka(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function O4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class uk{}class Tt extends uk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V4(e,n,r):n==="array-contains"?new B4(e,r):n==="in"?new z4(e,r):n==="not-in"?new $4(e,r):n==="array-contains-any"?new H4(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F4(e,r):new U4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends uk{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kr(e,n)}matches(e){return dk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dk(t){return t.op==="and"}function hk(t){return L4(t)&&dk(t)}function L4(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function Lg(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(hk(t))return t.filters.map((e=>Lg(e))).join(",");{const e=t.filters.map((n=>Lg(n))).join(",");return`${t.op}(${e})`}}function fk(t,e){return t instanceof Tt?(function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Qr(r.value,s.value)})(t,e):t instanceof kr?(function(r,s){return s instanceof kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&fk(l,s.filters[u])),!0):!1})(t,e):void Se()}function pk(t){return t instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`})(t):t instanceof kr?(function(n){return n.op.toString()+" {"+n.getFilters().map(pk).join(" ,")+"}"})(t):"Filter"}class V4 extends Tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class F4 extends Tt{constructor(e,n){super(e,"in",n),this.keys=mk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class U4 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=mk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class B4 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o0(n)&&qc(n.arrayValue,this.value)}}class z4 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class $4 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}}class H4 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qc(this.value.arrayValue,r)))}}class W4{constructor(e,n=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.ue=null}}function jb(t,e=null,n=[],r=[],s=null,a=null,l=null){return new W4(t,e,n,r,s,a,l)}function a0(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Qa(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Qa(r))).join(",")),e.ue=n}return e.ue}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Db(t.startAt,e.startAt)&&Db(t.endAt,e.endAt)}function Vg(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ll{constructor(e,n=null,r=[],s=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q4(t,e,n,r,s,a,l,u){return new ll(t,e,n,r,s,a,l,u)}function mf(t){return new ll(t)}function Mb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gk(t){return t.collectionGroup!==null}function Ic(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Qt(Kt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Gc(a,r))})),n.has(Kt.keyField().canonicalString())||e.ce.push(new Gc(Kt.keyField(),r))}return e.ce}function qr(t){const e=Ae(t);return e.le||(e.le=G4(e,Ic(t))),e.le}function G4(t,e){if(t.limitType==="F")return jb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Gc(s.field,a)}));const n=t.endAt?new Lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lh(t.startAt.position,t.startAt.inclusive):null;return jb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fg(t,e){const n=t.filters.concat([e]);return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vh(t,e,n){return new ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return l0(qr(t),qr(e))&&t.limitType===e.limitType}function yk(t){return`${a0(qr(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>pk(s))).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Qa(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Qa(s))).join(",")),`Target(${r})`})(qr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of Ic(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,f){const m=Nb(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,Ic(r),s)||r.endAt&&!(function(l,u,f){const m=Nb(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,Ic(r),s))})(t,e)}function K4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vk(t){return(e,n)=>{let r=!1;for(const s of Ic(t)){const a=Q4(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Q4(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?Ka(f,m):Se()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return ak(this.inner)}size(){return this.innerSize}}const Y4=new ut(_e.comparator);function ks(){return Y4}const wk=new ut(_e.comparator);function yc(...t){let e=wk;for(const n of t)e=e.insert(n.key,n);return e}function _k(t){let e=wk;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function co(){return Sc()}function xk(){return Sc()}function Sc(){return new cl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const X4=new ut(_e.comparator),J4=new Qt(_e.comparator);function De(...t){let e=J4;for(const n of t)e=e.add(n);return e}const Z4=new Qt(Be);function eF(){return Z4}function c0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function bk(t){return{integerValue:""+t}}function tF(t,e){return R4(e)?bk(e):c0(t,e)}class vf{constructor(){this._=void 0}}function nF(t,e,n){return t instanceof Kc?(function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&s0(a)&&(a=i0(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):t instanceof Qc?Tk(t,e):t instanceof Yc?kk(t,e):(function(s,a){const l=Ek(s,a),u=Ob(l)+Ob(s.Pe);return Og(l)&&Og(s.Pe)?bk(u):c0(s.serializer,u)})(t,e)}function rF(t,e,n){return t instanceof Qc?Tk(t,e):t instanceof Yc?kk(t,e):n}function Ek(t,e){return t instanceof Fh?(function(r){return Og(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Kc extends vf{}class Qc extends vf{constructor(e){super(),this.elements=e}}function Tk(t,e){const n=Ik(e);for(const r of t.elements)n.some((s=>Qr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Yc extends vf{constructor(e){super(),this.elements=e}}function kk(t,e){let n=Ik(e);for(const r of t.elements)n=n.filter((s=>!Qr(s,r)));return{arrayValue:{values:n}}}class Fh extends vf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ob(t){return vt(t.integerValue||t.doubleValue)}function Ik(t){return o0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class sF{constructor(e,n){this.field=e,this.transform=n}}function iF(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Qc&&s instanceof Qc||r instanceof Yc&&s instanceof Yc?Ga(r.elements,s.elements,Qr):r instanceof Fh&&s instanceof Fh?Qr(r.Pe,s.Pe):r instanceof Kc&&s instanceof Kc})(t.transform,e.transform)}class oF{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function Sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ak(t.key,br.none()):new gu(t.key,t.data,br.none());{const n=t.data,r=An.empty();let s=new Qt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ii(t.key,r,new Vn(s.toArray()),br.none())}}function aF(t,e,n){t instanceof gu?(function(s,a,l){const u=s.value.clone(),f=Vb(s.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Ii?(function(s,a,l){if(!gh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Vb(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(Ck(s)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Cc(t,e,n,r){return t instanceof gu?(function(a,l,u,f){if(!gh(a.precondition,l))return u;const m=a.value.clone(),y=Fb(a.fieldTransforms,f,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ii?(function(a,l,u,f){if(!gh(a.precondition,l))return u;const m=Fb(a.fieldTransforms,f,l),y=l.data;return y.setAll(Ck(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,u){return gh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function lF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=Ek(r.transform,s||null);a!=null&&(n===null&&(n=An.empty()),n.set(r.field,a))}return n||null}function Lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ga(r,s,((a,l)=>iF(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends wf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ii extends wf{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ck(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Vb(t,e,n){const r=new Map;Ge(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,rF(l,u,n[s]))}return r}function Fb(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,nF(a,l,e))}return r}class Ak extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cF extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&aF(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xk();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(s.key)?null:u;const f=Sk(l,u);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),De())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,((n,r)=>Lb(n,r)))&&Ga(this.baseMutations,e.baseMutations,((n,r)=>Lb(n,r)))}}class u0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length);let s=(function(){return X4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new u0(e,n,r,s)}}class dF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hF{constructor(e,n){this.count=e,this.unchangedNames=n}}var bt,Ve;function fF(t){switch(t){default:return Se();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Pk(t){if(t===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(t){case bt.OK:return J.OK;case bt.CANCELLED:return J.CANCELLED;case bt.UNKNOWN:return J.UNKNOWN;case bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case bt.INTERNAL:return J.INTERNAL;case bt.UNAVAILABLE:return J.UNAVAILABLE;case bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case bt.NOT_FOUND:return J.NOT_FOUND;case bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case bt.ABORTED:return J.ABORTED;case bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case bt.DATA_LOSS:return J.DATA_LOSS;default:return Se()}}(Ve=bt||(bt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";function pF(){return new TextEncoder}const mF=new fo([4294967295,4294967295],0);function Ub(t){const e=pF().encode(t),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function Bb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,a],0)]}class d0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vc(`Invalid padding: ${n}`);if(r<0)throw new vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(mF)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ub(e),[r,s]=Bb(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new d0(a,s,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.Ie===0)return;const n=Ub(e),[r,s]=Bb(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(Ce.min(),s,new ut(Be),ks(),De())}}class yu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yu(r,n,De(),De(),De())}}class yh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Rk{constructor(e,n){this.targetId=e,this.me=n}}class Nk{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zb{constructor(){this.fe=0,this.ge=Hb(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}})),new yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Hb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gF{constructor(e){this.Le=e,this.Be=new Map,this.ke=ks(),this.qe=$b(),this.Qe=new ut(Be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Vg(a))if(r===0){const l=new _e(a.path);this.Ue(n,l,sn.newNoDocument(l,Ce.min()))}else Ge(r===1);else{const l=this.Ye(n);if(l!==r){const u=this.Ze(e),f=u?this.Xe(u,e,l):1;if(f!==0){this.je(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,u;try{l=wo(r).toUint8Array()}catch(f){if(f instanceof lk)return qa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new d0(l,s,a)}catch(f){return qa(f instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Le.tt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,a,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const u=this.Je(l);if(u){if(a.current&&Vg(u.target)){const f=new _e(u.target.path);this.ke.get(f)!==null||this.it(l,f)||this.Ue(l,f,sn.newNoDocument(f,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=De();this.qe.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const s=new _f(e,n,this.Qe,this.ke,r);return this.ke=ks(),this.qe=$b(),this.Qe=new ut(Be),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zb),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $b(){return new ut(_e.comparator)}function Hb(){return new ut(_e.comparator)}const yF={asc:"ASCENDING",desc:"DESCENDING"},vF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wF={and:"AND",or:"OR"};class _F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ug(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xF(t,e){return Uh(t,e.toTimestamp())}function Gr(t){return Ge(!!t),Ce.fromTimestamp((function(n){const r=_i(n);return new Dt(r.seconds,r.nanos)})(t))}function h0(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=(function(s){return new rt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function jk(t){const e=rt.fromString(t);return Ge(Fk(e)),e}function zg(t,e){return h0(t.databaseId,e.path)}function Bm(t,e){const n=jk(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Ok(n))}function Mk(t,e){return h0(t.databaseId,e)}function bF(t){const e=jk(t);return e.length===4?rt.emptyPath():Ok(e)}function $g(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ok(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wb(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function EF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(Ge(y===void 0||typeof y=="string"),Yt.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Yt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const y=m.code===void 0?J.UNKNOWN:Pk(m.code);return new ue(y,m.message||"")})(l);n=new Nk(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bm(t,r.document.name),a=Gr(r.document.updateTime),l=r.document.createTime?Gr(r.document.createTime):Ce.min(),u=new An({mapValue:{fields:r.document.fields}}),f=sn.newFoundDocument(s,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];n=new yh(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bm(t,r.document),a=r.readTime?Gr(r.readTime):Ce.min(),l=sn.newNoDocument(s,a),u=r.removedTargetIds||[];n=new yh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bm(t,r.document),a=r.removedTargetIds||[];n=new yh([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new hF(s,a),u=r.targetId;n=new Rk(u,l)}}return n}function TF(t,e){let n;if(e instanceof gu)n={update:Wb(t,e.key,e.value)};else if(e instanceof Ak)n={delete:zg(t,e.key)};else if(e instanceof Ii)n={update:Wb(t,e.key,e.data),updateMask:DF(e.fieldMask)};else{if(!(e instanceof cF))return Se();n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof Kc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fh)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw Se()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:xF(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()})(t,e.precondition)),n}function kF(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map((n=>(function(s,a){let l=s.updateTime?Gr(s.updateTime):Gr(a);return l.isEqual(Ce.min())&&(l=Gr(a)),new oF(l,s.transformResults||[])})(n,e)))):[]}function IF(t,e){return{documents:[Mk(t,e.path)]}}function SF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mk(t,s);const a=(function(m){if(m.length!==0)return Vk(kr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Aa(b.field),direction:PF(b.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Ug(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:s}}function CF(t){let e=bF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const b=Lk(_);return b instanceof kr&&hk(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((b=>(function(I){return new Gc(Pa(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(_){let b;return b=typeof _=="object"?_.value:_,pf(b)?null:b})(n.limit));let f=null;n.startAt&&(f=(function(_){const b=!!_.before,T=_.values||[];return new Lh(T,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const b=!_.before,T=_.values||[];return new Lh(T,b)})(n.endAt)),q4(e,s,l,a,u,"F",f,m)}function AF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pa(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pa(n.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pa(n.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pa(n.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Se()}})(t):t.fieldFilter!==void 0?(function(n){return Tt.create(Pa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return kr.create(n.compositeFilter.filters.map((r=>Lk(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}})(n.compositeFilter.op))})(t):Se()}function PF(t){return yF[t]}function RF(t){return vF[t]}function NF(t){return wF[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function Pa(t){return Kt.fromServerFormat(t.fieldPath)}function Vk(t){return t instanceof Tt?(function(n){if(n.op==="=="){if(Rb(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(Pb(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rb(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(Pb(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:RF(n.op),value:n.value}}})(t):t instanceof kr?(function(n){const r=n.getFilters().map((s=>Vk(s)));return r.length===1?r[0]:{compositeFilter:{op:NF(n.op),filters:r}}})(t):Se()}function DF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ai{constructor(e,n,r,s,a=Ce.min(),l=Ce.min(),u=Yt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jF{constructor(e){this.ct=e}}function MF(t){const e=CF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vh(e,e.limit,"L"):e}class OF{constructor(){this.un=new LF}addToCollectionParentIndex(e,n){return this.un.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(wi.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class LF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qt(rt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qt(rt.comparator)).toArray()}}class Ya{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ya(0)}static kn(){return new Ya(-1)}}class VF{constructor(){this.changes=new cl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Cc(r.mutation,s,Vn.empty(),Dt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=De()){const s=co();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=yc();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,De())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,s){let a=ks();const l=Sc(),u=(function(){return Sc()})();return n.forEach(((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Ii)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Cc(y.mutation,m,y.mutation.getFieldMask(),Dt.now())):l.set(m.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>l.set(m,y))),n.forEach(((m,y)=>{var _;return u.set(m,new FF(y,(_=l.get(m))!==null&&_!==void 0?_:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=Sc();let s=new ut(((l,u)=>l-u)),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=n.get(f);if(m===null)return;let y=r.get(f)||Vn.empty();y=u.applyToLocalView(m,y),r.set(f,y);const _=(s.get(u.batchId)||De()).add(f);s=s.insert(u.batchId,_)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,y=f.value,_=xk();y.forEach((b=>{if(!a.has(b)){const T=Sk(n.get(b),r.get(b));T!==null&&_.set(b,T),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ne.resolve(co());let u=-1,f=a;return l.next((m=>ne.forEach(m,((y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,De()))).next((y=>({batchId:u,changes:_k(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let s=yc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=yc();return this.indexManager.getCollectionParents(e,a).next((u=>ne.forEach(u,(f=>{const m=(function(_,b){return new ll(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((y=>{y.forEach(((_,b)=>{l=l.insert(_,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((f,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,sn.newInvalidDocument(y)))}));let u=yc();return l.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&Cc(y.mutation,m,Vn.empty(),Dt.now()),yf(n,m)&&(u=u.insert(f,m))})),u}))}}class BF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Gr(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:MF(s.bundledQuery),readTime:Gr(s.readTime)}})(n)),ne.resolve()}}class zF{constructor(){this.overlays=new ut(_e.comparator),this.Ir=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return ne.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.ht(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=co(),a=n.length+1,l=new _e(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ut(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=co(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=co(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>u.set(m,y))),!(u.size()>=s)););return ne.resolve(u)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new dF(n,r));let a=this.Ir.get(n);a===void 0&&(a=De(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}class $F{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class f0{constructor(){this.Tr=new Qt(Ft.Er),this.dr=new Qt(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Ft(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new _e(new rt([])),r=new Ft(n,e),s=new Ft(n,e+1),a=[];return this.dr.forEachInRange([r,s],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new rt([])),r=new Ft(n,e),s=new Ft(n,e+1);let a=De();return this.dr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||_e.comparator(e.key,n.key)}}class HF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qt(Ft.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uF(a,n,r,s);this.mutationQueue.push(l);for(const u of s)this.br=this.br.add(new Ft(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),s=new Ft(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],(l=>{const u=this.Dr(l.wr);a.push(u)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qt(Be);return n.forEach((s=>{const a=new Ft(s,0),l=new Ft(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(u=>{r=r.add(u.wr)}))})),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new _e(a),0);let u=new Qt(Be);return this.br.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(u=u.add(f.wr)),!0)}),l),ne.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(n.mutations,(s=>{const a=new Ft(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Ft(n,0),s=this.br.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class WF{constructor(e){this.Mr=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=ks();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():sn.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ks();const l=n.path,u=new _e(l.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||S4(I4(y),r)<=0||(s.has(y.key)||yf(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Se()}Or(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qF(this)}getSize(e){return ne.resolve(this.size)}}class qF extends VF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class GF{constructor(e){this.persistence=e,this.Nr=new cl((n=>a0(n)),l0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new f0,this.targetCount=0,this.kr=Ya.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Kn(n),ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ne.waitFor(a).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Br.containsKey(n))}}class KF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new r0(0),this.Kr=!1,this.Kr=!0,this.$r=new $F,this.referenceDelegate=e(this),this.Ur=new GF(this),this.indexManager=new OF,this.remoteDocumentCache=(function(s){return new WF(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new jF(n),this.Gr=new BF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new HF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new QF(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((a=>this.referenceDelegate.jr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Hr(e,n){return ne.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class QF extends A4{constructor(e){super(),this.currentSequenceNumber=e}}class p0{constructor(e){this.persistence=e,this.Jr=new f0,this.Yr=null}static Zr(e){return new p0(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(r=>{const s=_e.fromPath(r);return this.ei(e,s).next((a=>{a||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ne.or([()=>ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class m0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=De(),s=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new m0(e,n.fromCache,r,s)}}class YF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return uP()?8:P4(un())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new YF;return this.Xi(e,n,l).next((u=>{if(a.result=u,this.zi)return this.es(e,n,l,u.size)}))})).next((()=>a.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(dc()<=Me.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(dc()<=Me.DEBUG&&me("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(dc()<=Me.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ne.resolve())}Yi(e,n){if(Mb(n))return ne.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Vh(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=De(...a);return this.Ji.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.ts(n,u);return this.ns(n,m,l,f.readTime)?this.Yi(e,Vh(n,null,"F")):this.rs(e,m,n,f)}))))})))))}Zi(e,n,r,s){return Mb(n)||s.isEqual(Ce.min())?ne.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,s)?ne.resolve(null):(dc()<=Me.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ca(n)),this.rs(e,l,n,k4(s,-1)).next((u=>u)))}))}ts(e,n){let r=new Qt(vk(e));return n.forEach(((s,a)=>{yf(e,a)&&(r=r.add(a))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return dc()<=Me.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,wi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}class JF{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ut(Be),this._s=new cl((a=>a0(a)),l0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function ZF(t,e,n,r){return new JF(t,e,n,r)}async function Uk(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=De();for(const m of s){l.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((m=>({hs:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function e3(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,y){const _=m.batch,b=_.keys();let T=ne.resolve();return b.forEach((I=>{T=T.next((()=>y.getEntry(f,I))).next((N=>{const C=m.docVersions.get(I);Ge(C!==null),N.version.compareTo(C)<0&&(_.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),y.addEntry(N)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=De();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function Bk(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function t3(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const u=[];e.targetChanges.forEach(((y,_)=>{const b=s.get(_);if(!b)return;u.push(n.Ur.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Ur.addMatchingKeys(a,y.addedDocuments,_))));let T=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Yt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(_,T),(function(N,C,z){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(b,T,y)&&u.push(n.Ur.updateTargetData(a,T))}));let f=ks(),m=De();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),u.push(n3(a,l,e.documentUpdates).next((y=>{f=y.Ps,m=y.Is}))),!r.isEqual(Ce.min())){const y=n.Ur.getLastRemoteSnapshotVersion(a).next((_=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(y)}return ne.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(n.os=s,a)))}function n3(t,e,n){let r=De(),s=De();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ks();return n.forEach(((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):me("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{Ps:l,Is:s}}))}function r3(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function s3(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((a=>a?(s=a,ne.resolve(s)):n.Ur.allocateTargetId(r).next((l=>(s=new ai(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Hg(t,e,n){const r=Ae(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!mu(l))throw l;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function qb(t,e,n){const r=Ae(t);let s=Ce.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,y){const _=Ae(f),b=_._s.get(y);return b!==void 0?ne.resolve(_.os.get(b)):_.Ur.getTargetData(m,y)})(r,l,qr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?a:De()))).next((u=>(i3(r,K4(e),u),{documents:u,Ts:a})))))}function i3(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class Gb{constructor(){this.activeTargetIds=eF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o3{constructor(){this.so=new Gb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a3{_o(e){}shutdown(){}}class Kb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jd=null;function zm(){return Jd===null?Jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jd++,"0x"+Jd.toString(16)}const l3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const tn="WebChannelConnection";class u3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,l){const u=zm(),f=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${u}:`,f,s);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,l),this.No(n,f,m,s).then((y=>(me("RestConnection",`Received RPC '${n}' ${u}: `,y),y)),(y=>{throw qa("RestConnection",`RPC '${n}' ${u} failed with error: `,y,"url: ",f,"request:",s),y}))}Lo(n,r,s,a,l,u){return this.Mo(n,r,s,a,l)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),s&&s.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const s=l3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=zm();return new Promise(((l,u)=>{const f=new ek;f.setWithCredentials(!0),f.listenOnce(tk.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case ph.NO_ERROR:const y=f.getResponseJson();me(tn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case ph.TIMEOUT:me(tn,`RPC '${e}' ${a} timed out`),u(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const _=f.getStatus();if(me(tn,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b?.error;if(T&&T.status&&T.message){const I=(function(C){const z=C.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN})(T.status);u(new ue(I,T.message))}else u(new ue(J.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{me(tn,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);me(tn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",m,r,15)}))}Bo(e,n,r){const s=zm(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sk(),u=rk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");me(tn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=l.createWebChannel(y,f);let b=!1,T=!1;const I=new c3({Io:C=>{T?me(tn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(b||(me(tn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),b=!0),me(tn,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},To:()=>_.close()}),N=(C,z,G)=>{C.listen(z,(F=>{try{G(F)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return N(_,gc.EventType.OPEN,(()=>{T||(me(tn,`RPC '${e}' stream ${s} transport opened.`),I.yo())})),N(_,gc.EventType.CLOSE,(()=>{T||(T=!0,me(tn,`RPC '${e}' stream ${s} transport closed`),I.So())})),N(_,gc.EventType.ERROR,(C=>{T||(T=!0,qa(tn,`RPC '${e}' stream ${s} transport errored:`,C),I.So(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),N(_,gc.EventType.MESSAGE,(C=>{var z;if(!T){const G=C.data[0];Ge(!!G);const F=G,Y=F.error||((z=F[0])===null||z===void 0?void 0:z.error);if(Y){me(tn,`RPC '${e}' stream ${s} received error:`,Y);const te=Y.status;let ae=(function(A){const D=bt[A];if(D!==void 0)return Pk(D)})(te),j=Y.message;ae===void 0&&(ae=J.INTERNAL,j="Unknown error status: "+te+" with message "+Y.message),T=!0,I.So(new ue(ae,j)),_.close()}else me(tn,`RPC '${e}' stream ${s} received:`,G),I.bo(G)}})),N(u,nk.STAT_EVENT,(C=>{C.stat===jg.PROXY?me(tn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===jg.NOPROXY&&me(tn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function $m(){return typeof document<"u"?document:null}function xf(t){return new _F(t,!0)}class zk{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class $k{constructor(e,n,r,s,a,l,u,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class d3 extends $k{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=EF(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Gr(l.readTime):Ce.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=$g(this.serializer),n.addTarget=(function(a,l){let u;const f=l.target;if(u=Vg(f)?{documents:IF(a,f)}:{query:SF(a,f)._t},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Dk(a,l.resumeToken);const m=Ug(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ce.min())>0){u.readTime=Uh(a,l.snapshotVersion.toTimestamp());const m=Ug(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=AF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=$g(this.serializer),n.removeTarget=e,this.a_(n)}}class h3 extends $k{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=kF(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=$g(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>TF(this.serializer,r)))};this.a_(n)}}class f3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,Bg(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(J.UNKNOWN,a.toString())}))}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Lo(e,Bg(n,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(J.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class p3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ts(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class m3{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Po(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Ae(f);m.L_.add(4),await vu(m),m.q_.set("Unknown"),m.L_.delete(4),await bf(m)})(this))}))})),this.q_=new p3(r,s)}}async function bf(t){if(Po(t))for(const e of t.B_)await e(!0)}async function vu(t){for(const e of t.B_)await e(!1)}function Hk(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),w0(n)?v0(n):ul(n).r_()&&y0(n,e))}function g0(t,e){const n=Ae(t),r=ul(n);n.N_.delete(e),r.r_()&&Wk(n,e),n.N_.size===0&&(r.r_()?r.o_():Po(n)&&n.q_.set("Unknown"))}function y0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).A_(e)}function Wk(t,e){t.Q_.xe(e),ul(t).R_(e)}function v0(t){t.Q_=new gF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.q_.v_()}function w0(t){return Po(t)&&!ul(t).n_()&&t.N_.size>0}function Po(t){return Ae(t).L_.size===0}function qk(t){t.Q_=void 0}async function g3(t){t.q_.set("Online")}async function y3(t){t.N_.forEach(((e,n)=>{y0(t,e)}))}async function v3(t,e){qk(t),w0(t)?(t.q_.M_(e),v0(t)):t.q_.set("Unknown")}async function w3(t,e,n){if(t.q_.set("Online"),e instanceof Nk&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.N_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.N_.delete(u),s.Q_.removeTarget(u))})(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bh(t,r)}else if(e instanceof yh?t.Q_.Ke(e):e instanceof Rk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await Bk(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Q_.rt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(m);y&&a.N_.set(m,y.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Yt.EMPTY_BYTE_STRING,y.snapshotVersion)),Wk(a,f);const _=new ai(y.target,f,m,y.sequenceNumber);y0(a,_)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await Bh(t,r)}}async function Bh(t,e,n){if(!mu(e))throw e;t.L_.add(1),await vu(t),t.q_.set("Offline"),n||(n=()=>Bk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bf(t)}))}function Gk(t,e){return e().catch((n=>Bh(t,n,e)))}async function Ef(t){const e=Ae(t),n=xi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_3(e);)try{const s=await r3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,x3(e,s)}catch(s){await Bh(e,s)}Kk(e)&&Qk(e)}function _3(t){return Po(t)&&t.O_.length<10}function x3(t,e){t.O_.push(e);const n=xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Kk(t){return Po(t)&&!xi(t).n_()&&t.O_.length>0}function Qk(t){xi(t).start()}async function b3(t){xi(t).p_()}async function E3(t){const e=xi(t);for(const n of t.O_)e.m_(n.mutations)}async function T3(t,e,n){const r=t.O_.shift(),s=u0.from(r,e,n);await Gk(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Ef(t)}async function k3(t,e){e&&xi(t).V_&&await(async function(r,s){if((function(l){return fF(l)&&l!==J.ABORTED})(s.code)){const a=r.O_.shift();xi(r).s_(),await Gk(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Ef(r)}})(t,e),Kk(t)&&Qk(t)}async function Qb(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Po(n);n.L_.add(3),await vu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bf(n)}async function I3(t,e){const n=Ae(t);e?(n.L_.delete(2),await bf(n)):e||(n.L_.add(2),await vu(n),n.q_.set("Unknown"))}function ul(t){return t.K_||(t.K_=(function(n,r,s){const a=Ae(n);return a.w_(),new d3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:g3.bind(null,t),Ro:y3.bind(null,t),mo:v3.bind(null,t),d_:w3.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),w0(t)?v0(t):t.q_.set("Unknown")):(await t.K_.stop(),qk(t))}))),t.K_}function xi(t){return t.U_||(t.U_=(function(n,r,s){const a=Ae(n);return a.w_(),new h3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:b3.bind(null,t),mo:k3.bind(null,t),f_:E3.bind(null,t),g_:T3.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Ef(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class _0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,u=new _0(e,n,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),mu(t))return new ue(J.UNAVAILABLE,`${e}: ${t}`);throw t}class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=yc(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Yb{constructor(){this.W_=new ut(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xa{constructor(e,n,r,s,a,l,u,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Xa(e,n,Ba.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class S3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class C3{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=Xb(),a.forEach(((l,u)=>{for(const f of u.j_)f.onError(r)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function Xb(){return new cl((t=>yk(t)),gf)}async function Yk(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new S3,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const u=x0(l,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&b0(n)}async function Xk(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A3(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const u of l.j_)u.X_(s)&&(r=!0);l.z_=s}}r&&b0(n)}function P3(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function b0(t){t.Y_.forEach((e=>{e.next()}))}var Wg,Jb;(Jb=Wg||(Wg={})).ea="default",Jb.Cache="cache";class Jk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wg.Cache}}class Zk{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class R3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=vk(e),this.Ra=new Ba(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Yb,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const b=s.get(y),T=yf(this.query,_)?_:null,I=!!b&&this.mutatedKeys.has(b.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;b&&T?b.data.isEqual(T.data)?I!==N&&(r.track({type:3,doc:T}),C=!0):this.ga(b,T)||(r.track({type:2,doc:T}),C=!0,(f&&this.Aa(T,f)>0||m&&this.Aa(T,m)<0)&&(u=!0)):!b&&T?(r.track({type:0,doc:T}),C=!0):b&&!T&&(r.track({type:1,doc:b}),C=!0,(f||m)&&(u=!0)),C&&(T?(l=l.add(T),a=N?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ra:l,fa:r,ns:u,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((y,_)=>(function(T,I){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return N(T)-N(I)})(y.type,_.type)||this.Aa(y.doc,_.doc))),this.pa(r),s=s!=null&&s;const u=n&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,m=f!==this.Ea;return this.Ea=f,l.length!==0||m?{snapshot:new Xa(this.query,e.Ra,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new eI(r))})),this.da.forEach((r=>{e.has(r)||n.push(new Zk(r))})),n}ba(e){this.Ta=e.Ts,this.da=De();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class N3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D3{constructor(e){this.key=e,this.va=!1}}class j3{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new cl((u=>yk(u)),gf),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(_e.comparator),this.Na=new Map,this.La=new f0,this.Ba={},this.ka=new Map,this.qa=Ya.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function M3(t,e,n=!0){const r=oI(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await tI(r,e,n,!0),s}async function O3(t,e){const n=oI(t);await tI(n,e,!0,!1)}async function tI(t,e,n,r){const s=await s3(t.localStore,qr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await L3(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&Hk(t.remoteStore,s),u}async function L3(t,e,n,r,s){t.Ka=(_,b,T)=>(async function(N,C,z,G){let F=C.view.ma(z);F.ns&&(F=await qb(N.localStore,C.query,!1).then((({documents:j})=>C.view.ma(j,F))));const Y=G&&G.targetChanges.get(C.targetId),te=G&&G.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(F,N.isPrimaryClient,Y,te);return e1(N,C.targetId,ae.wa),ae.snapshot})(t,_,b,T);const a=await qb(t.localStore,e,!0),l=new R3(e,a.Ts),u=l.ma(a.documents),f=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=l.applyChanges(u,t.isPrimaryClient,f);e1(t,n,m.wa);const y=new N3(e,n,l);return t.Fa.set(e,y),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function V3(t,e,n){const r=Ae(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter((l=>!gf(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&g0(r.remoteStore,s.targetId),qg(r,s.targetId)})).catch(pu)):(qg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function F3(t,e){const n=Ae(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g0(n.remoteStore,r.targetId))}async function U3(t,e,n){const r=G3(t);try{const s=await(function(l,u){const f=Ae(l),m=Dt.now(),y=u.reduce(((T,I)=>T.add(I.key)),De());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=ks(),N=De();return f.cs.getEntries(T,y).next((C=>{I=C,I.forEach(((z,G)=>{G.isValidDocument()||(N=N.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,I))).next((C=>{_=C;const z=[];for(const G of u){const F=lF(G,_.get(G.key).overlayedDocument);F!=null&&z.push(new Ii(G.key,F,ck(F.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,z,u)})).next((C=>{b=C;const z=C.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(T,C.batchId,z)}))})).then((()=>({batchId:b.batchId,changes:_k(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,f){let m=l.Ba[l.currentUser.toKey()];m||(m=new ut(Be)),m=m.insert(u,f),l.Ba[l.currentUser.toKey()]=m})(r,s.batchId,n),await wu(r,s.changes),await Ef(r.remoteStore)}catch(s){const a=x0(s,"Failed to persist write");n.reject(a)}}async function nI(t,e){const n=Ae(t);try{const r=await t3(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Na.get(a);l&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.va=!0:s.modifiedDocuments.size>0?Ge(l.va):s.removedDocuments.size>0&&(Ge(l.va),l.va=!1))})),await wu(n,r,e)}catch(r){await pu(r)}}function Zb(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((a,l)=>{const u=l.view.Z_(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const f=Ae(l);f.onlineState=u;let m=!1;f.queries.forEach(((y,_)=>{for(const b of _.j_)b.Z_(u)&&(m=!0)})),m&&b0(f)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B3(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let l=new ut(_e.comparator);l=l.insert(a,sn.newNoDocument(a,Ce.min()));const u=De().add(a),f=new _f(Ce.min(),new Map,new ut(Be),l,u);await nI(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),E0(r)}else await Hg(r.localStore,e,!1).then((()=>qg(r,e,n))).catch(pu)}async function z3(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await e3(n.localStore,e);sI(n,r,null),rI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wu(n,s)}catch(s){await pu(s)}}async function $3(t,e,n){const r=Ae(t);try{const s=await(function(l,u){const f=Ae(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,u).next((_=>(Ge(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);sI(r,e,n),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wu(r,s)}catch(s){await pu(s)}}function rI(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function sI(t,e,n){const r=Ae(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||iI(t,r)}))}function iI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(g0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),E0(t))}function e1(t,e,n){for(const r of n)r instanceof Zk?(t.La.addReference(r.key,e),H3(t,r)):r instanceof eI?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iI(t,r.key)):Se()}function H3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),E0(t))}function E0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new D3(n)),t.Oa=t.Oa.insert(n,r),Hk(t.remoteStore,new ai(qr(mf(n.path)),r,"TargetPurposeLimboResolution",r0.oe))}}async function wu(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((u,f)=>{l.push(r.Ka(f,e,n).then((m=>{var y;if((m||n)&&r.isPrimaryClient){const _=m?!m.fromCache:(y=n?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){s.push(m);const _=m0.Wi(f.targetId,m);a.push(_)}})))})),await Promise.all(l),r.Ca.d_(s),await(async function(f,m){const y=Ae(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ne.forEach(m,(b=>ne.forEach(b.$i,(T=>y.persistence.referenceDelegate.addReference(_,b.targetId,T))).next((()=>ne.forEach(b.Ui,(T=>y.persistence.referenceDelegate.removeReference(_,b.targetId,T)))))))))}catch(_){if(!mu(_))throw _;me("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const T=y.os.get(b),I=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(I);y.os=y.os.insert(b,N)}}})(r.localStore,a))}async function W3(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await Uk(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((u=>{u.forEach((f=>{f.reject(new ue(J.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(n,r.hs)}}function q3(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return De().add(r.key);{let s=De();const a=n.Ma.get(e);if(!a)return s;for(const l of a){const u=n.Fa.get(l);s=s.unionWith(u.view.Va)}return s}}function oI(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.Ca.d_=A3.bind(null,e.eventManager),e.Ca.$a=P3.bind(null,e.eventManager),e}function G3(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$3.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return ZF(this.persistence,new XF,e.initialUser,this.serializer)}Ga(e){return new KF(p0.Zr,this.serializer)}Wa(e){return new o3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class Gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W3.bind(null,this.syncEngine),await I3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C3})()}createDatastore(e){const n=xf(e.databaseInfo.databaseId),r=(function(a){return new u3(a)})(e.databaseInfo);return(function(a,l,u,f){return new f3(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,u){return new m3(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zb(this.syncEngine,n,0)),(function(){return Kb.D()?new Kb:new a3})())}createSyncEngine(e,n){return(function(s,a,l,u,f,m,y){const _=new j3(s,a,l,u,f,m);return y&&(_.Qa=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Ae(s);me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await vu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gg.provider={build:()=>new Gg};class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class K3{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=nn.UNAUTHENTICATED,this.clientId=ok.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{me("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Uk(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function t1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q3(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Qb(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>Qb(e.remoteStore,s))),t._onlineComponents=e}async function Q3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new zh)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Hm(t,new zh);return t._offlineComponents}async function lI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await t1(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await t1(t,new Gg))),t._onlineComponents}function Y3(t){return lI(t).then((e=>e.syncEngine))}async function Kg(t){const e=await lI(t),n=e.eventManager;return n.onListen=M3.bind(null,e.syncEngine),n.onUnlisten=V3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F3.bind(null,e.syncEngine),n}function X3(t,e,n={}){const r=new fi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const y=new aI({next:b=>{y.Za(),l.enqueueAndForget((()=>Xk(a,_)));const T=b.docs.has(u);!T&&b.fromCache?m.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&f&&f.source==="server"?m.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new Jk(mf(u.path),y,{includeMetadataChanges:!0,_a:!0});return Yk(a,_)})(await Kg(t),t.asyncQueue,e,n,r))),r.promise}function cI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const n1=new Map;function uI(t,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J3(t,e,n,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function r1(t){if(!_e.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s1(t){if(_e.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class i1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i1(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new g4;switch(r.type){case"firstParty":return new _4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=n1.get(n);r&&(me("ComponentProvider","Removing Datastore"),n1.delete(n),r.terminate())})(this),Promise.resolve()}}function Z3(t,e,n,r={}){var s;const a=(t=Er(t,kf))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=nn.MOCK_USER;else{u=yE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nn(m)}t._authCredentials=new y4(new ik(u,f))}}class Si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class pi extends Si{constructor(e,n,r){super(e,n,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new _e(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function Xc(t,e,...n){if(t=Qe(t),uI("collection","path",e),t instanceof kf){const r=rt.fromString(e,...n);return s1(r),new pi(t,null,r)}{if(!(t instanceof cn||t instanceof pi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return s1(r),new pi(t.firestore,null,r)}}function Zn(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=ok.newId()),uI("doc","path",e),t instanceof kf){const r=rt.fromString(e,...n);return r1(r),new cn(t,null,new _e(r))}{if(!(t instanceof cn||t instanceof pi))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return r1(r),new cn(t.firestore,t instanceof pi?t.converter:null,new _e(r))}}class o1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zk(this,"async_queue_retry"),this.Vu=()=>{const r=$m();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new fi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mu(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u})(r);throw Ts("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=_0.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(s),s}fu(){this.Eu&&Se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function a1(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class xo extends kf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new o1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}}function e6(t,e){const n=typeof t=="object"?t:rf(),r=typeof t=="string"?t:"(default)",s=iu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=iy("firestore");a&&Z3(s,...a)}return s}function T0(t){if(t._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t6(t),t._firestoreClient}function t6(t){var e,n,r;const s=t._freezeSettings(),a=(function(u,f,m,y){return new D4(u,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,cI(y.experimentalLongPollingOptions),y.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new K3(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(t._componentsProvider))}class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Yt.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sf{constructor(e){this._methodName=e}}class k0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}class I0{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}}const n6=/^__.*__$/;class r6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class dI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class S0{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new S0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hI(this.Cu)&&n6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class s6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xf(e)}Qu(e,n,r,s=!1){return new S0({Cu:e,methodName:n,qu:r,path:Kt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(t){const e=t._freezeSettings(),n=xf(t._databaseId);return new s6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fI(t,e,n,r,s,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);A0("Data must be an object, but it was:",l,r);const u=pI(r,l);let f,m;if(a.merge)f=new Vn(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const b=Qg(e,_,n);if(!l.contains(b))throw new ue(J.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);gI(y,b)||y.push(b)}f=new Vn(y),m=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=l.fieldTransforms;return new r6(new An(u),f,m)}class Af extends Sf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}class C0 extends Sf{_toFieldTransform(e){return new sF(e.path,new Kc)}isEqual(e){return e instanceof C0}}function i6(t,e,n,r){const s=t.Qu(1,e,n);A0("Data must be an object, but it was:",s,r);const a=[],l=An.empty();Ao(r,((f,m)=>{const y=P0(e,f,n);m=Qe(m);const _=s.Nu(y);if(m instanceof Af)a.push(y);else{const b=_u(m,_);b!=null&&(a.push(y),l.set(y,b))}}));const u=new Vn(a);return new dI(l,u,s.fieldTransforms)}function o6(t,e,n,r,s,a){const l=t.Qu(1,e,n),u=[Qg(e,r,n)],f=[s];if(a.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(Qg(e,a[b])),f.push(a[b+1]);const m=[],y=An.empty();for(let b=u.length-1;b>=0;--b)if(!gI(m,u[b])){const T=u[b];let I=f[b];I=Qe(I);const N=l.Nu(T);if(I instanceof Af)m.push(T);else{const C=_u(I,N);C!=null&&(m.push(T),y.set(T,C))}}const _=new Vn(m);return new dI(y,_,l.fieldTransforms)}function a6(t,e,n,r=!1){return _u(n,t.Qu(r?4:3,e))}function _u(t,e){if(mI(t=Qe(t)))return A0("Unsupported field value:",e,t),pI(t,e);if(t instanceof Sf)return(function(r,s){if(!hI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let f=_u(u,s.Lu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:Uh(s.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,a)}}if(r instanceof k0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:Dk(s.serializer,r._byteString)};if(r instanceof cn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:h0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof I0)return(function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Bu("VectorValues must only contain numeric values.");return c0(u.serializer,f)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${Tf(r)}`)})(t,e)}function pI(t,e){const n={};return ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,s)=>{const a=_u(s,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof k0||t instanceof Ja||t instanceof cn||t instanceof Sf||t instanceof I0)}function A0(t,e,n){if(!mI(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=Tf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Qg(t,e,n){if((e=Qe(e))instanceof If)return e._internalPath;if(typeof e=="string")return P0(t,e);throw $h("Field path arguments must be of type string or ",t,!1,void 0,n)}const l6=new RegExp("[~\\*/\\[\\]]");function P0(t,e,n){if(e.search(l6)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $h(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ue(J.INVALID_ARGUMENT,u+t+f)}function gI(t,e){return t.some((n=>n.isEqual(e)))}class yI{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends yI{data(){return super.data()}}function Pf(t,e){return typeof e=="string"?P0(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}function u6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R0{}class N0 extends R0{}function d6(t,e,...n){let r=[];e instanceof R0&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof D0)).length,u=a.filter((f=>f instanceof Rf)).length;if(l>1||l>0&&u>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Rf extends N0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rf(e,n,r)}_apply(e){const n=this._parse(e);return vI(e._query,n),new Si(e.firestore,e.converter,Fg(e._query,n))}_parse(e){const n=Cf(e.firestore);return(function(a,l,u,f,m,y,_){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){c1(_,y);const T=[];for(const I of _)T.push(l1(f,a,I));b={arrayValue:{values:T}}}else b=l1(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||c1(_,y),b=a6(u,l,_,y==="in"||y==="not-in");return Tt.create(m,y,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h6(t,e,n){const r=e,s=Pf("where",t);return Rf._create(s,r,n)}class D0 extends R0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const f of u)vI(l,f),l=Fg(l,f)})(e._query,n),new Si(e.firestore,e.converter,Fg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j0 extends N0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j0(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(a,l)})(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new ll(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function f6(t,e="asc"){const n=e,r=Pf("orderBy",t);return j0._create(r,n)}class M0 extends N0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M0(e,n,r)}_apply(e){return new Si(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function p6(t){return M0._create("limit",t,"F")}function l1(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gk(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(t,new _e(r))}if(n instanceof cn)return Ab(t,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function c1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vI(t,e){const n=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class m6{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((l=>vt(l.doubleValue)));return new I0(a)}convertGeoPoint(e){return new k0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=_i(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ge(Fk(r));const s=new Wc(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(n)||Ts(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function wI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _I extends yI{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vh extends _I{data(e={}){return super.data(e)}}class g6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const f=new vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new wc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new vh(s._firestore,s._userDataWriter,u.doc.key,u.doc,new wc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:y6(u.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function Zd(t){t=Er(t,cn);const e=Er(t.firestore,xo);return X3(T0(e),t._key).then((n=>bI(e,t,n)))}class xI extends m6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function v6(t,e,n){t=Er(t,cn);const r=Er(t.firestore,xo),s=wI(t.converter,e,n);return O0(r,[fI(Cf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,br.none())])}function oo(t,e,n,...r){t=Er(t,cn);const s=Er(t.firestore,xo),a=Cf(s);let l;return l=typeof(e=Qe(e))=="string"||e instanceof If?o6(a,"updateDoc",t._key,e,n,r):i6(a,"updateDoc",t._key,e),O0(s,[l.toMutation(t._key,br.exists(!0))])}function Nf(t,e){const n=Er(t.firestore,xo),r=Zn(t),s=wI(t.converter,e);return O0(n,[fI(Cf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,br.exists(!1))]).then((()=>r))}function w6(t,...e){var n,r,s;t=Qe(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||a1(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(a1(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,m,y;if(t instanceof cn)m=Er(t.firestore,xo),y=mf(t._key.path),f={next:_=>{e[l]&&e[l](bI(m,t,_))},error:e[l+1],complete:e[l+2]};else{const _=Er(t,Si);m=Er(_.firestore,xo),y=_._query;const b=new xI(m);f={next:T=>{e[l]&&e[l](new g6(m,b,_,T))},error:e[l+1],complete:e[l+2]},u6(t._query)}return(function(b,T,I,N){const C=new aI(N),z=new Jk(T,C,I);return b.asyncQueue.enqueueAndForget((async()=>Yk(await Kg(b),z))),()=>{C.Za(),b.asyncQueue.enqueueAndForget((async()=>Xk(await Kg(b),z)))}})(T0(m),y,u,f)}function O0(t,e){return(function(r,s){const a=new fi;return r.asyncQueue.enqueueAndForget((async()=>U3(await Y3(r),s,a))),a.promise})(T0(t),e)}function bI(t,e,n){const r=n.docs.get(e._key),s=new xI(t);return new _I(t,s,e._key,r,new wc(n.hasPendingWrites,n.fromCache),e.converter)}function L0(){return new C0("serverTimestamp")}(function(e,n=!0){(function(s){al=s})(Io),gi(new _s("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new xo(new v4(r.getProvider("auth-internal")),new b4(r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(m.options.projectId,y)})(l,s),l);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),tr(Tb,"4.7.3",e),tr(Tb,"4.7.3","esm2017")})();var _6="firebase",x6="10.14.1";tr(_6,x6,"app");const EI="firebasestorage.googleapis.com",TI="storageBucket",b6=120*1e3,E6=600*1e3;class pt extends Ir{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Wm(t){return"storage/"+t}function V0(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function T6(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function k6(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function I6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function S6(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function C6(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A6(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P6(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function R6(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function N6(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function D6(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TI+"' property when initializing the app?")}function j6(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function M6(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O6(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yg(t){return new pt(ft.INVALID_ARGUMENT,t)}function kI(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function L6(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ac(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hc(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw N6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${y}/b/${s}/o${b}`,"i"),I={bucket:1,path:3},N=n===EI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",z=new RegExp(`^https?://${N}/${s}/${C}`,"i"),F=[{regex:u,indices:f,postModify:a},{regex:T,indices:I,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<F.length;Y++){const te=F[Y],ae=te.regex.exec(e);if(ae){const j=ae[te.indices.bucket];let S=ae[te.indices.path];S||(S=""),r=new Fn(j,S),te.postModify(r);break}}if(r==null)throw R6(e);return r}}class V6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function F6(t,e,n){let r=1,s=null,a=null,l=!1,u=0;function f(){return u===2}let m=!1;function y(...C){m||(m=!0,e.apply(null,C))}function _(C){s=setTimeout(()=>{s=null,t(T,f())},C)}function b(){a&&clearTimeout(a)}function T(C,...z){if(m){b();return}if(C){b(),y.call(null,C,...z);return}if(f()||l){b(),y.call(null,C,...z);return}r<64&&(r*=2);let F;u===1?(u=2,F=0):F=(r+Math.random())*1e3,_(F)}let I=!1;function N(C){I||(I=!0,b(),!m&&(s!==null?(C||(u=2),clearTimeout(s),_(0)):C||(u=1)))}return _(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function U6(t){t(!1)}function B6(t){return t!==void 0}function z6(t){return typeof t=="object"&&!Array.isArray(t)}function F0(t){return typeof t=="string"||t instanceof String}function u1(t){return U0()&&t instanceof Blob}function U0(){return typeof Blob<"u"}function d1(t,e,n,r){if(r<e)throw Yg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Yg(`Invalid value for '${t}'. Expected ${n} or less.`)}function B0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function II(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var po;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(po||(po={}));function $6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}class H6{constructor(e,n,r,s,a,l,u,f,m,y,_,b=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,I)=>{this.resolve_=T,this.reject_=I,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===po.NO_ERROR,f=a.getStatus();if(!u||$6(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===po.ABORT;r(!1,new eh(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new eh(m,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());B6(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=V0();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(s.canceled){const f=this.appDelete_?kI():P6();l(f)}else{const f=A6();l(f)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=F6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function W6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function q6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function K6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Q6(t,e,n,r,s,a,l=!0){const u=II(t.urlParams),f=t.url+u,m=Object.assign({},t.headers);return G6(m,e),W6(m,n),q6(m,a),K6(m,r),new H6(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}function Y6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X6(...t){const e=Y6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(U0())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Z6(t){if(typeof atob>"u")throw O6("base-64");return atob(t)}const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,n){this.data=e,this.contentType=n||null}}function eU(t,e){switch(t){case Br.RAW:return new qm(SI(e));case Br.BASE64:case Br.BASE64URL:return new qm(CI(t,e));case Br.DATA_URL:return new qm(nU(e),rU(e))}throw V0()}function SI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tU(t){let e;try{e=decodeURIComponent(t)}catch{throw Ac(Br.DATA_URL,"Malformed data URL.")}return SI(e)}function CI(t,e){switch(t){case Br.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ac(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ac(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Z6(e)}catch(s){throw s.message.includes("polyfill")?s:Ac(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class AI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ac(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nU(t){const e=new AI(t);return e.base64?CI(Br.BASE64,e.rest):tU(e.rest)}function rU(t){return new AI(t).contentType}function sU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class si{constructor(e,n){let r=0,s="";u1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(u1(this.data_)){const r=this.data_,s=J6(r,e,n);return s===null?null:new si(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new si(r,!0)}}static getBlob(...e){if(U0()){const n=e.map(r=>r instanceof si?r.data_:r);return new si(X6.apply(null,n))}else{const n=e.map(l=>F0(l)?eU(Br.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new si(s,!0)}}uploadData(){return this.data_}}function PI(t){let e;try{e=JSON.parse(t)}catch{return null}return z6(e)?e:null}function iU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function RI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function aU(t,e){return e}class gn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||aU}}let th=null;function lU(t){return!F0(t)||t.length<2?t:RI(t)}function NI(){if(th)return th;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(a,l){return lU(l)}const n=new gn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new gn("size");return s.xform=r,t.push(s),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),th=t,th}function cU(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Fn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function uU(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return cU(r,t),r}function DI(t,e,n){const r=PI(e);return r===null?null:uU(t,r,n)}function dU(t,e,n,r){const s=PI(e);if(s===null||!F0(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const y=t.bucket,_=t.fullPath,b="/b/"+l(y)+"/o/"+l(_),T=B0(b,n,r),I=II({alt:"media",token:m});return T+I})[0]}function hU(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class jI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function MI(t){if(!t)throw V0()}function fU(t,e){function n(r,s){const a=DI(t,s,e);return MI(a!==null),a}return n}function pU(t,e){function n(r,s){const a=DI(t,s,e);return MI(a!==null),dU(a,s,t.host,t._protocol)}return n}function OI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=S6():s=I6():n.getStatus()===402?s=k6(t.bucket):n.getStatus()===403?s=C6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function mU(t){const e=OI(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=T6(t.path)),a.serverResponse=s.serverResponse,a}return n}function gU(t,e,n){const r=e.fullServerUrl(),s=B0(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new jI(s,a,pU(t,n),l);return u.errorHandler=mU(e),u}function yU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yU(null,e)),r}function wU(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let F="";for(let Y=0;Y<2;Y++)F=F+Math.random().toString().slice(2);return F}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const m=vU(e,r,s),y=hU(m,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+f+"--",T=si.getBlob(_,r,b);if(T===null)throw j6();const I={name:m.fullPath},N=B0(a,t.host,t._protocol),C="POST",z=t.maxUploadRetryTime,G=new jI(N,C,fU(t,n),z);return G.urlParams=I,G.headers=l,G.body=T.uploadData(),G.errorHandler=OI(e),G}class _U{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=po.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=po.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=po.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw hc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xU extends _U{initXhr(){this.xhr_.responseType="text"}}function LI(){return new xU}class bo{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bo(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RI(this._location.path)}get storage(){return this._service}get parent(){const e=iU(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new bo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw L6(e)}}function bU(t,e,n){t._throwIfRoot("uploadBytes");const r=wU(t.storage,t._location,NI(),new si(e,!0),n);return t.storage.makeRequestWithTokens(r,LI).then(s=>({metadata:s,ref:t}))}function EU(t){t._throwIfRoot("getDownloadURL");const e=gU(t.storage,t._location,NI());return t.storage.makeRequestWithTokens(e,LI).then(n=>{if(n===null)throw M6();return n})}function TU(t,e){const n=oU(t._location.path,e),r=new Fn(t._location.bucket,n);return new bo(t.storage,r)}function kU(t){return/^[A-Za-z]+:\/\//.test(t)}function IU(t,e){return new bo(t,e)}function VI(t,e){if(t instanceof z0){const n=t;if(n._bucket==null)throw D6();const r=new bo(n,n._bucket);return e!=null?VI(r,e):r}else return e!==void 0?TU(t,e):t}function SU(t,e){if(e&&kU(e)){if(t instanceof z0)return IU(t,e);throw Yg("To use ref(service, url), the first argument must be a Storage instance.")}else return VI(t,e)}function h1(t,e){const n=e?.[TI];return n==null?null:Fn.makeFromBucketSpec(n,t)}function CU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yE(s,t.app.options.projectId))}class z0{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=EI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b6,this._maxUploadRetryTime=E6,this._requests=new Set,s!=null?this._bucket=Fn.makeFromBucketSpec(s,this._host):this._bucket=h1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=h1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new V6(kI());{const l=Q6(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const f1="@firebase/storage",p1="0.13.2";const FI="storage";function AU(t,e,n){return t=Qe(t),bU(t,e,n)}function PU(t){return t=Qe(t),EU(t)}function RU(t,e){return t=Qe(t),SU(t,e)}function NU(t=rf(),e){t=Qe(t);const r=iu(t,FI).getImmediate({identifier:e}),s=iy("storage");return s&&DU(r,...s),r}function DU(t,e,n,r={}){CU(t,e,n,r)}function jU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new z0(n,r,s,e,Io)}function MU(){gi(new _s(FI,jU,"PUBLIC").setMultipleInstances(!0)),tr(f1,p1,""),tr(f1,p1,"esm2017")}MU();const OU="type.googleapis.com/google.protobuf.Int64Value",LU="type.googleapis.com/google.protobuf.UInt64Value";function UI(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Xg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Xg(e));if(typeof t=="function"||typeof t=="object")return UI(t,e=>Xg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Hh(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case OU:case LU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Hh(e)):typeof t=="function"||typeof t=="object"?UI(t,e=>Hh(e)):t}const $0="functions";const m1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class za extends Ir{constructor(e,n,r){super(`${$0}/${e}`,n||""),this.details=r}}function VU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function FU(t,e){let n=VU(t),r=n,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!m1[l])return new za("internal","internal");n=m1[l],r=l}const u=a.message;typeof u=="string"&&(r=u),s=a.details,s!==void 0&&(s=Hh(s))}}catch{}return n==="ok"?null:new za(n,r,s)}class UU{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}const Jg="us-central1";function BU(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new za("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class zU{constructor(e,n,r,s,a=Jg,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new UU(n,r,s),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=Jg}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function $U(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function HU(t,e,n){return(r=>qU(t,e,r,{}))}async function WU(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function qU(t,e,n,r){const s=t._url(e);return GU(t,s,n,r)}async function GU(t,e,n,r){n=Xg(n);const s={data:n},a={},l=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const u=r.timeout||7e4,f=BU(u),m=await Promise.race([WU(e,s,a,t.fetchImpl),f.promise,t.cancelAllRequests]);if(f.cancel(),!m)throw new za("cancelled","Firebase Functions instance was deleted.");const y=FU(m.status,m.json);if(y)throw y;if(!m.json)throw new za("internal","Response is not valid JSON object.");let _=m.json.data;if(typeof _>"u"&&(_=m.json.result),typeof _>"u")throw new za("internal","Response is missing data field.");return{data:Hh(_)}}const g1="@firebase/functions",y1="0.11.8";const KU="auth-internal",QU="app-check-internal",YU="messaging-internal";function XU(t,e){const n=(r,{instanceIdentifier:s})=>{const a=r.getProvider("app").getImmediate(),l=r.getProvider(KU),u=r.getProvider(YU),f=r.getProvider(QU);return new zU(a,l,u,f,s,t)};gi(new _s($0,n,"PUBLIC").setMultipleInstances(!0)),tr(g1,y1,e),tr(g1,y1,"esm2017")}function BI(t=rf(),e=Jg){const r=iu(Qe(t),$0).getImmediate({identifier:e}),s=iy("functions");return s&&JU(r,...s),r}function JU(t,e,n){$U(Qe(t),e,n)}function ZU(t,e,n){return HU(Qe(t),e)}XU(fetch.bind(self));const eB={apiKey:"AIzaSyBz9Waj-ImxLCDJd6QKunGyE-Xlm2qJXA0",authDomain:"gen-lang-client-0587114750.firebaseapp.com",projectId:"gen-lang-client-0587114750",storageBucket:"gen-lang-client-0587114750.firebasestorage.app",messagingSenderId:"367332219460",appId:"1:367332219460:web:485e99997b6e8f6681710d"},Df=_E(eB),rn=e6(Df),tB=NU(Df);BI(Df,"us-central1");const Pc=VD(Df);TN(Pc,QE).catch(t=>console.error("Error en persistencia Auth:",t));const nB=async(t,e,n,r={})=>{try{return(await Nf(Xc(rn,"clinical_events"),{userId:t,type:e,value:n,metadata:r,timestamp:L0()})).id}catch(s){throw console.error("Error aadiendo evento clnico: ",s),s}};var v1;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(v1||(v1={}));var w1;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(w1||(w1={}));var _1;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(_1||(_1={}));const x1=["user","model","function","system"];var b1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(b1||(b1={}));var E1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(E1||(E1={}));var T1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(T1||(T1={}));var k1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(k1||(k1={}));var Rc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Rc||(Rc={}));var I1;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(I1||(I1={}));var S1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(S1||(S1={}));var C1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(C1||(C1={}));class an extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ia extends an{constructor(e,n){super(e),this.response=n}}class zI extends an{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class mi extends an{}class $I extends an{}const rB="https://generativelanguage.googleapis.com",sB="v1beta",iB="0.24.1",oB="genai-js";var Eo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Eo||(Eo={}));class aB{constructor(e,n,r,s,a){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||sB;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||rB}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function lB(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${oB}/${iB}`),e.join(" ")}async function cB(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",lB(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new mi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,a]of r.entries()){if(s==="x-goog-api-key")throw new mi(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new mi(`Header name ${s} can only be set using the apiClient field`);n.append(s,a)}}return n}async function uB(t,e,n,r,s,a){const l=new aB(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},pB(a)),{method:"POST",headers:await cB(l),body:s})}}async function xu(t,e,n,r,s,a={},l=fetch){const{url:u,fetchOptions:f}=await uB(t,e,n,r,s,a);return dB(u,f,l)}async function dB(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){hB(s,t)}return r.ok||await fB(r,t),r}function hB(t,e){let n=t;throw n.name==="AbortError"?(n=new $I(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof zI||t instanceof mi||(n=new an(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function fB(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new zI(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function pB(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function H0(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),wh(t.candidates[0]))throw new Ia(`${Zs(t)}`,t);return mB(t)}else if(t.promptFeedback)throw new Ia(`Text not available. ${Zs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wh(t.candidates[0]))throw new Ia(`${Zs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),A1(t)[0]}else if(t.promptFeedback)throw new Ia(`Function call not available. ${Zs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wh(t.candidates[0]))throw new Ia(`${Zs(t)}`,t);return A1(t)}else if(t.promptFeedback)throw new Ia(`Function call not available. ${Zs(t)}`,t)},t}function mB(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function A1(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const gB=[Rc.RECITATION,Rc.SAFETY,Rc.LANGUAGE];function wh(t){return!!t.finishReason&&gB.includes(t.finishReason)}function Zs(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];wh(a)&&(s+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(s+=`: ${a.finishMessage}`))}return s}function Jc(t){return this instanceof Jc?(this.v=t,this):new Jc(t)}function yB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(b){r[b]&&(s[b]=function(T){return new Promise(function(I,N){a.push([b,T,I,N])>1||u(b,T)})})}function u(b,T){try{f(r[b](T))}catch(I){_(a[0][3],I)}}function f(b){b.value instanceof Jc?Promise.resolve(b.value.v).then(m,y):_(a[0][2],b)}function m(b){u("next",b)}function y(b){u("throw",b)}function _(b,T){b(T),a.shift(),a.length&&u(a[0][0],a[0][1])}}const P1=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function vB(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=xB(e),[r,s]=n.tee();return{stream:_B(r),response:wB(s)}}async function wB(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return H0(bB(e));e.push(s)}}function _B(t){return yB(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Jc(n.read());if(s)break;yield yield Jc(H0(r))}})}function xB(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return a();function a(){return e.read().then(({value:l,done:u})=>{if(u){if(s.trim()){r.error(new an("Failed to parse stream"));return}r.close();return}s+=l;let f=s.match(P1),m;for(;f;){try{m=JSON.parse(f[1])}catch{r.error(new an(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(m),s=s.substring(f[0].length),f=s.match(P1)}return a()}).catch(l=>{let u=l;throw u.stack=l.stack,u.name==="AbortError"?u=new $I("Request aborted when reading from the stream"):u=new an("Error reading from the stream"),u})}}})}function bB(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=a.citationMetadata,n.candidates[s].groundingMetadata=a.groundingMetadata,n.candidates[s].finishReason=a.finishReason,n.candidates[s].finishMessage=a.finishMessage,n.candidates[s].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[s].content||(n.candidates[s].content={role:a.content.role||"user",parts:[]});const l={};for(const u of a.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[s].content.parts.push(l)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function HI(t,e,n,r){const s=await xu(e,Eo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return vB(s)}async function WI(t,e,n,r){const a=await(await xu(e,Eo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:H0(a)}}function qI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Zc(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return EB(e)}function EB(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),s=!0):(e.parts.push(a),r=!0);if(r&&s)throw new an("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new an("No content is provided for sending chat message.");return r?e:n}function TB(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new mi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=Zc(t);r.contents=[a]}return{generateContentRequest:r}}function R1(t){let e;return t.contents?e=t:e={contents:[Zc(t)]},t.systemInstruction&&(e.systemInstruction=qI(t.systemInstruction)),e}function kB(t){return typeof t=="string"||Array.isArray(t)?{content:Zc(t)}:t}const N1=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],IB={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function SB(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new an(`First content should be with role 'user', got ${r}`);if(!x1.includes(r))throw new an(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(x1)}`);if(!Array.isArray(s))throw new an("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new an("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of s)for(const f of N1)f in u&&(a[f]+=1);const l=IB[r];for(const u of N1)if(!l.includes(u)&&a[u]>0)throw new an(`Content with role '${r}' can't contain '${u}' part`);e=!0}}function D1(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const j1="SILENT_ERROR";class CB{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(SB(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,a,l,u,f;await this._sendPromise;const m=Zc(e),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,m]},_=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>WI(this._apiKey,this.model,y,_)).then(T=>{var I;if(D1(T.response)){this._history.push(m);const N=Object.assign({parts:[],role:"model"},(I=T.response.candidates)===null||I===void 0?void 0:I[0].content);this._history.push(N)}else{const N=Zs(T.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}b=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,b}async sendMessageStream(e,n={}){var r,s,a,l,u,f;await this._sendPromise;const m=Zc(e),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,m]},_=Object.assign(Object.assign({},this._requestOptions),n),b=HI(this._apiKey,this.model,y,_);return this._sendPromise=this._sendPromise.then(()=>b).catch(T=>{throw new Error(j1)}).then(T=>T.response).then(T=>{if(D1(T)){this._history.push(m);const I=Object.assign({},T.candidates[0].content);I.role||(I.role="model"),this._history.push(I)}else{const I=Zs(T);I&&console.warn(`sendMessageStream() was unsuccessful. ${I}. Inspect response object for details.`)}}).catch(T=>{T.message!==j1&&console.error(T)}),b}}async function AB(t,e,n,r){return(await xu(e,Eo.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function PB(t,e,n,r){return(await xu(e,Eo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function RB(t,e,n,r){const s=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await xu(e,Eo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}class M1{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=qI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=R1(e),a=Object.assign(Object.assign({},this._requestOptions),n);return WI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}async generateContentStream(e,n={}){var r;const s=R1(e),a=Object.assign(Object.assign({},this._requestOptions),n);return HI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}startChat(e){var n;return new CB(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=TB(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return AB(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=kB(e),s=Object.assign(Object.assign({},this._requestOptions),n);return PB(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return RB(this.apiKey,this.model,e,r)}}class NB{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new an("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new M1(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new mi("Cached content must contain a `name` field.");if(!e.model)throw new mi("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const l of s)if(n?.[l]&&e[l]&&n?.[l]!==e[l]){if(l==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(u===f)continue}throw new mi(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new M1(this.apiKey,a,r)}}const DB="AIzaSyBroRv-_4DoV-LnAmeuvFVy4au4x4yAWBI",jB=new NB(DB),W0=async t=>{try{const e=jB.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),n=`
            Acta como un experto en nutricin y diabetologa de precisin. 
            Analiza la siguiente ingesta descrita por el usuario: "${t}"
            
            Tu objetivo es descomponer la comida y calcular su impacto glucmico.
            
            DEBES responder estrictamente con este formato JSON:
            {
                "items": [
                    { "food": "nombre del alimento", "totalCarbs": nmero, "category": "Carbohidrato/Protena/Vegetal/Grasa" }
                ],
                "totalCarbs": suma_total_carbohidratos,
                "glycemicIndex": "Bajo" | "Medio" | "Alto",
                "glycemicLoad": nmero_carga_glucmica,
                "optimizationTip": "Consejo clnico breve para mejorar el impacto glucmico",
                "aiContextualNote": "Nota motivadora o de precaucin basada en el tipo de diabetes"
            }

            Reglas de oro:
            1. Si no hay cantidades, asume porciones de tamao medio de restaurante.
            2. El valor totalCarbs debe ser la suma matemtica de los carbohidratos de cada item.
            3. No incluyas explicaciones fuera del JSON.
        `,l=(await(await e.generateContent(n)).response).text().replace(/```json|```/g,"").trim(),u=JSON.parse(l);return{items:u.items||[],totalCarbs:u.totalCarbs||0,glycemicIndex:u.glycemicIndex||"Medio",glycemicLoad:u.glycemicLoad||0,optimizationTip:u.optimizationTip||"Aade fibra o protena para estabilizar la curva.",aiContextualNote:u.aiContextualNote||"Anlisis metablico listo."}}catch(e){return console.error("Error en el motor Gemini:",e),{items:[],totalCarbs:0,glycemicIndex:"Medio",glycemicLoad:0,optimizationTip:"Intenta describir los ingredientes por separado.",aiContextualNote:"Sincronizando con el satlite de IA... Por favor reintenta en unos segundos."}}},on={async login(t,e){return await EN(Pc,t.toLowerCase().trim(),e)},async register(t,e,n="Usuario"){const r=await bN(Pc,t.toLowerCase().trim(),e),s=r.user.uid,a={id:s,firstName:n,lastName:"",email:t.toLowerCase().trim(),role:"USER",subscription_tier:"BASE",ia_credits:3,daily_ia_usage:0,streak:0,createdAt:new Date().toISOString(),insulinRatioSchedule:[{startTime:"08:00",ratio:15},{startTime:"14:00",ratio:15},{startTime:"21:00",ratio:15}],clinicalConfig:{diabetesType:"Type 1",insulinSensitivityFactor:50,targetGlucose:100},aiMemory:"Iniciando fase de observacin metablica.",memory:{patterns:{highGlucoseTriggers:[],effectiveCorrections:[],notableEvents:[]},preferences:{dietaryRestrictions:[],favoriteSafeFoods:[]},aiNotes:"Sincronizado con el Bio-Core."},glucoseUnitPreference:"mg/dL"};return await v6(Zn(rn,"users",s),a,{merge:!0}),r},async logout(){try{await CN(Pc),window.location.href="/"}catch(t){console.error("Error al cerrar sesin:",t)}},async getUserProfile(t){const e=Zn(rn,"users",t);try{let n=await Zd(e);return n.exists()||(await new Promise(r=>setTimeout(r,1200)),n=await Zd(e)),n.exists()?{id:n.id,...n.data()}:null}catch(n){return console.error("Error en getUserProfile:",n),null}},async updateUser(t){try{const e=Zn(rn,"users",t.id),{id:n,...r}=t;await oo(e,{...r,updatedAt:new Date().toISOString()}),console.log(" Sincronizacin exitosa con Firebase.")}catch(e){throw console.error("Error en updateUser:",e),e}},async checkAnalysisLimit(t){const e=Zn(rn,"users",t),r=(await Zd(e)).data();if(r?.subscription_tier!=="PRO"&&(r?.daily_ia_usage||0)>=3)throw new Error("Has agotado tus anlisis diarios gratuitos.")},async analyzeFoodVision(t,e){await this.checkAnalysisLimit(e);const n=await W0(t),s=(await Zd(Zn(rn,"users",e))).data()?.daily_ia_usage||0,a=new Date().toISOString().split("T")[0];return await this.trackIAUsage(e,s,a),n},async saveHistoryEntry(t){try{const e=Xc(rn,"ingestas"),n={...t,createdAt:L0(),date:t.date||new Date().toISOString()};return(await Nf(e,n)).id}catch(e){throw console.error("Error al guardar en historial:",e),e}},subscribeToHistory(t,e){const n=d6(Xc(rn,"ingestas"),h6("userId","==",t),f6("createdAt","desc"),p6(50));return w6(n,r=>{e(r.docs.map(s=>({id:s.id,...s.data()})))},r=>{console.error("Error en tiempo real (Historial):",r)})},async trackIAUsage(t,e,n){const r=Zn(rn,"users",t);await oo(r,{daily_ia_usage:e+1,last_ia_usage_date:n})}},MB=({onClose:t,onLoginSuccess:e})=>{const[n,r]=V.useState(!1),[s,a]=V.useState(""),[l,u]=V.useState(""),[f,m]=V.useState(!1),[y,_]=V.useState(null),b=I=>{switch(I){case"auth/user-not-found":return"No encontramos este perfil.";case"auth/wrong-password":return"La llave no coincide.";case"auth/invalid-email":return"Email no vlido.";case"auth/weak-password":return"Usa al menos 6 caracteres.";case"auth/email-already-in-use":return"Este email ya es parte del club.";default:return"Sincronizacin interrumpida."}},T=async I=>{I.preventDefault(),m(!0),_(null);try{n?await on.register(s,l):await on.login(s,l),e(),t()}catch(N){_(b(N.code))}finally{m(!1)}};return p.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center p-0 sm:p-4 animate-in fade-in duration-500",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md",onClick:t}),p.jsxs("div",{className:"relative bg-white w-full max-w-[480px] rounded-t-[3.5rem] sm:rounded-[4rem] shadow-2xl overflow-hidden border border-white animate-in slide-in-from-bottom-10 duration-700",children:[p.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-blue-600/10 rounded-full blur-[100px]"}),p.jsx("div",{className:"absolute -bottom-24 -right-24 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px]"}),p.jsx("button",{onClick:t,className:"absolute top-8 right-8 p-3 text-slate-400 hover:text-slate-900 transition-all z-20 bg-slate-50 rounded-full active:scale-90",children:p.jsx(cf,{size:20})}),p.jsxs("div",{className:"p-10 sm:p-14 relative z-10",children:[p.jsxs("header",{className:"mb-10 text-center sm:text-left",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-[0.3em] mb-6",children:[p.jsx(rl,{size:14,className:"animate-pulse"})," IA Empoderada"]}),p.jsxs("h2",{className:"text-5xl font-[1000] text-slate-900 tracking-tighter leading-[0.85] mb-2 uppercase italic",children:[n?"nete a la":"Tu Mente"," ",p.jsx("br",{}),p.jsx("span",{className:"text-blue-600",children:"Metablica"})]}),p.jsx("p",{className:"text-slate-400 font-medium text-sm",children:n?"Empieza hoy tu camino hacia la libertad.":"Tu equilibrio te estaba esperando."})]}),y&&p.jsxs("div",{className:"mb-8 p-5 bg-red-50 border border-red-100 rounded-3xl flex items-center gap-4 text-red-600 animate-in slide-in-from-left-4",children:[p.jsx(wy,{size:20}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-widest leading-none",children:y})]}),p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsx(Vj,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-600 transition-colors",size:18}),p.jsx("input",{type:"email",required:!0,value:s,onChange:I=>a(I.target.value),placeholder:"TU CORREO",className:"w-full bg-slate-50 border border-slate-100 rounded-3xl py-6 pl-16 pr-8 text-xs font-black uppercase tracking-widest text-slate-900 outline-none focus:ring-4 ring-blue-600/5 focus:bg-white transition-all placeholder:text-slate-300"})]}),p.jsxs("div",{className:"relative group",children:[p.jsx(jj,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-600 transition-colors",size:18}),p.jsx("input",{type:"password",required:!0,value:l,onChange:I=>u(I.target.value),placeholder:"TU CONTRASEA",className:"w-full bg-slate-50 border border-slate-100 rounded-3xl py-6 pl-16 pr-8 text-xs font-black uppercase tracking-widest text-slate-900 outline-none focus:ring-4 ring-blue-600/5 focus:bg-white transition-all placeholder:text-slate-300"})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full bg-slate-900 text-white py-6 rounded-3xl font-black text-xs uppercase tracking-[0.3em] shadow-2xl shadow-slate-200 transition-all active:scale-95 flex items-center justify-center gap-3 mt-6 group overflow-hidden",children:f?p.jsx(Lc,{className:"animate-spin",size:20}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"relative z-10",children:n?"Crear Perfil Libre":"Entrar con Propsito"}),p.jsx("div",{className:"bg-blue-600 p-1.5 rounded-xl group-hover:translate-x-1.5 transition-transform duration-300",children:p.jsx(vy,{size:18,strokeWidth:3})})]})})]}),p.jsx("button",{onClick:()=>{r(!n),_(null)},className:"mt-10 w-full group",children:p.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.25em] transition-colors group-hover:text-blue-600",children:[n?"Ya eres un usuario libre?":"An no tienes acceso?",p.jsx("span",{className:"text-blue-600 ml-2 border-b-2 border-blue-600/30 pb-0.5 group-hover:border-blue-600",children:"Haz clic aqu"})]})}),p.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-50 flex items-center justify-center gap-2",children:[p.jsx(Sj,{size:14,className:"text-red-400 fill-red-400"}),p.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Tecnologa para la Felicidad"})]})]})]})]})},OB=({currentUser:t})=>{const[e,n]=V.useState(!1);V.useEffect(()=>{if(!localStorage.getItem("vitaflow_welcome_seen")&&t){const a=setTimeout(()=>n(!0),1e3);return()=>clearTimeout(a)}},[t]);const r=()=>{localStorage.setItem("vitaflow_welcome_seen","true"),n(!1)};return!e||!t?null:p.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/40 backdrop-blur-md",children:p.jsx("div",{className:"bg-white w-full max-w-lg rounded-[3.5rem] p-10 shadow-2xl border border-white relative overflow-hidden",children:p.jsxs("div",{className:"relative z-10 text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-blue-200",children:p.jsx(m2,{className:"text-white",size:40})}),p.jsxs("h2",{className:"text-4xl font-black tracking-tighter text-slate-900 italic uppercase mb-4",children:["Hola, ",p.jsx("span",{className:"text-blue-600",children:t.firstName||"Usuario"})]}),p.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed mb-10",children:["Has activado tu ecosistema ",p.jsx("span",{className:"font-bold text-slate-800",children:"VitaFlow"}),"."]}),p.jsx("button",{onClick:r,className:"w-full bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[12px] tracking-[0.2em] shadow-xl",children:"Entrar a mi Ecosistema"})]})})})},LB=({currentUser:t,history:e})=>{const[n,r]=V.useState(!1),[s,a]=V.useState(""),[l,u]=V.useState(t?.defaultBasalDose?.toString()||"0"),[f,m]=V.useState(!1),y=new Date().toISOString().split("T")[0],_=V.useMemo(()=>e?.find(I=>I.date.startsWith(y)&&I.mealType==="desayuno"),[e,y]),b=V.useMemo(()=>{const I=new Date;return I.setDate(I.getDate()-7),(e||[]).filter(N=>new Date(N.date)>=I&&N.mealType==="desayuno"&&N.bloodGlucoseValue).sort((N,C)=>new Date(N.date).getTime()-new Date(C.date).getTime()).map(N=>({date:new Date(N.date).toLocaleDateString("es-ES",{weekday:"short"}),val:N.bloodGlucoseValue||0}))},[e]);if(!t)return null;const T=async()=>{if(!(!s||f)){m(!0);try{await on.saveHistoryEntry(t.id,{mealType:"desayuno",bloodGlucoseValue:parseFloat(s),finalInsulinUnits:parseFloat(l),userInput:"Registro manual matutino",totalCarbs:0,isCalibrated:!1}),r(!1),a("")}catch(I){console.error("Error al guardar registro:",I)}finally{m(!1)}}};return p.jsxs("div",{className:"max-w-md mx-auto p-4 pb-24 animate-in fade-in duration-700",children:[p.jsxs("header",{className:"mb-8 flex justify-between items-end",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"Panel de Control"}),p.jsxs("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:["Hola, ",t.firstName]})]}),p.jsxs("div",{className:"bg-blue-50 px-3 py-1.5 rounded-full border border-blue-100 flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),p.jsx("span",{className:"text-[10px] font-bold text-blue-700 uppercase",children:"Sincronizado"})]})]}),p.jsxs("div",{className:`p-8 rounded-[2.5rem] border-2 transition-all duration-500 mb-8 ${_?"bg-emerald-50 border-emerald-100 shadow-sm":"bg-white border-slate-100 shadow-xl shadow-slate-200/50"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"font-bold text-slate-900 text-lg tracking-tight",children:"Registro de Hoy"}),p.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Ayunas / Desayuno"})]}),_?p.jsx(_y,{className:"text-emerald-500",size:32}):p.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600",children:p.jsx(lf,{size:20})})]}),_?p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-emerald-100",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Glucosa"}),p.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[_.bloodGlucoseValue," ",p.jsx("span",{className:"text-sm font-medium text-slate-400",children:"mg/dL"})]})]}),p.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-emerald-100",children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Insulina"}),p.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[_.finalInsulinUnits," ",p.jsx("span",{className:"text-sm font-medium text-slate-400",children:"UI"})]})]})]}):p.jsxs("button",{onClick:()=>r(!0),className:"w-full py-5 bg-slate-900 text-white rounded-2xl font-bold text-sm flex items-center justify-center gap-3 hover:bg-blue-600 transition-all active:scale-[0.98]",children:[p.jsx(u2,{size:18})," Registrar Medicin"]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[p.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2 mb-8",children:[p.jsx(aj,{size:18,className:"text-blue-600"}),"Historial de 7 das"]}),b.length>0?p.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:b.map((I,N)=>p.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[p.jsx("div",{className:"w-full bg-slate-50 rounded-t-lg relative flex items-end justify-center overflow-hidden",style:{height:"100px"},children:p.jsx("div",{className:`w-full transition-all duration-1000 ${I.val>180?"bg-orange-400":I.val<70?"bg-red-400":"bg-blue-500"}`,style:{height:`${Math.min(I.val/250*100,100)}%`}})}),p.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-tighter",children:I.date})]},N))}):p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Ti,{className:"mx-auto text-slate-200 mb-2",size:32}),p.jsx("p",{className:"text-xs font-medium text-slate-400",children:"Sin datos suficientes para mostrar tendencias."})]})]}),n&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-md z-[1000] flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm p-10 shadow-2xl animate-in zoom-in-95",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-8 text-center",children:"Registro Clnico Diario"}),p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-4 text-center",children:"Nivel de Glucosa (mg/dL)"}),p.jsx("input",{type:"number",value:s,onChange:I=>a(I.target.value),className:"w-full text-5xl font-bold text-center text-blue-600 outline-none",placeholder:"110",autoFocus:!0})]}),p.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl flex items-center justify-between",children:[p.jsxs("span",{className:"text-xs font-bold text-slate-500 flex items-center gap-2",children:[p.jsx(rM,{size:16})," Insulina"]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>u(I=>Math.max(0,parseFloat(I)-.5).toString()),className:"w-8 h-8 bg-white border border-slate-200 rounded-full flex items-center justify-center font-bold",children:"-"}),p.jsx("input",{type:"number",value:l,onChange:I=>u(I.target.value),className:"w-12 text-center bg-transparent font-bold text-slate-900"}),p.jsx("button",{onClick:()=>u(I=>(parseFloat(I)+.5).toString()),className:"w-8 h-8 bg-white border border-slate-200 rounded-full flex items-center justify-center font-bold",children:"+"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-10",children:[p.jsx("button",{onClick:()=>r(!1),className:"py-4 text-sm font-bold text-slate-400",children:"Cancelar"}),p.jsx("button",{onClick:T,disabled:!s||f,className:"bg-blue-600 text-white py-4 rounded-xl font-bold text-sm shadow-lg shadow-blue-100 disabled:opacity-50",children:f?"Guardando...":"Confirmar"})]})]})})]})},O1=({currentUser:t,history:e=[],onStartClick:n})=>t?p.jsx(LB,{currentUser:t,history:e}):p.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] overflow-x-hidden font-sans",children:[p.jsxs("section",{className:"relative pt-24 pb-32 px-6",children:[p.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[600px] bg-blue-600/5 blur-[120px] rounded-full -z-10"}),p.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[p.jsxs(Mh.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-blue-50 border border-blue-100 mb-10 shadow-sm",children:[p.jsx(rl,{size:16,className:"text-blue-600"}),p.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.25em] text-blue-700",children:"Mente Metablica v4.0  Live"})]}),p.jsxs("h1",{className:"text-6xl md:text-[92px] font-[1000] tracking-tighter text-slate-900 leading-[0.82] mb-12",children:["La IA que cuida ",p.jsx("br",{}),p.jsxs("span",{className:"text-blue-600 relative inline-block",children:["tu paz mental.",p.jsx("svg",{className:"absolute -bottom-4 left-0 w-full",viewBox:"0 0 300 12",fill:"none",children:p.jsx("path",{d:"M1 10C60 2 180 2 299 10",stroke:"#2563EB",strokeWidth:"4",strokeLinecap:"round"})})]})]}),p.jsxs("p",{className:"max-w-2xl mx-auto text-xl md:text-2xl text-slate-500 font-medium mb-14 leading-relaxed",children:["Bienvenido a la era de la ",p.jsx("span",{className:"text-slate-900 font-extrabold",children:"Psicologa Metablica"}),". Deja de contar carbohidratos y empieza a contar momentos de libertad."]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[p.jsxs("button",{onClick:n,className:"group w-full sm:w-auto bg-slate-900 text-white px-12 py-7 rounded-[2.5rem] font-bold text-xl flex items-center justify-center gap-4 hover:bg-blue-600 transition-all shadow-2xl shadow-slate-200 active:scale-95",children:["Iniciar mi cambio positivo ",p.jsx(yy,{className:"group-hover:translate-x-2 transition-transform"})]}),p.jsx("button",{className:"w-full sm:w-auto bg-white text-slate-900 px-12 py-7 rounded-[2.5rem] font-bold text-xl border border-slate-200 hover:border-blue-600 transition-all",children:"Explorar la Mente IA"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10 max-w-7xl mx-auto mt-40 px-4",children:[p.jsx(Km,{icon:p.jsx(f2,{className:"text-amber-500"}),title:"Refuerzo Positivo",desc:"Nuestra IA no te juzga. Celebramos cada decisin equilibrada para fortalecer tu hbito y tu felicidad."}),p.jsx(Km,{icon:p.jsx(i2,{className:"text-blue-600"}),title:"Mente Predictiva",desc:"Anticipamos las respuestas de tu cuerpo con algoritmos de alta fidelidad, eliminando la ansiedad del 'qu pasar'."}),p.jsx(Km,{icon:p.jsx(by,{className:"text-emerald-500"}),title:"Libertad Dirigida",desc:"Diseada para que la diabetes sea invisible. Gestin automatizada para que t seas el protagonista de tu vida."})]})]}),p.jsx("section",{className:"py-32 bg-white border-t border-slate-100",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-20 items-center",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-5xl font-black text-slate-900 leading-tight mb-8",children:"Tecnologa humana para resultados reales."}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(Gm,{icon:p.jsx(Qm,{className:"text-blue-600"}),text:"Sincronizacin instantnea con Sensores"}),p.jsx(Gm,{icon:p.jsx(Qm,{className:"text-blue-600"}),text:"Privacidad blindada grado Apple"}),p.jsx(Gm,{icon:p.jsx(Qm,{className:"text-blue-600"}),text:"Acompaamiento IA 24/7 con tono emptico"})]})]}),p.jsxs("div",{className:"bg-slate-50 rounded-[4rem] p-12 aspect-square flex flex-col justify-center items-center border border-slate-100 shadow-inner",children:[p.jsx(Co,{size:80,className:"text-blue-600 mb-6 animate-pulse"}),p.jsx("p",{className:"text-2xl font-black italic text-slate-900",children:"MENTE METABLICA"}),p.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.4em] text-[10px] mt-2",children:"The Gold Standard"})]})]})})]}),Gm=({icon:t,text:e})=>p.jsxs("div",{className:"flex items-center gap-4",children:[t,p.jsx("span",{className:"text-lg font-bold text-slate-700",children:e})]}),Km=({icon:t,title:e,desc:n})=>p.jsxs("div",{className:"bg-white p-12 rounded-[4rem] border border-slate-100 shadow-sm hover:shadow-2xl transition-all duration-700 group cursor-default",children:[p.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center mb-8 group-hover:scale-110 group-hover:bg-blue-50 transition-all duration-500",children:t}),p.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-4 tracking-tight",children:e}),p.jsx("p",{className:"text-slate-500 text-lg leading-relaxed font-medium",children:n})]}),Qm=({className:t})=>p.jsx("div",{className:`w-6 h-6 rounded-full border-2 border-current flex items-center justify-center ${t}`,children:p.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),VB=({history:t,onEntryClick:e})=>{const n=r=>({desayuno:{bg:"bg-orange-50",text:"text-orange-600",dot:"bg-orange-400"},almuerzo:{bg:"bg-blue-50",text:"text-[#007AFF]",dot:"bg-[#007AFF]"},cena:{bg:"bg-indigo-50",text:"text-indigo-600",dot:"bg-indigo-400"}})[r.toLowerCase()]||{bg:"bg-slate-50",text:"text-slate-500",dot:"bg-slate-400"};return t.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center px-6",children:[p.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-[2.5rem] flex items-center justify-center mb-8 border border-slate-100",children:p.jsx(gM,{size:32,className:"text-slate-200"})}),p.jsx("h3",{className:"text-2xl font-[1000] text-slate-800 uppercase italic tracking-tighter",children:"Sin registros"}),p.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.3em] mt-4 max-w-[200px] leading-relaxed",children:"Tu motor metablico est listo para el primer anlisis"})]}):p.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-40 animate-in fade-in slide-in-from-bottom-8 duration-1000 px-6",children:[p.jsxs("div",{className:"flex items-end justify-between mb-10 border-b border-slate-50 pb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-[10px] font-[900] text-slate-300 uppercase tracking-[0.4em] mb-2 italic",children:"Bio-Timeline 2026"}),p.jsxs("h2",{className:"text-4xl font-[1000] text-slate-900 tracking-tighter uppercase italic leading-none",children:["Cronologa ",p.jsx("span",{className:"text-[#007AFF]",children:"Metablica"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("span",{className:"text-2xl font-[1000] text-[#007AFF] italic leading-none",children:t.length}),p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Eventos"})]})]}),p.jsx("div",{className:"space-y-4",children:t.map(r=>{const s=n(r.mealType);return p.jsxs("div",{onClick:()=>e?.(r),className:"group relative bg-white rounded-[2.8rem] p-6 flex items-center gap-6 border border-slate-50 shadow-[0_15px_40px_rgba(0,0,0,0.02)] hover:shadow-2xl hover:shadow-blue-900/10 hover:-translate-y-1 transition-all duration-500 cursor-pointer active:scale-[0.98]",children:[p.jsx("div",{className:`absolute left-0 top-1/4 bottom-1/4 w-1.5 rounded-r-full ${r.isCalibrated?"bg-[#34C759]":"bg-amber-400 animate-pulse"}`}),p.jsxs("div",{className:"relative h-28 w-28 flex-shrink-0",children:[p.jsx("div",{className:"h-full w-full rounded-[2rem] overflow-hidden bg-slate-100 shadow-inner",children:p.jsx("img",{src:r.imageUrl||"https://images.unsplash.com/photo-1490645935967-10de6ba17061?q=80&w=200&auto=format&fit=crop",alt:r.foodName,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-[0.95] group-hover:brightness-100"})}),p.jsx("div",{className:`absolute -top-2 -left-2 w-8 h-8 rounded-xl border-4 border-white shadow-lg flex items-center justify-center ${r.isCalibrated?"bg-[#34C759]":"bg-amber-400"}`,children:r.isCalibrated?p.jsx(_y,{size:14,className:"text-white"}):p.jsx(Ti,{size:14,className:"text-white"})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full ${s.bg} border border-transparent`,children:[p.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s.dot}`}),p.jsx("span",{className:`text-[9px] font-[900] uppercase tracking-widest ${s.text}`,children:r.mealType})]}),p.jsxs("span",{className:"text-[10px] text-slate-300 font-bold flex items-center gap-1 uppercase tracking-tighter",children:[p.jsx(lf,{size:11,strokeWidth:2.5}),new Date(r.createdAt?.seconds*1e3||r.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),p.jsx("h4",{className:"text-slate-900 font-[1000] text-2xl truncate tracking-tighter uppercase italic leading-none mb-4",children:r.foodName||"Comida Analizada"}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-[0.2em] mb-1",children:"Carbs Netos"}),p.jsxs("div",{className:"flex items-baseline gap-0.5",children:[p.jsx("span",{className:"text-lg font-[1000] text-[#007AFF] leading-none",children:r.totalCarbs}),p.jsx("span",{className:"text-[10px] font-black text-[#007AFF]/50 italic",children:"g"})]})]}),p.jsx("div",{className:"w-px h-8 bg-slate-100"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-[0.2em] mb-1",children:"Insulina"}),p.jsxs("div",{className:"flex items-baseline gap-0.5",children:[p.jsx("span",{className:"text-lg font-[1000] text-slate-800 leading-none",children:r.finalInsulinUnits||r.recommendedInsulinUnits||"0"}),p.jsx("span",{className:"text-[10px] font-black text-slate-400 italic",children:"u"})]})]}),r.bloodGlucoseValue&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-px h-8 bg-slate-100"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[8px] font-black text-[#34C759] uppercase tracking-[0.2em] mb-1",children:"Impacto"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(uM,{size:12,className:"text-[#34C759]",strokeWidth:3}),p.jsx("span",{className:"text-lg font-[1000] text-[#34C759] leading-none",children:r.bloodGlucoseValue})]})]})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center justify-between self-stretch py-2",children:[r.isCalibrated?p.jsx("div",{className:"h-10"}):p.jsx("div",{className:"bg-amber-50 text-amber-500 p-2.5 rounded-[1.2rem] animate-pulse",title:"Requiere Calibracin",children:p.jsx(wy,{size:20})}),p.jsx("div",{className:"p-3 rounded-2xl bg-slate-50 text-slate-300 group-hover:bg-[#007AFF] group-hover:text-white transition-all duration-300",children:p.jsx(vy,{size:20,strokeWidth:3})})]})]},r.id)})}),p.jsx("div",{className:"flex flex-col items-center gap-4 pt-12 border-t border-slate-50",children:p.jsxs("div",{className:"flex items-center gap-2 grayscale opacity-30",children:[p.jsx(Co,{size:14,fill:"currentColor"}),p.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.5em]",children:"Neural Processing Active v4.2"})]})})]})},FB=({currentUser:t})=>{const[e,n]=V.useState(t.aiMemory||""),[r,s]=V.useState(!1),[a,l]=V.useState(!1);V.useEffect(()=>{t.aiMemory&&n(t.aiMemory)},[t.aiMemory]);const u=async()=>{s(!0);try{await on.updateUser({id:t.id,aiMemory:e}),l(!1)}catch(f){console.error("Error al guardar la memoria IA:",f),alert("No se pudo sincronizar la memoria con el ncleo.")}finally{s(!1)}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-blue-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:p.jsx(i2,{size:20})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-black tracking-tighter text-slate-900 uppercase leading-none",children:"Memoria Bio-Digital"}),p.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mt-1",children:"LTM (Long Term Memory)"})]})]}),!a&&p.jsx("button",{onClick:()=>l(!0),className:"p-2 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors",children:p.jsx(l2,{size:18,className:"text-slate-400"})})]}),p.jsx("div",{className:"relative",children:a?p.jsxs("div",{className:"space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[p.jsx("textarea",{value:e,onChange:f=>n(f.target.value),placeholder:"Ej: 'Suelo tener picos despus de la pasta', 'Hago ejercicio a las 19:00', 'Mi cuerpo reacciona lento a la insulina rpida'...",className:"w-full h-40 bg-slate-50 border-2 border-indigo-50 rounded-[2rem] p-6 text-sm font-medium text-slate-700 outline-none focus:border-indigo-200 focus:bg-white transition-all resize-none"}),p.jsx("button",{onClick:u,disabled:r,className:"w-full bg-indigo-600 text-white p-5 rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] flex items-center justify-center gap-3 shadow-lg shadow-indigo-100 active:scale-95 disabled:opacity-50 transition-all",children:r?p.jsx(Lc,{className:"animate-spin",size:16}):p.jsxs(p.Fragment,{children:[p.jsx(xy,{size:16})," Consolidar Aprendizaje"]})})]}):p.jsxs("div",{onClick:()=>l(!0),className:"group cursor-pointer bg-gradient-to-br from-slate-50 to-white border border-slate-100 rounded-[2.5rem] p-7 relative overflow-hidden transition-all hover:shadow-md",children:[p.jsx("div",{className:"absolute -top-4 -right-4 text-slate-50 group-hover:text-indigo-50 transition-colors",children:p.jsx(rl,{size:80})}),e?p.jsxs("div",{className:"relative z-10",children:[p.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',e,'"']}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[9px] font-black text-indigo-400 uppercase tracking-widest",children:[p.jsx(Uj,{size:12})," Datos cargados en el Agente AI"]})]}):p.jsx("div",{className:"relative z-10 py-4 text-center",children:p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sin memoria activa. Haz clic para entrenar a tu IA."})})]})}),p.jsxs("div",{className:"flex items-center gap-2 px-2",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em]",children:"Optimizacin metablica en tiempo real activa"})]})]})},UB=({currentUser:t,onUpdate:e})=>{const[n,r]=V.useState(!1),[s,a]=V.useState({diabetesType:t.clinicalConfig?.diabetesType||"Type 1",isf:t.clinicalConfig?.insulinSensitivityFactor||50,target:t.clinicalConfig?.targetGlucose||100,ratio:t.insulinRatioSchedule?.[0]?.ratio||15}),l=async()=>{r(!0);try{const u={id:t.id,clinicalConfig:{...t.clinicalConfig,diabetesType:s.diabetesType,insulinSensitivityFactor:s.isf,targetGlucose:s.target},insulinRatioSchedule:[{startTime:"08:00",ratio:s.ratio}]};await on.updateUser(u),e(u),alert(" Parmetros recalibrados con xito")}catch(u){console.error(u),alert(" Error al sincronizar")}finally{r(!1)}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-100",children:p.jsx(Ti,{size:20})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-black tracking-tighter text-slate-900 uppercase leading-none",children:"Calibracin"}),p.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mt-1",children:"Motor Clnico"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[p.jsx("label",{className:"text-[9px] font-black uppercase text-slate-400 block mb-2 tracking-widest",children:"Condicin"}),p.jsxs("select",{value:s.diabetesType,onChange:u=>a({...s,diabetesType:u.target.value}),className:"w-full bg-white p-3 rounded-xl font-bold text-slate-700 outline-none border border-slate-200",children:[p.jsx("option",{value:"Type 1",children:"Tipo 1"}),p.jsx("option",{value:"Type 2",children:"Tipo 2"}),p.jsx("option",{value:"LADA",children:"LADA"})]})]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:["Ratio (1U:",s.ratio,"g)"]}),p.jsx("span",{className:"text-lg font-black text-blue-600",children:s.ratio})]}),p.jsx("input",{type:"range",min:"1",max:"40",value:s.ratio,onChange:u=>a({...s,ratio:parseInt(u.target.value)}),className:"w-full accent-blue-600"})]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:["Sensibilidad (",s.isf,")"]}),p.jsx("span",{className:"text-lg font-black text-emerald-600",children:s.isf})]}),p.jsx("input",{type:"range",min:"10",max:"200",step:"5",value:s.isf,onChange:u=>a({...s,isf:parseInt(u.target.value)}),className:"w-full accent-emerald-500"})]}),p.jsx("button",{onClick:l,disabled:n,className:"w-full bg-slate-900 text-white p-5 rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] flex items-center justify-center gap-3 transition-all active:scale-95 disabled:opacity-50",children:n?"Guardando...":p.jsxs(p.Fragment,{children:[p.jsx(xy,{size:16})," Aplicar Cambios"]})})]})]})},BB=[{id:"sedentary",label:"Sedentario",description:"Poco o nada de ejercicio.",multiplier:"1.2x",icon:p.jsx(KD,{size:20})},{id:"light",label:"Ligero",description:"Ejercicio 1-3 das/semana.",multiplier:"1.375x",icon:p.jsx(JD,{size:20})},{id:"moderate",label:"Moderado",description:"Intenso 3-5 das/semana.",multiplier:"1.55x",icon:p.jsx(Co,{size:20})},{id:"active",label:"Muy Activo",description:"Entrenamiento diario.",multiplier:"1.725x",icon:p.jsx(Ej,{size:20})},{id:"athlete",label:"Atleta Pro",description:"Esfuerzo fsico extremo.",multiplier:"1.9x",icon:p.jsx(f2,{size:20})}],zB=({selectedId:t,onSelect:e})=>p.jsx("div",{className:"grid gap-3 w-full max-w-md mx-auto",children:BB.map(n=>p.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-[0.98] ${t===n.id?"bg-metra-blue border-metra-blue text-white shadow-lg":"bg-slate-50 border-transparent text-metra-dark"}`,children:[p.jsx("div",{className:`p-3 rounded-2xl ${t===n.id?"bg-white/20":"bg-white text-metra-blue"}`,children:n.icon}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:n.label}),p.jsx("span",{className:"text-[9px] font-black opacity-60",children:n.multiplier})]}),p.jsx("p",{className:"text-[10px] font-bold opacity-70",children:n.description})]})]},n.id))}),$B=({targetWeight:t,targetHba1c:e,onUpdate:n,unit:r})=>p.jsxs("div",{className:"w-full space-y-8 animate-in fade-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-metra-blue",children:p.jsx(d2,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso Objetivo"}),p.jsxs("p",{className:"text-xl font-[1000] text-metra-dark italic uppercase tracking-tighter",children:[t," kg"]})]})]}),p.jsx("input",{type:"range",min:"40",max:"150",value:t,onChange:s=>n({targetWeight:Number(s.target.value)}),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-metra-blue"}),p.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[p.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:"40kg"}),p.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:"150kg"})]})]}),p.jsxs("div",{className:"bg-metra-dark p-6 rounded-[2.5rem] shadow-xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-metra-blue/10 blur-3xl rounded-full"}),p.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[p.jsx("div",{className:"p-3 bg-white/10 rounded-2xl text-metra-blue backdrop-blur-md",children:p.jsx(a2,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"HbA1c Objetivo"}),p.jsxs("p",{className:"text-xl font-[1000] text-white italic uppercase tracking-tighter",children:[e,"%"]})]})]}),p.jsx("input",{type:"range",min:"4.0",max:"9.0",step:"0.1",value:e,onChange:s=>n({targetHba1c:Number(s.target.value)}),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer accent-metra-blue relative z-10"}),p.jsxs("div",{className:"flex justify-between mt-2 px-1 relative z-10",children:[p.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"4.0%"}),p.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"9.0%"})]})]})]}),HB=({currentUser:t,onUpdateUser:e})=>{const[n,r]=V.useState(!1),[s,a]=V.useState(!1),[l,u]=V.useState(null),[f,m]=V.useState(t.insulinRatioSchedule||[{startTime:"06:00",ratio:15},{startTime:"13:00",ratio:15},{startTime:"20:00",ratio:15}]),y=async C=>{const z=C.target.files?.[0];if(!(!z||!t?.id)){r(!0);try{const G=RU(tB,`avatars/${t.id}`);await AU(G,z);const F=await PU(G);await oo(Zn(rn,"users",t.id),{photoURL:F}),e({photoURL:F})}catch(G){console.error("Error subiendo Bio-Avatar:",G)}finally{r(!1)}}},_=async()=>{a(!0);try{const C=Zn(rn,"users",t.id);await oo(C,{insulinRatioSchedule:f,updatedAt:new Date().toISOString()}),e({insulinRatioSchedule:f})}catch(C){console.error("Error guardando parmetros:",C)}finally{a(!1)}},b=(C,z)=>{const G=[...f];G[C].ratio=Number(z),m(G)},T=async C=>{e({activityLevel:C});const z=Zn(rn,"users",t.id);await oo(z,{activityLevel:C}),setTimeout(()=>u(null),300)},I=async C=>{e({glucoseUnitPreference:C});const z=Zn(rn,"users",t.id);await oo(z,{glucoseUnitPreference:C}),u(null)},N=async C=>{e(C);const z=Zn(rn,"users",t.id);await oo(z,C)};return p.jsxs("div",{className:"min-h-screen bg-[#F2F2F7] pb-32",children:[p.jsxs("header",{className:"bg-white pt-16 pb-10 px-6 rounded-b-[3.5rem] shadow-sm relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-blue-500 to-green-500 opacity-50"}),p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"relative w-32 h-32 rounded-[2.5rem] overflow-hidden border-4 border-white shadow-2xl bg-slate-100 flex items-center justify-center",children:n?p.jsx(Lc,{className:"animate-spin text-blue-500",size:32}):t?.photoURL?p.jsx("img",{src:t.photoURL,alt:"Bio-Profile",className:"w-full h-full object-cover"}):p.jsx(p2,{size:48,className:"text-slate-300"})}),p.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-slate-900 text-white p-3 rounded-2xl shadow-xl border-2 border-white cursor-pointer active:scale-90 transition-transform",children:[p.jsx(o2,{size:18}),p.jsx("input",{type:"file",className:"hidden",onChange:y})]})]}),p.jsxs("h2",{className:"mt-8 text-3xl font-[1000] tracking-tighter text-slate-900 italic uppercase text-center leading-tight",children:[t?.firstName||"Usuario"," ",p.jsx("span",{className:"text-blue-600",children:"PRO"})]}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mt-1",children:"Metabolic Core Active"})]})]}),p.jsxs("main",{className:"px-6 mt-8 space-y-8",children:[p.jsx("section",{className:"animate-in fade-in slide-in-from-bottom-4 duration-700",children:p.jsx("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:p.jsx(FB,{currentUser:t})})}),p.jsxs("section",{className:"space-y-3",children:[p.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:"Calibracin Bio-Core"}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] p-2 shadow-sm border border-slate-100",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-[1.8rem] mb-2",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-white p-3 rounded-2xl text-blue-600 shadow-sm",children:p.jsx(Ti,{size:18})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Esfuerzo"}),p.jsx("p",{className:"text-xs font-bold text-slate-800 uppercase tracking-tighter",children:t.activityLevel||"Sin definir"})]})]}),p.jsx("button",{onClick:()=>u("activity"),className:"text-[9px] font-black text-blue-600 uppercase bg-white px-4 py-2 rounded-xl shadow-sm",children:"Editar"})]}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-[1.8rem] mb-2",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-white p-3 rounded-2xl text-green-600 shadow-sm",children:p.jsx(by,{size:18})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Objetivos"}),p.jsxs("p",{className:"text-xs font-bold text-slate-800 uppercase tracking-tighter",children:[t.targetWeight||70,"kg | ",t.targetHba1c||5.5,"%"]})]})]}),p.jsx("button",{onClick:()=>u("goals"),className:"text-[9px] font-black text-blue-600 uppercase bg-white px-4 py-2 rounded-xl shadow-sm",children:"Configurar"})]}),p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-[1.8rem]",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-white p-3 rounded-2xl text-red-500 shadow-sm",children:p.jsx(a2,{size:18})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Sistema"}),p.jsx("p",{className:"text-xs font-bold text-slate-800 uppercase",children:t.glucoseUnitPreference})]})]}),p.jsx("button",{onClick:()=>u("units"),className:"text-[9px] font-black text-blue-600 uppercase bg-white px-4 py-2 rounded-xl shadow-sm",children:"Cambiar"})]})]})]}),p.jsx("section",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:p.jsx(UB,{currentUser:t,onUpdate:C=>e(C)})}),p.jsxs("section",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-2",children:[p.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Horarios de Ratio"}),p.jsx(d2,{size:16,className:"text-slate-300"})]}),p.jsx("div",{className:"bg-white rounded-[2.5rem] p-2 shadow-sm border border-slate-100",children:f.map((C,z)=>p.jsxs("div",{className:`flex items-center justify-between p-5 ${z!==f.length-1?"border-b border-slate-50":""}`,children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center text-blue-600",children:p.jsx(lf,{size:18})}),p.jsx("span",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:C.startTime})]}),p.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-1.5 rounded-2xl",children:[p.jsx("input",{type:"number",value:C.ratio,onChange:G=>b(z,G.target.value),className:"w-14 bg-white border-none rounded-xl py-2 text-center font-black text-blue-600 shadow-sm outline-none"}),p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase mr-2",children:"grs"})]})]},z))})]}),p.jsx("button",{onClick:_,disabled:s,className:"w-full bg-slate-900 text-white p-6 rounded-[2.5rem] font-black uppercase text-[10px] tracking-[0.2em] shadow-xl flex items-center justify-center gap-3 disabled:opacity-50 transition-all active:scale-95",children:s?p.jsx(Lc,{className:"animate-spin"}):p.jsxs(p.Fragment,{children:[p.jsx(h2,{size:18,className:"text-green-500"})," Sincronizar Bio-Core"]})}),p.jsxs("button",{onClick:()=>on.logout(),className:"w-full flex items-center justify-center gap-2 p-5 text-red-500 font-black text-[10px] uppercase tracking-widest rounded-[2rem] active:bg-red-50 transition-colors",children:[p.jsx(Oj,{size:16})," Finalizar Sesin"]})]}),l&&p.jsxs("div",{className:"fixed inset-0 z-[200] flex items-end justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md",onClick:()=>u(null)}),p.jsxs("div",{className:"relative w-full max-w-lg bg-white rounded-t-[3.5rem] p-8 shadow-2xl pb-12",children:[p.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full mx-auto mb-8"}),p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("h3",{className:"text-xl font-[1000] text-slate-900 uppercase italic tracking-tighter",children:[l==="activity"&&"Bio-Actividad",l==="units"&&"Sistema de Medida",l==="goals"&&"Metas Clnicas"]}),p.jsx("button",{onClick:()=>u(null),className:"p-2 bg-slate-50 rounded-full text-slate-400",children:p.jsx(cf,{size:20})})]}),l==="activity"&&p.jsx("div",{className:"max-h-[60vh] overflow-y-auto pr-2",children:p.jsx(zB,{selectedId:t.activityLevel,onSelect:T})}),l==="units"&&p.jsx("div",{className:"grid gap-4",children:["mg/dL","mmol/L"].map(C=>p.jsxs("button",{onClick:()=>I(C),className:`p-6 rounded-[2rem] border-2 flex justify-between items-center transition-all ${t.glucoseUnitPreference===C?"bg-blue-600 border-blue-600 text-white shadow-lg":"bg-slate-50 border-transparent text-slate-800"}`,children:[p.jsx("span",{className:"font-black uppercase tracking-widest",children:C}),t.glucoseUnitPreference===C&&p.jsx(eM,{size:20})]},C))}),l==="goals"&&p.jsx($B,{targetWeight:t.targetWeight||70,targetHba1c:t.targetHba1c||5.5,onUpdate:N,unit:t.glucoseUnitPreference})]})]})]})},GI=()=>p.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),WB=({onLoginSuccess:t})=>{const e=nu(),[n,r]=V.useState(1),[s,a]=V.useState(!1),[l,u]=V.useState(null),[f,m]=V.useState({firstName:"",email:"",password:"",diabetesType:"Type 1",country:"Chile",ratio:10,isf:50,targetGlucose:110}),y=()=>{if(n===1&&(!f.firstName||!f.email||!f.password)){u("Completa los datos de acceso.");return}u(null),r(T=>T+1)},_=()=>r(T=>T-1),b=async T=>{T.preventDefault(),a(!0),u(null);try{const C={id:(await on.register(f.email,f.password,f.firstName)).user.uid,firstName:f.firstName,lastName:"",email:f.email.toLowerCase().trim(),role:"USER",subscription_tier:"BASE",ia_credits:3,daily_ia_usage:0,streak:0,createdAt:new Date().toISOString(),insulinRatioSchedule:[{startTime:"08:00",ratio:Number(f.ratio)}],clinicalConfig:{diabetesType:f.diabetesType,insulinSensitivityFactor:Number(f.isf),targetGlucose:Number(f.targetGlucose)},memory:{patterns:{highGlucoseTriggers:[],effectiveCorrections:[],notableEvents:[]},preferences:{dietaryRestrictions:[],favoriteSafeFoods:[]},aiNotes:"Protocolo VitaFlow activado. Esperando primeros datos."}};await on.updateUser(C),t&&t(C),setTimeout(()=>e("/dashboard"),500)}catch(I){u(I.message||"Error al activar el perfil."),r(1)}finally{a(!1)}};return p.jsxs("div",{className:"min-h-screen bg-[#F2F2F7] px-6 py-12 font-sans antialiased text-slate-900",children:[p.jsx("div",{className:"max-w-md mx-auto mb-10 flex gap-2 justify-center",children:[1,2,3].map(T=>p.jsx("div",{className:`h-1 w-16 rounded-full transition-all duration-500 ${n>=T?"bg-blue-600":"bg-slate-200"}`},T))}),p.jsxs("div",{className:"max-w-xl mx-auto",children:[l&&p.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-xs font-bold text-center animate-bounce",children:l}),n===1&&p.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"w-20 h-20 bg-white rounded-[2.5rem] shadow-xl flex items-center justify-center mx-auto mb-6",children:p.jsx(m2,{className:"text-blue-600",size:32})}),p.jsxs("h1",{className:"text-4xl font-[1000] tracking-tighter italic uppercase",children:["Vita",p.jsx("span",{className:"text-blue-600",children:"Flow"})]})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-5",children:[p.jsx("input",{value:f.firstName,onChange:T=>m({...f,firstName:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Tu Nombre"}),p.jsx("input",{value:f.email,onChange:T=>m({...f,email:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Email"}),p.jsx("input",{type:"password",value:f.password,onChange:T=>m({...f,password:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Contrasea"}),p.jsxs("button",{onClick:y,className:"w-full bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[11px] tracking-widest flex items-center justify-center gap-3",children:["Siguiente ",p.jsx(yy,{size:18})]})]})]}),n===2&&p.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] shadow-xl flex items-center justify-center mx-auto mb-6 text-white",children:p.jsx(Ti,{size:32})}),p.jsx("h2",{className:"text-3xl font-[1000] tracking-tighter italic uppercase",children:"Calibracin"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-6",children:[p.jsxs("select",{value:f.diabetesType,onChange:T=>m({...f,diabetesType:T.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold text-xs",children:[p.jsx("option",{value:"Type 1",children:"Tipo 1"}),p.jsx("option",{value:"Type 2",children:"Tipo 2"}),p.jsx("option",{value:"LADA",children:"LADA"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 block mb-2 text-center tracking-widest",children:["Ratio Insulina (1U : ",f.ratio,"g Carbos)"]}),p.jsx("input",{type:"range",min:"1",max:"40",value:f.ratio,onChange:T=>m({...f,ratio:parseInt(T.target.value)}),className:"w-full accent-blue-600"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:_,className:"p-6 bg-slate-100 rounded-[2rem] text-slate-400 font-black",children:p.jsx(hj,{size:20})}),p.jsx("button",{onClick:y,className:"flex-1 bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[11px] tracking-widest",children:"Configurar Meta"})]})]})]}),n===3&&p.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-[2rem] shadow-xl flex items-center justify-center mx-auto mb-6 text-white",children:p.jsx(by,{size:32})}),p.jsx("h2",{className:"text-3xl font-[1000] tracking-tighter italic uppercase",children:"Meta"})]}),p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-6",children:[p.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] text-center",children:[p.jsx("input",{type:"number",value:f.targetGlucose,onChange:T=>m({...f,targetGlucose:parseInt(T.target.value)}),className:"w-full bg-transparent text-center text-5xl font-[1000] text-blue-600 outline-none"}),p.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"mg/dL Objetivo"})]}),p.jsx("button",{onClick:b,disabled:s,className:"w-full bg-blue-600 text-white p-6 rounded-[2rem] font-[1000] uppercase text-[12px] tracking-widest shadow-xl shadow-blue-200",children:s?p.jsx(GI,{}):"Activar mi VitaFlow"})]})]})]})]})};function KI(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function qB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function L1(t,e){return t.get(KI(t,e))}function GB(t,e,n){qB(t,e),e.set(t,n)}function KB(t,e,n){return t.set(KI(t,e),n),n}const QB=100,ve={},YB=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},XB=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{YB(),e()},QB),window.scrollTo(n,r)}),QI="swal2-",JB=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=JB.reduce((t,e)=>(t[e]=QI+e,t),{}),ZB=["success","warning","info","question","error"],Wh=ZB.reduce((t,e)=>(t[e]=QI+e,t),{}),YI="SweetAlert2:",q0=t=>t.charAt(0).toUpperCase()+t.slice(1),wn=t=>{console.warn(`${YI} ${typeof t=="object"?t.join(" "):t}`)},Ro=t=>{console.error(`${YI} ${t}`)},V1=[],e9=t=>{V1.includes(t)||(V1.push(t),wn(t))},XI=(t,e=null)=>{e9(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},jf=t=>typeof t=="function"?t():t,G0=t=>t&&typeof t.toPromise=="function",bu=t=>G0(t)?t.toPromise():Promise.resolve(t),K0=t=>t&&Promise.resolve(t)===t,_n=()=>document.body.querySelector(`.${Q.container}`),Eu=t=>{const e=_n();return e?e.querySelector(t):null},Bn=t=>Eu(`.${t}`),We=()=>Bn(Q.popup),dl=()=>Bn(Q.icon),t9=()=>Bn(Q["icon-content"]),JI=()=>Bn(Q.title),Q0=()=>Bn(Q["html-container"]),ZI=()=>Bn(Q.image),Y0=()=>Bn(Q["progress-steps"]),Mf=()=>Bn(Q["validation-message"]),Yr=()=>Eu(`.${Q.actions} .${Q.confirm}`),hl=()=>Eu(`.${Q.actions} .${Q.cancel}`),No=()=>Eu(`.${Q.actions} .${Q.deny}`),n9=()=>Bn(Q["input-label"]),fl=()=>Eu(`.${Q.loader}`),Tu=()=>Bn(Q.actions),eS=()=>Bn(Q.footer),Of=()=>Bn(Q["timer-progress-bar"]),X0=()=>Bn(Q.close),r9=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,J0=()=>{const t=We();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(l.getAttribute("tabindex")||"0");return u>f?1:u<f?-1:0}),r=t.querySelectorAll(r9),s=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Pn(a))},Z0=()=>ws(document.body,Q.shown)&&!ws(document.body,Q["toast-shown"])&&!ws(document.body,Q["no-backdrop"]),Lf=()=>{const t=We();return t?ws(t,Q.toast):!1},s9=()=>{const t=We();return t?t.hasAttribute("data-loading"):!1},zn=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},ws=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},i9=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Q).includes(n)&&!Object.values(Wh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Un=(t,e,n)=>{if(i9(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){wn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}He(t,r)}},Vf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return t.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return t.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||t.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return t.querySelector(`.${Q.popup} > .${Q.range} input`);default:return t.querySelector(`.${Q.popup} > .${Q.input}`)}},tS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},nS=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},He=(t,e)=>{nS(t,e,!0)},rr=(t,e)=>{nS(t,e,!1)},li=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&ws(s,e))return s}},mo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Ut=(t,e="flex")=>{t&&(t.style.display=e)},dn=t=>{t&&(t.style.display="none")},ev=(t,e="block")=>{t&&new MutationObserver(()=>{ku(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},F1=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},ku=(t,e,n="flex")=>{e?Ut(t,n):dn(t)},Pn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),o9=()=>!Pn(Yr())&&!Pn(No())&&!Pn(hl()),Zg=t=>t.scrollHeight>t.clientHeight,a9=(t,e)=>{let n=t;for(;n&&n!==e;){if(Zg(n))return!0;n=n.parentElement}return!1},rS=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},tv=(t,e=!1)=>{const n=Of();n&&Pn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},l9=()=>{const t=Of();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},c9=()=>typeof window>"u"||typeof document>"u",u9=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),d9=()=>{const t=_n();return t?(t.remove(),rr([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},ro=()=>{ve.currentInstance&&ve.currentInstance.resetValidationMessage()},h9=()=>{const t=We();if(!t)return;const e=li(t,Q.input),n=li(t,Q.file),r=t.querySelector(`.${Q.range} input`),s=t.querySelector(`.${Q.range} output`),a=li(t,Q.select),l=t.querySelector(`.${Q.checkbox} input`),u=li(t,Q.textarea);e&&(e.oninput=ro),n&&(n.onchange=ro),a&&(a.onchange=ro),l&&(l.onchange=ro),u&&(u.oninput=ro),r&&s&&(r.oninput=()=>{ro(),s.value=r.value},r.onchange=()=>{ro(),s.value=r.value})},f9=t=>{if(typeof t=="string"){const e=document.querySelector(t);if(!e)throw new Error(`Target element "${t}" not found`);return e}return t},p9=t=>{const e=We();e&&(e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true"))},m9=t=>{window.getComputedStyle(t).direction==="rtl"&&(He(_n(),Q.rtl),ve.isRTL=!0)},g9=t=>{const e=d9();if(c9()){Ro("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Q.container,e&&He(n,Q["no-transition"]),zn(n,u9),n.dataset.swal2Theme=t.theme;const r=f9(t.target||"body");r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),p9(t),m9(r),h9()},nv=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?y9(t,e):t&&zn(e,t)},y9=(t,e)=>{"jquery"in t?v9(e,t):zn(e,t.toString())},v9=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},w9=(t,e)=>{const n=Tu(),r=fl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?dn(n):Ut(n),Un(n,e,"actions"),_9(n,r,e),zn(r,e.loaderHtml||""),Un(r,e,"loader"))};function _9(t,e,n){const r=Yr(),s=No(),a=hl();!r||!s||!a||(Xm(r,"confirm",n),Xm(s,"deny",n),Xm(a,"cancel",n),x9(r,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(s,r)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function x9(t,e,n,r){if(!r.buttonsStyling){rr([t,e,n],Q.styled);return}He([t,e,n],Q.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Ym(t),Ym(e),Ym(n)}function Ym(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Xm(t,e,n){const r=q0(e);ku(t,n[`show${r}Button`],"inline-block"),zn(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Q[e],Un(t,n,`${e}Button`)}const b9=(t,e)=>{const n=X0();n&&(zn(n,e.closeButtonHtml||""),Un(n,e,"closeButton"),ku(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},E9=(t,e)=>{const n=_n();n&&(T9(n,e.backdrop),k9(n,e.position),I9(n,e.grow),Un(n,e,"container"))};function T9(t,e){typeof e=="string"?t.style.background=e:e||He([document.documentElement,document.body],Q["no-backdrop"])}function k9(t,e){e&&(e in Q?He(t,Q[e]):(wn('The "position" parameter is not valid, defaulting to "center"'),He(t,Q.center)))}function I9(t,e){e&&He(t,Q[`grow-${e}`])}var et={innerParams:new WeakMap,domCache:new WeakMap};const S9=["input","file","range","select","radio","checkbox","textarea"],C9=(t,e)=>{const n=We();if(!n)return;const r=et.innerParams.get(t),s=!r||e.input!==r.input;S9.forEach(a=>{const l=li(n,Q[a]);l&&(R9(a,e.inputAttributes),l.className=Q[a],s&&dn(l))}),e.input&&(s&&A9(e),N9(e))},A9=t=>{if(!t.input)return;if(!yt[t.input]){Ro(`Unexpected type of input! Expected ${Object.keys(yt).join(" | ")}, got "${t.input}"`);return}const e=sS(t.input);if(!e)return;const n=yt[t.input](e,t);Ut(e),t.inputAutoFocus&&setTimeout(()=>{tS(n)})},P9=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},R9=(t,e)=>{const n=We();if(!n)return;const r=Vf(n,t);if(r){P9(r);for(const s in e)r.setAttribute(s,e[s])}},N9=t=>{if(!t.input)return;const e=sS(t.input);e&&Un(e,t,"input")},rv=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Iu=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Q["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&He(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},sS=t=>{const e=We();if(e)return li(e,Q[t]||Q.input)},qh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:K0(e)||wn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},yt={};yt.text=yt.email=yt.password=yt.number=yt.tel=yt.url=yt.search=yt.date=yt["datetime-local"]=yt.time=yt.week=yt.month=(t,e)=>{const n=t;return qh(n,e.inputValue),Iu(n,n,e),rv(n,e),n.type=e.input,n};yt.file=(t,e)=>{const n=t;return Iu(n,n,e),rv(n,e),n};yt.range=(t,e)=>{const n=t,r=n.querySelector("input"),s=n.querySelector("output");return r&&(qh(r,e.inputValue),r.type=e.input,Iu(r,t,e)),s&&qh(s,e.inputValue),t};yt.select=(t,e)=>{const n=t;if(n.textContent="",e.inputPlaceholder){const r=document.createElement("option");zn(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,n.appendChild(r)}return Iu(n,n,e),n};yt.radio=t=>{const e=t;return e.textContent="",t};yt.checkbox=(t,e)=>{const n=We();if(!n)throw new Error("Popup not found");const r=Vf(n,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!e.inputValue;const a=t.querySelector("span");if(a){const l=e.inputPlaceholder||e.inputLabel;l&&zn(a,l)}return r};yt.textarea=(t,e)=>{const n=t;qh(n,e.inputValue),rv(n,e),Iu(n,n,e);const r=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=We();if(!s)return;const a=parseInt(window.getComputedStyle(s).width),l=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+r(n),f=We();f&&(u>a?f.style.width=`${u}px`:mo(f,"width",e.width))};new MutationObserver(l).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const D9=(t,e)=>{const n=Q0();n&&(ev(n),Un(n,e,"htmlContainer"),e.html?(nv(e.html,n),Ut(n,"block")):e.text?(n.textContent=e.text,Ut(n,"block")):dn(n),C9(t,e))},j9=(t,e)=>{const n=eS();n&&(ev(n),ku(n,!!e.footer,"block"),e.footer&&nv(e.footer,n),Un(n,e,"footer"))},M9=(t,e)=>{const n=et.innerParams.get(t),r=dl();if(!r)return;if(n&&e.icon===n.icon){B1(r,e),U1(r,e);return}if(!e.icon&&!e.iconHtml){dn(r);return}if(e.icon&&Object.keys(Wh).indexOf(e.icon)===-1){Ro(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),dn(r);return}Ut(r),B1(r,e),U1(r,e),He(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",iS)},U1=(t,e)=>{for(const[n,r]of Object.entries(Wh))e.icon!==n&&rr(t,r);He(t,e.icon&&Wh[e.icon]),V9(t,e),iS(),Un(t,e,"icon")},iS=()=>{const t=We();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},O9=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,L9=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,B1=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=z1(e.iconHtml):e.icon==="success"?(r=O9(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=L9:e.icon&&(r=z1({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&zn(t,r)},V9=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])F1(t,n,"background-color",e.iconColor);F1(t,".swal2-success-ring","border-color",e.iconColor)}},z1=t=>`<div class="${Q["icon-content"]}">${t}</div>`,F9=(t,e)=>{const n=ZI();if(n){if(!e.imageUrl){dn(n);return}Ut(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),mo(n,"width",e.imageWidth),mo(n,"height",e.imageHeight),n.className=Q.image,Un(n,e,"image")}};let sv=!1,oS=0,aS=0,lS=0,cS=0;const U9=t=>{t.addEventListener("mousedown",Gh),document.body.addEventListener("mousemove",Kh),t.addEventListener("mouseup",Qh),t.addEventListener("touchstart",Gh),document.body.addEventListener("touchmove",Kh),t.addEventListener("touchend",Qh)},B9=t=>{t.removeEventListener("mousedown",Gh),document.body.removeEventListener("mousemove",Kh),t.removeEventListener("mouseup",Qh),t.removeEventListener("touchstart",Gh),document.body.removeEventListener("touchmove",Kh),t.removeEventListener("touchend",Qh)},Gh=t=>{const e=We();if(!e)return;const n=dl();if(t.target===e||n&&n.contains(t.target)){sv=!0;const r=uS(t);oS=r.clientX,aS=r.clientY,lS=parseInt(e.style.insetInlineStart)||0,cS=parseInt(e.style.insetBlockStart)||0,He(e,"swal2-dragging")}},Kh=t=>{const e=We();if(e&&sv){let{clientX:n,clientY:r}=uS(t);const s=n-oS;e.style.insetInlineStart=`${lS+(ve.isRTL?-s:s)}px`,e.style.insetBlockStart=`${cS+(r-aS)}px`}},Qh=()=>{const t=We();sv=!1,rr(t,"swal2-dragging")},uS=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},z9=(t,e)=>{const n=_n(),r=We();if(!(!n||!r)){if(e.toast){mo(n,"width",e.width),r.style.width="100%";const s=fl();s&&r.insertBefore(s,dl())}else mo(r,"width",e.width);mo(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),dn(Mf()),$9(r,e),e.draggable&&!e.toast?(He(r,Q.draggable),U9(r)):(rr(r,Q.draggable),B9(r))}},$9=(t,e)=>{const n=e.showClass||{};t.className=`${Q.popup} ${Pn(t)?n.popup:""}`,e.toast?(He([document.documentElement,document.body],Q["toast-shown"]),He(t,Q.toast)):He(t,Q.modal),Un(t,e,"popup"),typeof e.customClass=="string"&&He(t,e.customClass),e.icon&&He(t,Q[`icon-${e.icon}`])},H9=(t,e)=>{const n=Y0();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){dn(n);return}Ut(n),n.textContent="",s>=r.length&&wn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const u=W9(a);if(n.appendChild(u),l===s&&He(u,Q["active-progress-step"]),l!==r.length-1){const f=q9(e);n.appendChild(f)}})},W9=t=>{const e=document.createElement("li");return He(e,Q["progress-step"]),zn(e,t),e},q9=t=>{const e=document.createElement("li");return He(e,Q["progress-step-line"]),t.progressStepsDistance&&mo(e,"width",t.progressStepsDistance),e},G9=(t,e)=>{const n=JI();n&&(ev(n),ku(n,!!(e.title||e.titleText),"block"),e.title&&nv(e.title,n),e.titleText&&(n.innerText=e.titleText),Un(n,e,"title"))},dS=(t,e)=>{var n;z9(t,e),E9(t,e),H9(t,e),M9(t,e),F9(t,e),G9(t,e),b9(t,e),D9(t,e),w9(t,e),j9(t,e);const r=We();typeof e.didRender=="function"&&r&&e.didRender(r),(n=ve.eventEmitter)===null||n===void 0||n.emit("didRender",r)},K9=()=>Pn(We()),hS=()=>{var t;return(t=Yr())===null||t===void 0?void 0:t.click()},Q9=()=>{var t;return(t=No())===null||t===void 0?void 0:t.click()},Y9=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.click()},pl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),fS=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const e=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",e,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},X9=(t,e,n)=>{if(fS(t),!e.toast){const r=a=>Z9(e,a,n);t.keydownHandler=r;const s=e.keydownListenerCapture?window:We();if(s){t.keydownTarget=s,t.keydownListenerCapture=e.keydownListenerCapture;const a=r;t.keydownTarget.addEventListener("keydown",a,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},ey=(t,e)=>{var n;const r=J0();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=We())===null||n===void 0||n.focus()},pS=["ArrowRight","ArrowDown"],J9=["ArrowLeft","ArrowUp"],Z9=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?ez(e,t):e.key==="Tab"?tz(e):[...pS,...J9].includes(e.key)?nz(e.key):e.key==="Escape"&&rz(e,t,n)))},ez=(t,e)=>{if(!jf(e.allowEnterKey))return;const n=We();if(!n||!e.input)return;const r=Vf(n,e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;hS(),t.preventDefault()}},tz=t=>{const e=t.target,n=J0();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?ey(r,-1):ey(r,1),t.stopPropagation(),t.preventDefault()},nz=t=>{const e=Tu(),n=Yr(),r=No(),s=hl();if(!e||!n||!r||!s)return;const a=[n,r,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=pS.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let f=0;f<e.children.length;f++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&Pn(u))break}u instanceof HTMLButtonElement&&u.focus()}},rz=(t,e,n)=>{t.preventDefault(),jf(e.allowEscapeKey)&&n(pl.esc)};var Za={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const sz=()=>{const t=_n();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},mS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},gS=typeof window<"u"&&!!window.GestureEvent,iz=()=>{if(gS&&!ws(document.body,Q.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,He(document.body,Q.iosfix),oz()}},oz=()=>{const t=_n();if(!t)return;let e;t.ontouchstart=n=>{e=az(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},az=t=>{const e=t.target,n=_n(),r=Q0();return!n||!r||lz(t)||cz(t)?!1:e===n||!Zg(n)&&e instanceof HTMLElement&&!a9(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Zg(r)&&r.contains(e))},lz=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),cz=t=>t.touches&&t.touches.length>1,uz=()=>{if(ws(document.body,Q.iosfix)){const t=parseInt(document.body.style.top,10);rr(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},dz=()=>{const t=document.createElement("div");t.className=Q["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let $a=null;const hz=t=>{$a===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&($a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${$a+dz()}px`)},fz=()=>{$a!==null&&(document.body.style.paddingRight=`${$a}px`,$a=null)};function yS(t,e,n,r){Lf()?$1(t,r):(XB(n).then(()=>$1(t,r)),fS(ve)),gS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Z0()&&(fz(),uz(),mS()),pz()}function pz(){rr([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function ci(t){t=gz(t);const e=Za.swalPromiseResolve.get(this),n=mz(this);this.isAwaitingPromise?t.isDismissed||(Su(this),e(t)):n&&e(t)}const mz=t=>{const e=We();if(!e)return!1;const n=et.innerParams.get(t);if(!n||ws(e,n.hideClass.popup))return!1;rr(e,n.showClass.popup),He(e,n.hideClass.popup);const r=_n();return rr(r,n.showClass.backdrop),He(r,n.hideClass.backdrop),yz(t,e,n),!0};function vS(t){const e=Za.swalPromiseReject.get(this);Su(this),e&&e(t)}const Su=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,et.innerParams.get(t)||t._destroy())},gz=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),yz=(t,e,n)=>{var r;const s=_n(),a=rS(e);typeof n.willClose=="function"&&n.willClose(e),(r=ve.eventEmitter)===null||r===void 0||r.emit("willClose",e),a&&s?vz(t,e,s,!!n.returnFocus,n.didClose):s&&yS(t,s,!!n.returnFocus,n.didClose)},vz=(t,e,n,r,s)=>{ve.swalCloseEventFinishedCallback=yS.bind(null,t,n,r,s);const a=function(l){if(l.target===e){var u;(u=ve.swalCloseEventFinishedCallback)===null||u===void 0||u.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},$1=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ve.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},el=t=>{let e=We();if(e||new Ha,e=We(),!e)return;const n=fl();Lf()?dn(dl()):wz(e,t),Ut(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},wz=(t,e)=>{const n=Tu(),r=fl();!n||!r||(!e&&Pn(Yr())&&(e=Yr()),Ut(n),e&&(dn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),He([t,n],Q.loading))},_z=(t,e)=>{e.input==="select"||e.input==="radio"?kz(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(G0(e.inputValue)||K0(e.inputValue))&&(el(Yr()),Iz(t,e))},xz=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return bz(n);case"radio":return Ez(n);case"file":return Tz(n);default:return e.inputAutoTrim?n.value.trim():n.value}},bz=t=>t.checked?1:0,Ez=t=>t.checked?t.value:null,Tz=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,kz=(t,e)=>{const n=We();if(!n)return;const r=s=>{e.input==="select"?Sz(n,Yh(s),e):e.input==="radio"&&Cz(n,Yh(s),e)};G0(e.inputOptions)||K0(e.inputOptions)?(el(Yr()),bu(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ro(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Iz=(t,e)=>{const n=t.getInput();n&&(dn(n),bu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Ut(n),n.focus(),t.hideLoading()}).catch(r=>{Ro(`Error in inputValue promise: ${r}`),n.value="",Ut(n),n.focus(),t.hideLoading()}))};function Sz(t,e,n){const r=li(t,Q.select);if(!r)return;const s=(a,l,u)=>{const f=document.createElement("option");f.value=u,zn(f,l),f.selected=wS(u,n.inputValue),a.appendChild(f)};e.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const f=document.createElement("optgroup");f.label=l,f.disabled=!1,r.appendChild(f),u.forEach(m=>s(f,m[1],m[0]))}else s(r,u,l)}),r.focus()}function Cz(t,e,n){const r=li(t,Q.radio);if(!r)return;e.forEach(a=>{const l=a[0],u=a[1],f=document.createElement("input"),m=document.createElement("label");f.type="radio",f.name=Q.radio,f.value=l,wS(l,n.inputValue)&&(f.checked=!0);const y=document.createElement("span");zn(y,u),y.className=Q.label,m.appendChild(f),m.appendChild(y),r.appendChild(m)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Yh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=Yh(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Yh(r)),e.push([n,r])}),e},wS=(t,e)=>!!e&&e!==null&&e!==void 0&&e.toString()===t.toString(),Az=t=>{const e=et.innerParams.get(t);t.disableButtons(),e.input?_S(t,"confirm"):ov(t,!0)},Pz=t=>{const e=et.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?_S(t,"deny"):iv(t,!1)},Rz=(t,e)=>{t.disableButtons(),e(pl.cancel)},_S=(t,e)=>{const n=et.innerParams.get(t);if(!n.input){Ro(`The "input" parameter is needed to be set when using returnInputValueOn${q0(e)}`);return}const r=t.getInput(),s=xz(t,n);n.inputValidator?Nz(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?iv(t,s):ov(t,s)},Nz=(t,e,n)=>{const r=et.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>bu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?iv(t,e):ov(t,e)})},iv=(t,e)=>{const n=et.innerParams.get(t);n.showLoaderOnDeny&&el(No()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>bu(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),Su(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>xS(t,s))):t.close({isDenied:!0,value:e})},H1=(t,e)=>{t.close({isConfirmed:!0,value:e})},xS=(t,e)=>{t.rejectPromise(e)},ov=(t,e)=>{const n=et.innerParams.get(t);n.showLoaderOnConfirm&&el(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>bu(n.preConfirm(e,n.validationMessage))).then(s=>{Pn(Mf())||s===!1?(t.hideLoading(),Su(t)):H1(t,typeof s>"u"?e:s)}).catch(s=>xS(t,s))):H1(t,e)};function Xh(){const t=et.innerParams.get(this);if(!t)return;const e=et.domCache.get(this);dn(e.loader),Lf()?t.icon&&Ut(dl()):Dz(e),rr([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Dz=t=>{const e=t.loader.getAttribute("data-button-to-replace"),n=e?t.popup.getElementsByClassName(e):[];n.length?Ut(n[0],"inline-block"):o9()&&dn(t.actions)};function bS(){const t=et.innerParams.get(this),e=et.domCache.get(this);return e?Vf(e.popup,t.input):null}function ES(t,e,n){const r=et.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function TS(t,e){const n=We();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Q.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function kS(){ES(this,["confirmButton","denyButton","cancelButton"],!1)}function IS(){ES(this,["confirmButton","denyButton","cancelButton"],!0)}function SS(){TS(this.getInput(),!1)}function CS(){TS(this.getInput(),!0)}function AS(t){const e=et.domCache.get(this),n=et.innerParams.get(this);zn(e.validationMessage,t),e.validationMessage.className=Q["validation-message"],n.customClass&&n.customClass.validationMessage&&He(e.validationMessage,n.customClass.validationMessage),Ut(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Q["validation-message"]),tS(r),He(r,Q.inputerror))}function PS(){const t=et.domCache.get(this);t.validationMessage&&dn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),rr(e,Q.inputerror))}const ui={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},jz=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Mz={allowEnterKey:void 0},Oz=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],RS=t=>Object.prototype.hasOwnProperty.call(ui,t),NS=t=>jz.indexOf(t)!==-1,DS=t=>Mz[t],Lz=t=>{RS(t)||wn(`Unknown parameter "${t}"`)},Vz=t=>{Oz.includes(t)&&wn(`The parameter "${t}" is incompatible with toasts`)},Fz=t=>{const e=DS(t);e&&XI(t,e)},jS=t=>{t.backdrop===!1&&t.allowOutsideClick&&wn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&wn(`Invalid theme "${t.theme}"`);for(const e in t)Lz(e),t.toast&&Vz(e),Fz(e)};function MS(t){const e=_n(),n=We(),r=et.innerParams.get(this);if(!n||ws(n,r.hideClass.popup)){wn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=Uz(t),a=Object.assign({},r,s);jS(a),e&&(e.dataset.swal2Theme=a.theme),dS(this,a),et.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Uz=t=>{const e={};return Object.keys(t).forEach(n=>{if(NS(n)){const r=t;e[n]=r[n]}else wn(`Invalid parameter to update: ${n}`)}),e};function OS(){var t;const e=et.domCache.get(this),n=et.innerParams.get(this);if(!n){LS(this);return}e.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),(t=ve.eventEmitter)===null||t===void 0||t.emit("didDestroy"),Bz(this)}const Bz=t=>{LS(t),delete t.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},LS=t=>{t.isAwaitingPromise?(Jm(et,t),t.isAwaitingPromise=!0):(Jm(Za,t),Jm(et,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Jm=(t,e)=>{for(const n in t)t[n].delete(e)};var zz=Object.freeze({__proto__:null,_destroy:OS,close:ci,closeModal:ci,closePopup:ci,closeToast:ci,disableButtons:IS,disableInput:CS,disableLoading:Xh,enableButtons:kS,enableInput:SS,getInput:bS,handleAwaitingPromise:Su,hideLoading:Xh,rejectPromise:vS,resetValidationMessage:PS,showValidationMessage:AS,update:MS});const $z=(t,e,n)=>{t.toast?Hz(t,e,n):(qz(e),Gz(e),Kz(t,e,n))},Hz=(t,e,n)=>{e.popup.onclick=()=>{t&&(Wz(t)||t.timer||t.input)||n(pl.close)}},Wz=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Jh=!1;const qz=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Jh=!0)}}},Gz=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Jh=!0)}}},Kz=(t,e,n)=>{e.container.onclick=r=>{if(Jh){Jh=!1;return}r.target===e.container&&jf(t.allowOutsideClick)&&n(pl.backdrop)}},Qz=t=>typeof t=="object"&&t.jquery,W1=t=>t instanceof Element||Qz(t),Yz=t=>{const e={};return typeof t[0]=="object"&&!W1(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||W1(s)?e[n]=s:s!==void 0&&Ro(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function Xz(...t){return new this(...t)}function Jz(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const Zz=()=>ve.timeout&&ve.timeout.getTimerLeft(),VS=()=>{if(ve.timeout)return l9(),ve.timeout.stop()},FS=()=>{if(ve.timeout){const t=ve.timeout.start();return tv(t),t}},e$=()=>{const t=ve.timeout;return t&&(t.running?VS():FS())},t$=t=>{if(ve.timeout){const e=ve.timeout.increase(t);return tv(e,!0),e}},n$=()=>!!(ve.timeout&&ve.timeout.isRunning());let q1=!1;const ty={};function r$(t="data-swal-template"){ty[t]=this,q1||(document.body.addEventListener("click",s$),q1=!0)}const s$=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in ty){const r=e.getAttribute&&e.getAttribute(n);if(r){ty[n].fire({template:r});return}}};class i${constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new i$;const o$=(t,e)=>{ve.eventEmitter&&ve.eventEmitter.on(t,e)},a$=(t,e)=>{ve.eventEmitter&&ve.eventEmitter.once(t,e)},l$=(t,e)=>{if(ve.eventEmitter){if(!t){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(t,e):ve.eventEmitter.removeAllListeners(t)}};var c$=Object.freeze({__proto__:null,argsToParams:Yz,bindClickHandler:r$,clickCancel:Y9,clickConfirm:hS,clickDeny:Q9,enableLoading:el,fire:Xz,getActions:Tu,getCancelButton:hl,getCloseButton:X0,getConfirmButton:Yr,getContainer:_n,getDenyButton:No,getFocusableElements:J0,getFooter:eS,getHtmlContainer:Q0,getIcon:dl,getIconContent:t9,getImage:ZI,getInputLabel:n9,getLoader:fl,getPopup:We,getProgressSteps:Y0,getTimerLeft:Zz,getTimerProgressBar:Of,getTitle:JI,getValidationMessage:Mf,increaseTimer:t$,isDeprecatedParameter:DS,isLoading:s9,isTimerRunning:n$,isUpdatableParameter:NS,isValidParameter:RS,isVisible:K9,mixin:Jz,off:l$,on:o$,once:a$,resumeTimer:FS,showLoading:el,stopTimer:VS,toggleTimer:e$});class u${constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const US=["swal-title","swal-html","swal-footer"],d$=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return w$(n),Object.assign(h$(n),f$(n),p$(n),m$(n),g$(n),y$(n),v$(n,US))},h$=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{To(r,["name","value"]);const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(s in ui&&typeof ui[s]=="boolean"?e[s]=a!=="false":s in ui&&typeof ui[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},f$=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},p$=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{To(r,["type","color","aria-label"]);const s=r.getAttribute("type");if(!(!s||!["confirm","cancel","deny"].includes(s))){if(e[`${s}ButtonText`]=r.innerHTML,e[`show${q0(s)}Button`]=!0,r.hasAttribute("color")){const a=r.getAttribute("color");a!==null&&(e[`${s}ButtonColor`]=a)}if(r.hasAttribute("aria-label")){const a=r.getAttribute("aria-label");a!==null&&(e[`${s}ButtonAriaLabel`]=a)}}}),e},m$=t=>{const e={},n=t.querySelector("swal-image");return n&&(To(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},g$=t=>{const e={},n=t.querySelector("swal-icon");return n&&(To(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},y$=t=>{const e={},n=t.querySelector("swal-input");n&&(To(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{To(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},v$=(t,e)=>{const n={};for(const r in e){const s=e[r],a=t.querySelector(s);a&&(To(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},w$=t=>{const e=US.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||wn(`Unrecognized element <${r}>`)})},To=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&wn([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},BS=10,_$=t=>{var e,n;const r=_n(),s=We();if(!r||!s)return;typeof t.willOpen=="function"&&t.willOpen(s),(e=ve.eventEmitter)===null||e===void 0||e.emit("willOpen",s);const l=window.getComputedStyle(document.body).overflowY;if(E$(r,s,t),setTimeout(()=>{x$(r,s)},BS),Z0()&&(b$(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,l),sz()),!Lf()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const u=t.didOpen;setTimeout(()=>u(s))}(n=ve.eventEmitter)===null||n===void 0||n.emit("didOpen",s)},Zh=t=>{const e=We();if(!e||t.target!==e)return;const n=_n();n&&(e.removeEventListener("animationend",Zh),e.removeEventListener("transitionend",Zh),n.style.overflowY="auto",rr(n,Q["no-transition"]))},x$=(t,e)=>{rS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Zh),e.addEventListener("transitionend",Zh)):t.style.overflowY="auto"},b$=(t,e,n)=>{iz(),e&&n!=="hidden"&&hz(n),setTimeout(()=>{t.scrollTop=0})},E$=(t,e,n)=>{var r;(r=n.showClass)!==null&&r!==void 0&&r.backdrop&&He(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Ut(e,"grid"),setTimeout(()=>{var s;(s=n.showClass)!==null&&s!==void 0&&s.popup&&He(e,n.showClass.popup),e.style.removeProperty("opacity")},BS)):Ut(e,"grid"),He([document.documentElement,document.body],Q.shown),n.heightAuto&&n.backdrop&&!n.toast&&He([document.documentElement,document.body],Q["height-auto"])};var G1={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function T$(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=G1.email),t.input==="url"&&(t.inputValidator=G1.url))}function k$(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(wn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function I$(t){T$(t),t.showLoaderOnConfirm&&!t.preConfirm&&wn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),k$(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),g9(t)}let Fr;var nh=new WeakMap;class wt{constructor(...e){if(GB(this,nh,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Fr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,KB(nh,this,this._main(Fr.params))}_main(e,n={}){if(jS(Object.assign({},n,e)),ve.currentInstance){const a=Za.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:l}=ve.currentInstance;ve.currentInstance._destroy(),l||a({isDismissed:!0}),Z0()&&mS()}ve.currentInstance=Fr;const r=C$(e,n);I$(r),Object.freeze(r),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const s=A$(Fr);return dS(Fr,r),et.innerParams.set(Fr,r),S$(Fr,s,r)}then(e){return L1(nh,this).then(e)}finally(e){return L1(nh,this).finally(e)}}const S$=(t,e,n)=>new Promise((r,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Za.swalPromiseResolve.set(t,r),Za.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{Az(t)},e.denyButton.onclick=()=>{Pz(t)},e.cancelButton.onclick=()=>{Rz(t,a)},e.closeButton.onclick=()=>{a(pl.close)},$z(n,e,a),X9(ve,n,a),_z(t,n),_$(n),P$(ve,n,a),R$(e,n),setTimeout(()=>{e.container.scrollTop=0})}),C$=(t,e)=>{const n=d$(t),r=Object.assign({},ui,e,n,t);return r.showClass=Object.assign({},ui.showClass,r.showClass),r.hideClass=Object.assign({},ui.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},A$=t=>{const e={popup:We(),container:_n(),actions:Tu(),confirmButton:Yr(),denyButton:No(),cancelButton:hl(),loader:fl(),closeButton:X0(),validationMessage:Mf(),progressSteps:Y0()};return et.domCache.set(t,e),e},P$=(t,e,n)=>{const r=Of();dn(r),e.timer&&(t.timeout=new u$(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&r&&(Ut(r),Un(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&tv(e.timer)})))},R$=(t,e)=>{if(!e.toast){if(!jf(e.allowEnterKey)){XI("allowEnterKey"),j$();return}N$(t)||D$(t,e)||ey(-1,1)}},N$=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Pn(n))return n.focus(),!0;return!1},D$=(t,e)=>e.focusDeny&&Pn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Pn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Pn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,j$=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};wt.prototype.disableButtons=IS;wt.prototype.enableButtons=kS;wt.prototype.getInput=bS;wt.prototype.disableInput=CS;wt.prototype.enableInput=SS;wt.prototype.hideLoading=Xh;wt.prototype.disableLoading=Xh;wt.prototype.showValidationMessage=AS;wt.prototype.resetValidationMessage=PS;wt.prototype.close=ci;wt.prototype.closePopup=ci;wt.prototype.closeModal=ci;wt.prototype.closeToast=ci;wt.prototype.rejectPromise=vS;wt.prototype.update=MS;wt.prototype._destroy=OS;Object.assign(wt,c$);Object.keys(zz).forEach(t=>{wt[t]=function(...e){if(Fr&&Fr[t])return Fr[t](...e)}});wt.DismissReason=pl;wt.version="11.26.17";const Ha=wt;Ha.default=Ha;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const M$=(t,e,n)=>`
    <!DOCTYPE html>
    <html lang="es">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #F8FAFC; margin: 0; padding: 0; -webkit-font-smoothing: antialiased; }
        .container { max-width: 600px; margin: 20px auto; background: #ffffff; border-radius: 40px; overflow: hidden; border: 1px solid #E2E8F0; }
        .header { background-color: #007BFF; padding: 40px; text-align: center; }
        .content { padding: 40px; color: #1E293B; }
        h1 { font-size: 24px; font-weight: 900; color: #ffffff; margin: 0; text-transform: uppercase; letter-spacing: -1px; }
        h2 { font-size: 20px; font-weight: 900; color: #0F172A; margin-top: 0; }
        p { color: #64748B; line-height: 1.6; font-size: 15px; }
        .plan-card { background-color: #F1F5F9; border-radius: 24px; padding: 25px; margin: 25px 0; border: 1px solid #E2E8F0; }
        .plan-label { color: #007BFF; font-weight: 900; font-size: 10px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 5px; }
        .plan-title { font-size: 24px; font-weight: 900; color: #0F172A; }
        .button-container { text-align: center; margin-top: 30px; }
        .button { background-color: #007BFF; color: #ffffff !important; padding: 18px 35px; border-radius: 18px; text-decoration: none; font-weight: 900; display: inline-block; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
        .footer { padding: 30px; text-align: center; background-color: #F8FAFC; font-size: 10px; color: #94A3B8; text-transform: uppercase; letter-spacing: 2px; }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1>VitaMetra PRO</h1>
        </div>
        <div class="content">
          <h2>Excelente decisin, ${t}!</h2>
          <p>Tu acceso al nivel de inteligencia metablica avanzada ha sido activado con xito. Ya puedes comenzar a utilizar todas las funciones premium de la plataforma.</p>
          
          <div class="plan-card">
            <div class="plan-label">Suscripcin Activa</div>
            <div class="plan-title">${e}</div>
            <p style="margin: 8px 0 0 0; font-size: 11px; font-weight: bold; color: #94A3B8;">ID DE PAGO: #${n}</p>
          </div>

          <p>Hemos desbloqueado para ti el anlisis ilimitado, la proyeccin de HbA1c y los reportes detallados para tu mdico.</p>
          
          <div class="button-container">
            <a href="https://vitametras.com/analyzer" class="button">Ir al Analizador</a>
          </div>
        </div>
        <div class="footer">
           2026 VitaMetra Health Intelligence  Acceso Seguro
        </div>
      </div>
    </body>
    </html>
  `,O$=[{id:"monthly",title:"Plan Mensual",priceCLP:6990,features:["IA Metablica (5/sem)","Historial Bsico"],color:"slate"},{id:"quarterly",title:"Plan Trimestral",priceCLP:18990,features:["IA Ilimitada","Reportes PDF IA","HbA1c Proyectada"],isPopular:!0,color:"blue"},{id:"annual",title:"Vitalicio Anual",priceCLP:69900,features:["Todo PRO","Vnculo Mdico","Dashboard Senior"],color:"slate"}],L$=({currentUser:t,onUpdateUser:e})=>{const n=nu(),[r,s]=V.useState(null),[a,l]=V.useState(!1),u=V.useRef(null);return V.useEffect(()=>!r||!window.MercadoPago?void 0:((async()=>{const m=document.getElementById("paymentBrick_container");m&&(m.innerHTML="");const _=new window.MercadoPago("APP_USR-5085620590656834-010519-75f9c2645782ba627abd3c72de22fe8a-3113708019",{locale:"es-CL"}).bricks();try{u.current=await _.create("payment","paymentBrick_container",{initialization:{amount:r.priceCLP,payer:{email:t?.email||""}},customization:{paymentMethods:{creditCard:"all",debitCard:"all",googlePay:"off",applePay:"off"},visual:{style:{theme:"default",customVariables:{borderRadiusLarge:"24px",colorPrimary:"#007BFF"}},hideStatusDetails:!0,hidePaymentButton:!1}},callbacks:{onReady:()=>console.log("VitaMetra Checkout Ready"),onSubmit:async({formData:b})=>{l(!0);try{const T=BI(),C=(await ZU(T,"processPayment")({token:b.token,issuer_id:b.issuer_id,payment_method_id:b.payment_method_id,installments:b.installments,planId:r.id})).data;if(C.status==="approved"){try{const z=M$(t.firstName||"Usuario",r.title,C.id||"N/A");await Nf(Xc(rn,"mail"),{to:t.email,message:{subject:" Acceso Concedido: VitaMetra PRO!",html:z}})}catch(z){console.error("Error al registrar orden de correo:",z)}await Ha.fire({title:"SUSCRIPCIN ACTIVA!",text:"Ahora eres miembro PRO de VitaMetra. Revisa tu correo.",icon:"success",confirmButtonColor:"#007BFF",customClass:{popup:"rounded-[2.5rem]"}}),e&&e({...t,subscription_tier:"PRO"}),n("/analyzer")}else Ha.fire("Atencin",`Estado del pago: ${C.status}`,"info")}catch(T){console.error("Error procesando pago:",T),Ha.fire("Error","Hubo un problema procesando la tarjeta.","error")}finally{l(!1)}},onError:b=>{console.error("Brick Error:",b),l(!1)}}})}catch(b){console.error("Error Bricks:",b)}})(),()=>{u.current&&(u.current.unmount(),u.current=null)}),[r,t,n,e]),p.jsx("div",{className:"max-w-6xl mx-auto py-10 px-4 animate-fade-in",children:r?p.jsx("div",{className:"max-w-md mx-auto animate-in zoom-in-95 duration-300",children:p.jsxs("div",{className:"bg-white rounded-[3.5rem] p-10 shadow-2xl relative border border-slate-100 overflow-hidden",children:[a&&p.jsxs("div",{className:"absolute inset-0 z-[60] bg-white/95 flex flex-col items-center justify-center backdrop-blur-md",children:[p.jsx("div",{className:"w-12 h-12 border-4 border-slate-100 border-t-[#007BFF] rounded-full animate-spin mb-4"}),p.jsx("p",{className:"font-black text-slate-900 uppercase text-[10px] tracking-[0.2em]",children:"Cifrando Pago Seguro..."})]}),p.jsxs("div",{className:"flex justify-between items-start mb-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Pago Seguro"}),p.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tighter",children:"Suscripcin"})]}),p.jsx("button",{onClick:()=>s(null),className:"p-3 bg-slate-50 rounded-2xl text-slate-400 hover:text-red-500 transition-all",children:p.jsx(cf,{size:20})})]}),p.jsxs("div",{className:"bg-slate-50 rounded-3xl p-5 mb-8 flex justify-between items-center border border-slate-100",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-[#007BFF]",children:p.jsx(rl,{size:20})}),p.jsx("span",{className:"font-black text-slate-700 uppercase text-xs",children:r.title})]}),p.jsxs("span",{className:"font-black text-slate-900",children:["$",r.priceCLP.toLocaleString("es-CL")]})]}),p.jsx("div",{id:"paymentBrick_container",className:"min-h-[300px]"}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-50 flex flex-col items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[p.jsx(h2,{size:16}),p.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"SSL Secure Checkout"})]}),p.jsxs("div",{className:"flex items-center gap-4 opacity-40 grayscale",children:[p.jsx("img",{src:"https://logospng.org/wp-content/uploads/mercado-pago.png",className:"h-4",alt:"MP"}),p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg",className:"h-3",alt:"Visa"})]})]})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-black text-slate-900 tracking-tighter uppercase mb-4",children:"Planes de Bio-Inteligencia"}),p.jsx("div",{className:"w-16 h-1 bg-[#007BFF] mx-auto rounded-full mb-4"}),p.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-[0.3em]",children:"Mejora tu control metablico hoy"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:O$.map(f=>p.jsxs("div",{className:`bg-white rounded-[3rem] p-10 border transition-all flex flex-col relative group ${f.isPopular?"border-[#007BFF] shadow-2xl scale-105 z-10":"border-slate-100 hover:border-blue-100"}`,children:[f.isPopular&&p.jsx("div",{className:"absolute top-0 right-10 bg-[#007BFF] text-white px-4 py-1.5 rounded-b-2xl text-[9px] font-black uppercase tracking-widest",children:"Recomendado"}),p.jsx("h3",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mb-2",children:f.title}),p.jsxs("div",{className:"flex items-baseline gap-1 mb-8",children:[p.jsxs("span",{className:"text-4xl font-black text-slate-900",children:["$",f.priceCLP.toLocaleString("es-CL")]}),p.jsx("span",{className:"text-slate-300 font-bold text-xs",children:"CLP"})]}),p.jsx("ul",{className:"space-y-4 mb-10 flex-grow",children:f.features.map((m,y)=>p.jsxs("li",{className:"flex items-center gap-3 text-[11px] font-bold text-slate-600 uppercase tracking-tight",children:[p.jsx("div",{className:`p-1 rounded-full ${f.isPopular?"bg-blue-50 text-[#007BFF]":"bg-slate-50 text-slate-400"}`,children:p.jsx(uj,{size:12,strokeWidth:4})}),m]},y))}),p.jsx("button",{onClick:()=>s(f),className:`w-full py-5 rounded-2xl font-black transition-all uppercase text-[10px] tracking-[0.2em] shadow-lg ${f.isPopular?"bg-[#007BFF] text-white shadow-blue-500/20 hover:bg-blue-600":"bg-slate-900 text-white hover:bg-slate-800"}`,children:"Seleccionar Plan"})]},f.id))})]})})},K1="v4.6-BIO-PRECISION-2026",V$={async findHistoricalImpact(t,e){const n=(t||"").toLowerCase().trim();if(!n||!Array.isArray(e)||e.length===0)return{trendMsg:"",adjustment:0};const r=n.split(/\s+/).filter(l=>l.length>3),s=e.filter(l=>{const u=(l?.foodName||"").toLowerCase();return r.some(f=>u.includes(f))&&typeof l?.glucosePost2h=="number"}).slice(0,5);if(s.length===0)return{trendMsg:"Nuevo patrn detectado. Iniciando aprendizaje.",adjustment:0};const a=s.reduce((l,u)=>l+(u.glucosePost2h||0),0)/s.length;return a>180?{trendMsg:`Alerta: Comidas similares te han dejado alto (${Math.round(a)} mg/dL). Aplicando correccin preventiva.`,adjustment:.15}:{trendMsg:"Tu metabolismo procesa bien estos alimentos.",adjustment:0}},async processMetabolicInference(t,e,n,r=100){const s=performance.now();try{const a=await W0(t,n,e),{trendMsg:l,adjustment:u}=await this.findHistoricalImpact(t,e),f=100,m=n.clinicalConfig?.isf||50,_=(n.clinicalConfig?.insulinToCarbRatio||10)*(1-u),b=a.totalCarbs/(_||10);let T=0;r>f&&(T=(r-f)/m);const I=b+T,N={suggestedCarbs:a.totalCarbs,suggestedInsulin:parseFloat(I.toFixed(1)),correlationFactor:u,algorithmVersion:K1,glycemicImpact:a.glycemicIndex||"medio",trendInsight:l,inferenceLogs:`ISF:${m} | Ratio:${_.toFixed(1)} | Corr:${T.toFixed(1)}`};return this.logInferencePerformance(t,a,u,s),{...a,prediction:N}}catch(a){throw console.error("MetraCore Critical Failure:",a),new Error("Fallo en la inferencia. Intenta de nuevo.")}},async analyzeMeal(t,e){const n=await this.processMetabolicInference(t,[],e);return{carbs:n.prediction?.suggestedCarbs||n.totalCarbs,suggestedInsulin:n.prediction?.suggestedInsulin||0,...n}},async logInferencePerformance(t,e,n,r){try{await Nf(Xc(rn,"anonymous_training_logs"),{algo:K1,input_len:t.length,carbs:e.totalCarbs,adj:n,ms:Math.round(performance.now()-r),timestamp:L0()})}catch{}}},F$=({currentUser:t,onAnalysisComplete:e})=>{const[n,r]=V.useState(""),[s,a]=V.useState(!1),l=async u=>{if(u.preventDefault(),!(!n.trim()||s)){a(!0);try{const f=await V$.analyzeMeal(n,t),m={id:Date.now().toString(),timestamp:new Date().toISOString(),description:n,carbs:f.carbs,insulin:f.suggestedInsulin,type:"meal"};e(f,m),r("")}catch(f){console.error("Error analizando carbohidratos:",f),alert("La conexin con el Bio-Core fall. Intenta de nuevo.")}finally{a(!1)}}};return p.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 shadow-xl border border-slate-100 animate-in fade-in zoom-in duration-500",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"bg-metra-blue/10 p-3 rounded-2xl text-metra-blue",children:p.jsx(ej,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-[1000] text-metra-dark uppercase italic tracking-tighter",children:"Anlisis IA"}),p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Metabolic Input v3.1"})]})]}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("textarea",{value:n,onChange:u=>r(u.target.value),placeholder:"Ej: Dos tacos al pastor con pia y una coca zero...",className:"w-full h-32 p-6 bg-slate-50 border-none rounded-[2rem] font-bold text-sm text-metra-dark placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-metra-blue/10 transition-all resize-none"}),p.jsx("button",{type:"button",className:"absolute bottom-4 right-4 p-3 bg-white text-slate-400 rounded-xl shadow-sm hover:text-metra-blue transition-colors",children:p.jsx(o2,{size:20})})]}),p.jsx("button",{type:"submit",disabled:!n.trim()||s,className:"w-full bg-metra-dark text-white p-6 rounded-[2rem] font-black uppercase text-[11px] tracking-[0.2em] shadow-2xl flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30 transition-all",children:s?p.jsxs(p.Fragment,{children:[p.jsx(Lc,{className:"animate-spin",size:18}),"Procesando Bio-Data..."]}):p.jsxs(p.Fragment,{children:[p.jsx(rl,{size:18,className:"text-metra-blue"}),"Calcular Dosis Precisa"]})})]}),p.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 py-3 bg-slate-50 rounded-2xl border border-dashed border-slate-200",children:[p.jsx(Co,{size:14,className:"text-metra-blue"}),p.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"MetraCore Neural Engine Active"})]})]})},U$=({result:t,currentUser:e,onLogEntry:n,onAdjust:r})=>{const[s,a]=V.useState(0),[l,u]=V.useState(0),f=()=>{if(!e?.insulinRatioSchedule||e.insulinRatioSchedule.length===0)return 15;const y=new Date,_=`${y.getHours().toString().padStart(2,"0")}:${y.getMinutes().toString().padStart(2,"0")}`,b=[...e.insulinRatioSchedule].sort((I,N)=>I.startTime.localeCompare(N.startTime));return(b.reverse().find(I=>_>=I.startTime)||b[0]).ratio};V.useEffect(()=>{const y=f(),_=e?.clinicalConfig?.insulinSensitivityFactor||50,b=e?.clinicalConfig?.targetGlucose||100,T=t.totalCarbs/y,I=s>b?(s-b)/_:0;u(Math.round((T+I)*10)/10)},[s,t.totalCarbs,e]);const m=y=>{switch(y?.toLowerCase()){case"alto":return"text-red-500 bg-red-50 border-red-100";case"medio":return"text-amber-500 bg-amber-50 border-amber-100";default:return"text-emerald-500 bg-emerald-50 border-emerald-100"}};return p.jsxs("div",{className:"mt-8 space-y-6 animate-fade-in max-w-2xl mx-auto pb-20",children:[p.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 p-8 shadow-2xl relative overflow-hidden",children:[p.jsxs("div",{className:`absolute top-0 right-0 px-6 py-2 rounded-bl-3xl border-l border-b font-black text-[10px] uppercase tracking-widest ${m(t.glycemicIndex)}`,children:["ndice Glucmico: ",t.glycemicIndex]}),p.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mt-4",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Co,{size:16,className:"text-blue-600"}),p.jsx("span",{className:"text-[10px] font-black text-blue-600 uppercase tracking-[0.3em]",children:"Cmputo MetraCore v1"})]}),p.jsxs("h3",{className:"text-7xl font-[1000] text-slate-900 tracking-tighter",children:[t.totalCarbs,p.jsx("span",{className:"text-xl text-slate-300 font-bold ml-2 tracking-normal uppercase",children:"g CH"})]})]})})]}),p.jsxs("div",{className:"bg-blue-600 rounded-[2.5rem] p-8 text-white shadow-xl shadow-blue-200",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:p.jsx(ij,{size:20,className:"text-white"})}),p.jsx("h4",{className:"text-[11px] font-black uppercase tracking-[0.2em]",children:"Calculadora de Bolo sugerido"})]}),p.jsxs("div",{className:"text-[10px] font-bold bg-white/10 px-3 py-1 rounded-full flex items-center gap-1",children:[p.jsx(c2,{size:12})," Ratio actual: 1u / ",f(),"g"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-blue-200 block mb-2",children:"Glucemia Actual (Opcional)"}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsx("input",{type:"number",placeholder:"mg/dL",value:s||"",onChange:y=>a(Number(y.target.value)),className:"bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-2xl font-black text-white w-full outline-none focus:ring-2 ring-white/50 placeholder:text-blue-300"})})]}),p.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 text-center border border-white/10",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-blue-200 mb-1",children:"Dosis Sugerida"}),p.jsxs("div",{className:"text-5xl font-black text-white",children:[l," ",p.jsx("span",{className:"text-lg font-bold",children:"unidades"})]})]})]}),p.jsxs("div",{className:"mt-6 flex items-start gap-2 text-[10px] text-blue-100 bg-blue-700/30 p-3 rounded-xl border border-blue-500/20 leading-relaxed font-medium",children:[p.jsx(wy,{size:14,className:"flex-shrink-0"}),"Esta sugerencia se basa en tus ratios clnicos configurados. Siempre verifica con tus sntomas antes de inyectar."]})]}),p.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 opacity-10 p-4",children:p.jsx(Ti,{size:80})}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx(lM,{size:20,className:"text-blue-400"}),p.jsx("h4",{className:"text-[11px] font-black uppercase tracking-[0.2em] text-blue-400",children:"Anlisis Metablico"})]}),p.jsxs("p",{className:"text-lg font-medium leading-relaxed italic",children:['"',t.optimizationTip||"Alimento con carga glicmica moderada. Considera caminar 15 minutos despus de ingerirlo.",'"']})]})]}),p.jsxs("div",{className:"flex gap-4 pt-4",children:[p.jsx("button",{onClick:n,className:"flex-1 bg-slate-900 text-white py-5 rounded-3xl font-black text-xs uppercase tracking-[0.2em] hover:scale-[1.02] transition-all shadow-xl",children:"Guardar en Historial"}),p.jsx("button",{onClick:r,className:"bg-slate-100 text-slate-500 px-6 rounded-3xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Ajustar"})]})]})},B$=({currentUser:t})=>{const e=nu(),[n,r]=V.useState(!1),[s,a]=V.useState(""),[l,u]=V.useState([{id:"1",role:"assistant",content:"Bio-Core activo. Analizamos tu ltima ingesta?",type:"text"}]),f=V.useRef(null);V.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[l,n]);const m=y=>{if(y.preventDefault(),!s.trim())return;const _={id:Date.now().toString(),role:"user",content:s};u(b=>[...b,_]),a(""),setTimeout(()=>{const b={id:(Date.now()+1).toString(),role:"assistant",content:s.toLowerCase().includes("pro")?"Vitametra PRO desbloquea anlisis molecular avanzado.":"Sugerencia: Ingiere fibra antes de esos carbohidratos.",type:s.toLowerCase().includes("pro")?"cta":"text"};u(T=>[...T,b])},800)};return p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>r(!0),className:`fixed bottom-24 right-6 w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 z-[999] active:scale-90 ${n?"scale-0 opacity-0":"bg-metra-blue shadow-[0_0_30px_rgba(0,122,255,0.4)] hover:shadow-metra-blue/60"}`,children:[p.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white animate-ping opacity-20"}),p.jsx(Co,{className:"text-white fill-white",size:24})]}),n&&p.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-28 md:right-6 w-full md:w-[400px] h-[100dvh] md:h-[600px] bg-white/90 backdrop-blur-2xl md:rounded-[3rem] shadow-2xl flex flex-col z-[1000] border border-white/20 animate-in slide-in-from-right-10 duration-500",children:[p.jsxs("header",{className:"bg-metra-dark p-8 text-white flex justify-between items-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-metra-blue/10 animate-pulse"}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:"w-10 h-10 bg-metra-blue rounded-2xl flex items-center justify-center shadow-lg shadow-metra-blue/20",children:p.jsx(rl,{size:20,className:"text-white"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] font-black text-metra-blue uppercase tracking-widest",children:"Neural Link"}),p.jsx("h3",{className:"text-xl font-black italic tracking-tighter uppercase",children:"Bio-Assistant"})]})]}),p.jsx("button",{onClick:()=>r(!1),className:"bg-white/10 p-3 rounded-2xl relative z-10 hover:bg-white/20",children:p.jsx(cf,{size:20})})]}),p.jsx("div",{ref:f,className:"flex-1 overflow-y-auto p-6 space-y-6",children:l.map(y=>p.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-[85%] p-5 rounded-3xl text-sm font-bold ${y.role==="user"?"bg-metra-blue text-white rounded-tr-none":"bg-slate-100 text-metra-dark rounded-tl-none"}`,children:[y.content,y.type==="cta"&&p.jsxs("button",{onClick:()=>e("/plans"),className:"mt-4 w-full bg-metra-dark text-white py-4 rounded-2xl flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-widest",children:[p.jsx(vj,{size:14})," Desbloquear PRO ",p.jsx(yy,{size:14})]})]})},y.id))}),p.jsx("div",{className:"p-6 bg-white border-t border-slate-50",children:p.jsxs("form",{onSubmit:m,className:"relative",children:[p.jsx("input",{value:s,onChange:y=>a(y.target.value),placeholder:"Consulta al Bio-Core...",className:"w-full bg-slate-50 border-none rounded-2xl py-5 pl-6 pr-16 text-xs font-black uppercase tracking-widest outline-none focus:ring-2 ring-metra-blue/10"}),p.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-metra-dark text-white p-3 rounded-xl shadow-lg",children:p.jsx(Gj,{size:18})})]})})]})]})},z$=()=>{const[t,e]=V.useState(""),n=[{id:"1",name:"Ana Martnez",status:"stable",lastSync:"10 min",tir:82},{id:"2",name:"Carlos Ruz",status:"warning",lastSync:"1h",tir:64},{id:"3",name:"Elena Soler",status:"critical",lastSync:"5 min",tir:45}];return p.jsxs("div",{className:"min-h-screen bg-[#F2F2F7] pb-32 pt-10 px-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-[1000] italic uppercase tracking-tighter text-metra-dark",children:["Panel ",p.jsx("span",{className:"text-metra-blue",children:"Clnico"})]}),p.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-[0.2em]",children:"Gestin de Poblacin Diabtica"})]}),p.jsx("div",{className:"bg-white p-3 rounded-2xl shadow-sm border border-slate-100",children:p.jsx(rj,{className:"text-metra-blue",size:24})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100",children:[p.jsx(pM,{className:"text-blue-500 mb-2",size:20}),p.jsx("p",{className:"text-2xl font-black text-metra-dark",children:"1,284"}),p.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase",children:"Pacientes Activos"})]}),p.jsxs("div",{className:"bg-metra-dark p-6 rounded-[2rem] shadow-xl text-white",children:[p.jsx(Ti,{className:"text-metra-blue mb-2",size:20}),p.jsx("p",{className:"text-2xl font-black",children:"72%"}),p.jsx("p",{className:"text-[9px] font-black opacity-60 uppercase",children:"TIR Promedio Global"})]})]}),p.jsxs("div",{className:"bg-white rounded-[2.5rem] p-4 shadow-sm border border-slate-100 mb-6 flex gap-2",children:[p.jsxs("div",{className:"flex-1 bg-slate-50 rounded-2xl flex items-center px-4",children:[p.jsx(Wj,{size:18,className:"text-slate-400"}),p.jsx("input",{type:"text",placeholder:"BUSCAR PACIENTE...",className:"bg-transparent border-none w-full p-4 font-bold text-xs outline-none",value:t,onChange:r=>e(r.target.value)})]}),p.jsx("button",{className:"bg-slate-900 text-white p-4 rounded-2xl",children:p.jsx(kj,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:"Alertas Crticas"}),n.map(r=>p.jsxs("div",{className:"bg-white p-5 rounded-[2rem] shadow-sm border border-slate-100 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${r.status==="stable"?"bg-green-500":r.status==="warning"?"bg-yellow-500":"bg-red-500"} shadow-lg`}),p.jsxs("div",{children:[p.jsx("p",{className:"font-black text-metra-dark text-sm uppercase",children:r.name}),p.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:["Sync: ",r.lastSync," ago"]})]})]}),p.jsxs("div",{className:"text-right flex items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("p",{className:`text-sm font-black ${r.tir<50?"text-red-500":"text-metra-dark"}`,children:[r.tir,"%"]}),p.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"TIR"})]}),p.jsx(vy,{size:18,className:"text-slate-300"})]})]},r.id))]}),p.jsxs("button",{className:"w-full mt-8 bg-white border-2 border-slate-100 text-metra-dark p-6 rounded-[2rem] font-black uppercase text-[10px] tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-all",children:[p.jsx(_j,{size:18})," Generar Reporte Institucional"]})]})},$$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),H$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5m-15 4.5H3m18 0h-1.5m-15 4.5H3m18 0h-1.5m-15 4.5H3m18 0h-1.5M15.75 21v-1.5M8.25 21v-1.5M5.25 5.25h13.5A2.25 2.25 0 0121 7.5v9a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 16.5v-9a2.25 2.25 0 012.25-2.25zM12 9v6m-2.25-3h4.5"})}),W$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0a9 9 0 0118 0z"})}),q$=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5z"})]}),G$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),K$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.74c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})}),Q$=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12h.008v.008H12V12z"})]}),Y$=({className:t})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),Zm=({label:t,value:e,sub:n,icon:r,color:s})=>p.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col items-center text-center",children:[p.jsx("div",{className:`p-4 rounded-2xl ${s} mb-4`,children:p.jsx(r,{className:"w-8 h-8"})}),p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1",children:t}),p.jsx("h4",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:e}),p.jsx("p",{className:"text-[11px] font-bold text-slate-500 mt-2 uppercase",children:n})]}),X$=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(!0);return V.useEffect(()=>{(async()=>{const a=await on.fetchFounderMetrics();e(a),r(!1)})()},[]),n?p.jsxs("div",{className:"flex flex-col items-center justify-center py-40 gap-4",children:[p.jsx(GI,{}),p.jsx("p",{className:"text-xs font-black uppercase text-slate-400 tracking-widest",children:"Iniciando Shark Dashboard..."})]}):p.jsxs("div",{className:"max-w-7xl mx-auto pb-24 animate-fade-in space-y-10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-slate-900 p-10 rounded-[3rem] text-white",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-4xl font-black tracking-tight flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-2xl flex items-center justify-center",children:p.jsx(H$,{className:"w-7 h-7 text-white"})}),"MetraCore Control"]}),p.jsxs("p",{className:"text-brand-primary font-bold text-xs uppercase tracking-[0.3em] mt-2 flex items-center gap-2",children:[p.jsx(K$,{className:"w-4 h-4"})," Monitor de Escala Global 2025"]})]}),p.jsxs("div",{className:"bg-white/10 px-6 py-4 rounded-3xl border border-white/10 backdrop-blur-md",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-blue-300",children:"Runway Estimado"}),p.jsxs("p",{className:"text-2xl font-black",children:["24 Meses ",p.jsx("span",{className:"text-xs font-normal opacity-50",children:"@ 9k Usuarios"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsx(Zm,{label:"Viralidad (Retencin D1)",value:`${t.retentionRate}%`,sub:"Usuarios que vuelven el 2do da",icon:G$,color:"bg-emerald-50 text-emerald-600"}),p.jsx(Zm,{label:"Conversin PRO",value:`${(t.revenueStats.activeSubscriptions/10).toFixed(1)}%`,sub:"Free-to-Paid Conversion",icon:$$,color:"bg-blue-50 text-blue-600"}),p.jsx(Zm,{label:"Latencia IA",value:"1.4s",sub:"Promedio de inferencia MetraCore",icon:W$,color:"bg-amber-50 text-amber-600"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-700 uppercase tracking-widest mb-6 flex items-center gap-2",children:[p.jsx(Q$,{className:"w-5 h-5 text-brand-primary"})," Objetivos de Crecimiento"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[p.jsx("span",{className:"text-slate-400 uppercase",children:"Hito: 1,000 Usuarios (Beta Stage)"}),p.jsx("span",{className:"text-brand-primary",children:"84%"})]}),p.jsx("div",{className:"h-4 w-full bg-slate-50 rounded-full overflow-hidden border border-slate-100",children:p.jsx("div",{className:"h-full bg-brand-primary animate-pulse",style:{width:"84%"}})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-xs font-bold mb-2",children:[p.jsx("span",{className:"text-slate-400 uppercase",children:"Hito: 9,000 Usuarios (Market Fit)"}),p.jsx("span",{className:"text-slate-300",children:"12%"})]}),p.jsx("div",{className:"h-4 w-full bg-slate-50 rounded-full overflow-hidden border border-slate-100",children:p.jsx("div",{className:"h-full bg-slate-200",style:{width:"12%"}})})]})]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 p-8 rounded-[3rem] text-white shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-10 rotate-12",children:p.jsx(q$,{className:"w-48 h-48"})}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"font-black text-xs uppercase tracking-[0.3em] mb-8 text-blue-200",children:"Facturacin Recurrente (MRR)"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-5xl font-black",children:["$12,500 ",p.jsx("span",{className:"text-lg opacity-40",children:"USD"})]}),p.jsxs("p",{className:"text-sm font-medium text-blue-100",children:["Crecimiento intermensual: ",p.jsx("span",{className:"text-green-400 font-black",children:"+18%"})]})]}),p.jsxs("button",{className:"mt-10 flex items-center justify-between w-full p-4 bg-white/10 hover:bg-white/20 rounded-2xl border border-white/20 transition-all group",children:[p.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Auditar Transacciones GPay"}),p.jsx(Y$,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]})]})]})},J$=({currentUser:t,onUpdate:e})=>{const[n,r]=V.useState(t.insulinRatioSchedule||[{startTime:"08:00",ratio:12}]),[s,a]=V.useState(t.clinicalConfig?.insulinSensitivityFactor||50),[l,u]=V.useState(!1),[f,m]=V.useState(!1),y=async()=>{u(!0);try{const T={...t,insulinRatioSchedule:n,clinicalConfig:{...t.clinicalConfig,insulinSensitivityFactor:s}};await on.updateUser(T),e(T),m(!0),setTimeout(()=>m(!1),3e3)}catch(T){console.error("Error en calibracin de parmetros clnicos:",T)}finally{u(!1)}},_=()=>{r([...n,{startTime:"12:00",ratio:10}])},b=T=>{r(n.filter((I,N)=>N!==T))};return p.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-[2.5rem] border border-slate-100 shadow-xl mb-10",children:[p.jsxs("header",{className:"mb-10 border-b border-slate-50 pb-6 text-left",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:p.jsx(Ti,{size:22})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Parmetros de Calibracin"})]}),p.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed",children:"Gestin tcnica de factores de sensibilidad y ratios de correccin para el clculo de bolos de insulina segn algoritmos metablicos."})]}),p.jsxs("section",{className:"mb-10",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h3",{className:"text-[11px] font-black uppercase tracking-[0.15em] text-slate-400 flex items-center gap-2",children:[p.jsx(lf,{size:14})," Horarios de Ratio Insulina:Carbohidratos (I:C)"]}),p.jsxs("button",{onClick:_,className:"text-xs font-bold text-blue-600 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[p.jsx(u2,{size:14})," Aadir Segmento"]})]}),p.jsx("div",{className:"space-y-3",children:n.map((T,I)=>p.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100 transition-all hover:border-slate-200",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Inicio bloque"}),p.jsx("input",{type:"time",value:T.startTime,onChange:N=>{const C=[...n];C[I].startTime=N.target.value,r(C)},className:"bg-transparent font-bold text-slate-700 outline-none w-full"})]}),p.jsxs("div",{className:"flex-1 border-l border-slate-200 pl-4",children:[p.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Ratio (g/U)"}),p.jsx("input",{type:"number",value:T.ratio,onChange:N=>{const C=[...n];C[I].ratio=parseFloat(N.target.value),r(C)},className:"bg-transparent font-bold text-slate-700 outline-none w-full"})]}),p.jsx("button",{onClick:()=>b(I),className:"text-slate-300 hover:text-red-500 transition-colors p-2",children:p.jsx(oM,{size:18})})]},I))})]}),p.jsxs("section",{className:"mb-10 p-6 bg-slate-900 rounded-3xl text-white relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:p.jsx(c2,{size:80})}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("h3",{className:"text-sm font-bold mb-1",children:"Factor de Sensibilidad a la Insulina (ISF)"}),p.jsx("p",{className:"text-xs text-slate-400 font-medium mb-6",children:"Defina la reduccin esperada de glucemia (mg/dL) por cada 1 unidad de insulina de accin rpida."}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("input",{type:"number",value:s,onChange:T=>a(parseFloat(T.target.value)),className:"bg-white/10 border border-white/20 rounded-2xl px-6 py-4 text-3xl font-black text-white w-32 outline-none focus:ring-2 ring-blue-500"}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-lg font-bold",children:"mg/dL"}),p.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-widest",children:"por 1 UI"})]})]})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-slate-50 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-slate-400 bg-slate-50 px-4 py-2 rounded-full",children:[p.jsx(Xj,{size:14,className:"text-amber-500"}),p.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight",children:"Requiere supervisin facultativa mdica"})]}),p.jsx("button",{onClick:y,disabled:l,className:"w-full sm:w-auto bg-blue-600 text-white px-8 py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-slate-900 transition-all active:scale-95 disabled:opacity-50 shadow-lg shadow-blue-200",children:l?"Sincronizando...":p.jsxs(p.Fragment,{children:[p.jsx(xy,{size:18})," Aplicar Cambios Clnicos"]})})]}),p.jsx(oV,{children:f&&p.jsxs(Mh.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4 flex items-center justify-center gap-2 text-green-600 font-bold text-xs",children:[p.jsx(_y,{size:16})," Parmetros actualizados en el expediente digital."]})})]})},Z$=()=>{const t=nu(),e=tf(),[n,r]=V.useState(!1),[s,a]=V.useState(null),[l,u]=V.useState(!0),[f,m]=V.useState({login:!1,chat:!1}),[y,_]=V.useState({message:"",key:0}),[b,T]=V.useState({input:"",isLoading:!1,result:null,error:null}),[I,N]=V.useState({history:[],hba1c:[]}),C=F=>_({message:F,key:Date.now()}),z=V.useCallback(F=>{r(!0),a(F),e.pathname==="/"&&(F.email==="admin@vitametra.com"?t("/founder"):F.role==="ADMIN_INSTITUCIONAL"?t("/institution"):t("/dashboard"))},[e.pathname,t]);V.useEffect(()=>{const F=SN(Pc,async Y=>{try{if(Y){const te=await on.getUserProfile(Y.uid);te&&z(te)}else r(!1),a(null)}catch(te){console.error("Auth sync error:",te)}finally{u(!1)}});return()=>F()},[z]),V.useEffect(()=>{if(n&&s?.id){const F=on.subscribeToHistory(s.id,te=>N(ae=>({...ae,history:te}))),Y=on.subscribeToHba1cHistory(s.id,te=>N(ae=>({...ae,hba1c:te})));return()=>{F(),Y()}}},[n,s?.id]);const G=async()=>{if(b.input){T(F=>({...F,isLoading:!0,error:null}));try{s&&await on.checkAnalysisLimit(s.id);const F=await W0(b.input,s);T(Y=>({...Y,result:F})),s&&await nB(s.id,"CARBS",F.totalCarbs,{source:"MENTE_IA"})}catch(F){T(Y=>({...Y,error:F.message})),C(F.message)}finally{T(F=>({...F,isLoading:!1}))}}};return l?p.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[p.jsx("div",{className:"w-10 h-10 border-2 border-slate-900 border-t-blue-600 rounded-full animate-spin mb-4"}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400",children:"Sincronizando Mente IA"})]}):p.jsxs("div",{className:"min-h-screen bg-[#F8FAFC]",children:[n&&s&&p.jsx(OB,{}),p.jsx(BD,{isLoggedIn:n,onLoginClick:()=>m(F=>({...F,login:!0})),onLogoutClick:()=>on.logout(),currentUser:s}),p.jsx("main",{className:`container mx-auto px-4 ${e.pathname==="/"?"pt-0":"pt-24"} pb-32`,children:p.jsxs(qA,{children:[p.jsx(_r,{path:"/",element:p.jsx(O1,{currentUser:s,onStartClick:()=>m(F=>({...F,login:!0})),history:I.history})}),p.jsx(_r,{path:"/dashboard",element:n&&s?p.jsx(O1,{currentUser:s,history:I.history,onStartClick:()=>t("/analyzer")}):p.jsx(ka,{to:"/"})}),p.jsx(_r,{path:"/analyzer",element:p.jsxs("div",{className:"max-w-4xl mx-auto pt-10",children:[p.jsxs("h2",{className:"text-4xl font-black text-slate-900 mb-2 text-center tracking-tighter italic",children:["Bio-Scanner ",p.jsx("span",{className:"text-blue-600",children:"IA"})]}),p.jsx("p",{className:"text-center text-slate-400 text-xs font-bold uppercase tracking-widest mb-10",children:"Anlisis Metablico de Precisin"}),b.result?p.jsx(U$,{result:b.result,currentUser:s,onLogEntry:()=>{C("Registro clnico guardado."),T(F=>({...F,result:null,input:""})),t("/history")},onAdjust:()=>T(F=>({...F,result:null})),onLoginRequest:()=>m(F=>({...F,login:!0})),verifiedFoods:[],onFoodItemVerified:()=>{},onDeleteItem:()=>{}}):p.jsx(F$,{foodInput:b.input,setFoodInput:F=>T(Y=>({...Y,input:F})),onSubmit:G,isLoading:b.isLoading})]})}),p.jsx(_r,{path:"/history",element:n&&s?p.jsx(VB,{currentUser:s,history:I.history,hba1cHistory:I.hba1c,onDelete:F=>on.deleteHistoryEntry(F),onUpdate:()=>{},onSaveHba1c:()=>{},onUpdateHba1c:()=>{},onDeleteHba1c:()=>{},onUpdateLayout:()=>{},onNavigateToAnalyzer:()=>t("/analyzer")}):p.jsx(ka,{to:"/"})}),p.jsx(_r,{path:"/profile",element:n&&s?p.jsx(HB,{currentUser:s,onUpdateUser:F=>a(F)}):p.jsx(ka,{to:"/"})}),p.jsx(_r,{path:"/clinical-settings",element:n&&s?p.jsx("div",{className:"pt-10",children:p.jsx(J$,{currentUser:s,onUpdate:F=>a(F)})}):p.jsx(ka,{to:"/"})}),p.jsx(_r,{path:"/plans",element:p.jsx(L$,{currentUser:s,onUpdateUser:F=>a(F)})}),p.jsx(_r,{path:"/register",element:p.jsx(WB,{onLoginSuccess:z})}),p.jsx(_r,{path:"/institution",element:n&&s?.role==="ADMIN_INSTITUCIONAL"?p.jsx(z$,{currentUser:s}):p.jsx(ka,{to:"/"})}),p.jsx(_r,{path:"/founder",element:n&&s?.email==="admin@vitametra.com"?p.jsx(X$,{}):p.jsx(ka,{to:"/"})})]})}),n&&p.jsx(p4,{activeTab:e.pathname.substring(1)||"dashboard",onTabChange:F=>{const Y=F==="dashboard"?"/dashboard":F==="settings"?"/clinical-settings":`/${F}`;t(Y)}}),p.jsx(B$,{}),p.jsx(m4,{message:y.message,snackbarKey:y.key}),f.login&&p.jsx(MB,{isOpen:f.login,onClose:()=>m(F=>({...F,login:!1})),onLoginSuccess:z})]})};console.log(" VitaMetra Core: Iniciando sistemas biomtricos...");const Q1=document.getElementById("root");Q1?tA.createRoot(Q1).render(p.jsx(X1.StrictMode,{children:p.jsx(QA,{children:p.jsx(Z$,{})})})):console.error("CRTICO: El contenedor #root no existe en el DOM.");
