function GC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function t1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fm={exports:{}},uc={},pm={exports:{}},Ne={};var f_;function KC(){if(f_)return Ne;f_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function C(B,J,we){this.props=B,this.context=J,this.refs=N,this.updater=we||T}C.prototype.isReactComponent={},C.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function z(){}z.prototype=C.prototype;function G(B,J,we){this.props=B,this.context=J,this.refs=N,this.updater=we||T}var F=G.prototype=new z;F.constructor=G,k(F,C.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,te=Object.prototype.hasOwnProperty,ae={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S(B,J,we){var Pe,Re={},Le=null,ze=null;if(J!=null)for(Pe in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Le=""+J.key),J)te.call(J,Pe)&&!M.hasOwnProperty(Pe)&&(Re[Pe]=J[Pe]);var $e=arguments.length-2;if($e===1)Re.children=we;else if(1<$e){for(var Ye=Array($e),Ot=0;Ot<$e;Ot++)Ye[Ot]=arguments[Ot+2];Re.children=Ye}if(B&&B.defaultProps)for(Pe in $e=B.defaultProps,$e)Re[Pe]===void 0&&(Re[Pe]=$e[Pe]);return{$$typeof:t,type:B,key:Le,ref:ze,props:Re,_owner:ae.current}}function A(B,J){return{$$typeof:t,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function V(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(we){return J[we]})}var U=/\/+/g;function R(B,J){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):J.toString(36)}function st(B,J,we,Pe,Re){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var ze=!1;if(B===null)ze=!0;else switch(Le){case"string":case"number":ze=!0;break;case"object":switch(B.$$typeof){case t:case e:ze=!0}}if(ze)return ze=B,Re=Re(ze),B=Pe===""?"."+R(ze,0):Pe,Y(Re)?(we="",B!=null&&(we=B.replace(U,"$&/")+"/"),st(Re,J,we,"",function(Ot){return Ot})):Re!=null&&(D(Re)&&(Re=A(Re,we+(!Re.key||ze&&ze.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+B)),J.push(Re)),1;if(ze=0,Pe=Pe===""?".":Pe+":",Y(B))for(var $e=0;$e<B.length;$e++){Le=B[$e];var Ye=Pe+R(Le,$e);ze+=st(Le,J,we,Ye,Re)}else if(Ye=E(B),typeof Ye=="function")for(B=Ye.call(B),$e=0;!(Le=B.next()).done;)Le=Le.value,Ye=Pe+R(Le,$e++),ze+=st(Le,J,we,Ye,Re);else if(Le==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function kt(B,J,we){if(B==null)return B;var Pe=[],Re=0;return st(B,Pe,"","",function(Le){return J.call(we,Le,Re++)}),Pe}function zt(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(we){(B._status===0||B._status===-1)&&(B._status=1,B._result=we)},function(we){(B._status===0||B._status===-1)&&(B._status=2,B._result=we)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Se={current:null},se={transition:null},ge={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:se,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:kt,forEach:function(B,J,we){kt(B,function(){J.apply(this,arguments)},we)},count:function(B){var J=0;return kt(B,function(){J++}),J},toArray:function(B){return kt(B,function(J){return J})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ne.Component=C,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=G,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=le,Ne.cloneElement=function(B,J,we){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Pe=k({},B.props),Re=B.key,Le=B.ref,ze=B._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,ze=ae.current),J.key!==void 0&&(Re=""+J.key),B.type&&B.type.defaultProps)var $e=B.type.defaultProps;for(Ye in J)te.call(J,Ye)&&!M.hasOwnProperty(Ye)&&(Pe[Ye]=J[Ye]===void 0&&$e!==void 0?$e[Ye]:J[Ye])}var Ye=arguments.length-2;if(Ye===1)Pe.children=we;else if(1<Ye){$e=Array(Ye);for(var Ot=0;Ot<Ye;Ot++)$e[Ot]=arguments[Ot+2];Pe.children=$e}return{$$typeof:t,type:B.type,key:Re,ref:Le,props:Pe,_owner:ze}},Ne.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ne.createElement=S,Ne.createFactory=function(B){var J=S.bind(null,B);return J.type=B,J},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(B){return{$$typeof:d,render:B}},Ne.isValidElement=D,Ne.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:zt}},Ne.memo=function(B,J){return{$$typeof:p,type:B,compare:J===void 0?null:J}},Ne.startTransition=function(B){var J=se.transition;se.transition={};try{B()}finally{se.transition=J}},Ne.unstable_act=le,Ne.useCallback=function(B,J){return Se.current.useCallback(B,J)},Ne.useContext=function(B){return Se.current.useContext(B)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(B){return Se.current.useDeferredValue(B)},Ne.useEffect=function(B,J){return Se.current.useEffect(B,J)},Ne.useId=function(){return Se.current.useId()},Ne.useImperativeHandle=function(B,J,we){return Se.current.useImperativeHandle(B,J,we)},Ne.useInsertionEffect=function(B,J){return Se.current.useInsertionEffect(B,J)},Ne.useLayoutEffect=function(B,J){return Se.current.useLayoutEffect(B,J)},Ne.useMemo=function(B,J){return Se.current.useMemo(B,J)},Ne.useReducer=function(B,J,we){return Se.current.useReducer(B,J,we)},Ne.useRef=function(B){return Se.current.useRef(B)},Ne.useState=function(B){return Se.current.useState(B)},Ne.useSyncExternalStore=function(B,J,we){return Se.current.useSyncExternalStore(B,J,we)},Ne.useTransition=function(){return Se.current.useTransition()},Ne.version="18.3.1",Ne}var p_;function sy(){return p_||(p_=1,pm.exports=KC()),pm.exports}var m_;function QC(){if(m_)return uc;m_=1;var t=sy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,p){var y,_={},E=null,T=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(T=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:d,key:E,ref:T,props:_,_owner:s.current}}return uc.Fragment=n,uc.jsx=l,uc.jsxs=l,uc}var g_;function YC(){return g_||(g_=1,fm.exports=QC()),fm.exports}var g=YC(),j=sy();const ef=t1(j),XC=GC({__proto__:null,default:ef},[j]);var Hd={},mm={exports:{}},An={},gm={exports:{}},ym={};var y_;function JC(){return y_||(y_=1,(function(t){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var B=le-1>>>1,J=se[B];if(0<s(J,ge))se[B]=ge,se[le]=J,le=B;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var B=0,J=se.length,we=J>>>1;B<we;){var Pe=2*(B+1)-1,Re=se[Pe],Le=Pe+1,ze=se[Le];if(0>s(Re,le))Le<J&&0>s(ze,Re)?(se[B]=ze,se[Le]=le,B=Le):(se[B]=Re,se[Pe]=le,B=Pe);else if(Le<J&&0>s(ze,le))se[B]=ze,se[Le]=le,B=Le;else break e}}return ge}function s(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],y=1,_=null,E=3,T=!1,k=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=se)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(p)}}function Y(se){if(N=!1,F(se),!k)if(n(f)!==null)k=!0,zt(te);else{var ge=n(p);ge!==null&&Se(Y,ge.startTime-se)}}function te(se,ge){k=!1,N&&(N=!1,z(S),S=-1),T=!0;var le=E;try{for(F(ge),_=n(f);_!==null&&(!(_.expirationTime>ge)||se&&!V());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var J=B(_.expirationTime<=ge);ge=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(f)&&r(f),F(ge)}else r(f);_=n(f)}if(_!==null)var we=!0;else{var Pe=n(p);Pe!==null&&Se(Y,Pe.startTime-ge),we=!1}return we}finally{_=null,E=le,T=!1}}var ae=!1,M=null,S=-1,A=5,D=-1;function V(){return!(t.unstable_now()-D<A)}function U(){if(M!==null){var se=t.unstable_now();D=se;var ge=!0;try{ge=M(!0,se)}finally{ge?R():(ae=!1,M=null)}}else ae=!1}var R;if(typeof G=="function")R=function(){G(U)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,kt=st.port2;st.port1.onmessage=U,R=function(){kt.postMessage(null)}}else R=function(){C(U,0)};function zt(se){M=se,ae||(ae=!0,R())}function Se(se,ge){S=C(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){k||T||(k=!0,zt(te))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var le=E;E=ge;try{return se()}finally{E=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=E;E=se;try{return ge()}finally{E=le}},t.unstable_scheduleCallback=function(se,ge,le){var B=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,se={id:y++,callback:ge,priorityLevel:se,startTime:le,expirationTime:J,sortIndex:-1},le>B?(se.sortIndex=le,e(p,se),n(f)===null&&se===n(p)&&(N?(z(S),S=-1):N=!0,Se(Y,le-B))):(se.sortIndex=J,e(f,se),k||T||(k=!0,zt(te))),se},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(se){var ge=E;return function(){var le=E;E=ge;try{return se.apply(this,arguments)}finally{E=le}}}})(ym)),ym}var v_;function ZC(){return v_||(v_=1,gm.exports=JC()),gm.exports}var w_;function eA(){if(w_)return An;w_=1;var t=sy(),e=ZC();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(i){return f.call(_,i)?!0:f.call(y,i)?!1:p.test(i)?_[i]=!0:(y[i]=!0,!1)}function T(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,c,h){if(o===null||typeof o>"u"||T(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,c,h,m,w,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(z,G);C[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function F(i,o,c,h){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,c,m,h)&&(c=null),h||m===null?E(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,h=m.attributeNamespace,c===null?i.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ae=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,B;function J(i){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var we=!1;function Pe(i,o){if(!i||we)return"";we=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(q){var h=q}Reflect.construct(i,[],o)}else{try{o.call()}catch(q){h=q}i.call(o.prototype)}else{try{throw Error()}catch(q){h=q}i()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var m=q.stack.split(`
`),w=h.stack.split(`
`),b=m.length-1,P=w.length-1;1<=b&&0<=P&&m[b]!==w[P];)P--;for(;1<=b&&0<=P;b--,P--)if(m[b]!==w[P]){if(b!==1||P!==1)do if(b--,P--,0>P||m[b]!==w[P]){var O=`
`+m[b].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=b&&0<=P);break}}}finally{we=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?J(i):""}function Re(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function Le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case ae:return"Portal";case A:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case st:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case kt:return o=i.displayName||null,o!==null?o:Le(i.type)||"Memo";case zt:o=i._payload,i=i._init;try{return Le(i(o))}catch{}}return null}function ze(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ot(i){var o=Ye(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,w=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){h=""+b,w.call(this,b)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Xr(i){i._valueTracker||(i._valueTracker=Ot(i))}function Do(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function ks(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pi(i,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Mo(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=$e(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function gl(i,o){o=o.checked,o!=null&&F(i,"checked",o,!1)}function yl(i,o){gl(i,o);var c=$e(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Oo(i,o.type,c):o.hasOwnProperty("defaultValue")&&Oo(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Au(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Oo(i,o,c){(o!=="number"||ks(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Jr=Array.isArray;function Zr(i,o,c,h){if(i=i.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=o.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+$e(c),o=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function vl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Lo(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Jr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:$e(c)}}function Vo(i,o){var c=$e(o.value),h=$e(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function wl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ct(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ct(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var es,_l=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=es.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Cs(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ni=["Webkit","ms","Moz","O"];Object.keys(Ri).forEach(function(i){Ni.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ri[o]=Ri[i]})});function xl(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ri.hasOwnProperty(i)&&Ri[i]?(""+o).trim():o+"px"}function El(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=xl(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,m):i[c]=m}}var bl=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tl(i,o){if(o){if(bl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Il(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function jo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fo=null,Hn=null,kr=null;function Uo(i){if(i=Ql(i)){if(typeof Fo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=id(o),Fo(i.stateNode,i.type,o))}}function Cr(i){Hn?kr?kr.push(i):kr=[i]:Hn=i}function Sl(){if(Hn){var i=Hn,o=kr;if(kr=Hn=null,Uo(i),o)for(i=0;i<o.length;i++)Uo(o[i])}}function Mi(i,o){return i(o)}function kl(){}var ts=!1;function Cl(i,o,c){if(ts)return i(o,c);ts=!0;try{return Mi(i,o,c)}finally{ts=!1,(Hn!==null||kr!==null)&&(kl(),Sl())}}function mt(i,o){var c=i.stateNode;if(c===null)return null;var h=id(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Bo=!1;if(d)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Bo=!1}function Oi(i,o,c,h,m,w,b,P,O){var q=Array.prototype.slice.call(arguments,3);try{o.apply(c,q)}catch(ee){this.onError(ee)}}var Li=!1,zo=null,lr=!1,Al=null,Bf={onError:function(i){Li=!0,zo=i}};function $o(i,o,c,h,m,w,b,P,O){Li=!1,zo=null,Oi.apply(Bf,arguments)}function Pu(i,o,c,h,m,w,b,P,O){if($o.apply(this,arguments),Li){if(Li){var q=zo;Li=!1,zo=null}else throw Error(n(198));lr||(lr=!0,Al=q)}}function cr(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Vi(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ur(i){if(cr(i)!==i)throw Error(n(188))}function Ru(i){var o=i.alternate;if(!o){if(o=cr(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var m=c.return;if(m===null)break;var w=m.alternate;if(w===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===c)return ur(m),i;if(w===h)return ur(m),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=m,h=w;else{for(var b=!1,P=m.child;P;){if(P===c){b=!0,c=m,h=w;break}if(P===h){b=!0,h=m,c=w;break}P=P.sibling}if(!b){for(P=w.child;P;){if(P===c){b=!0,c=w,h=m;break}if(P===h){b=!0,h=w,c=m;break}P=P.sibling}if(!b)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Pl(i){return i=Ru(i),i!==null?Ho(i):null}function Ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ho(i);if(o!==null)return o;i=i.sibling}return null}var Wo=e.unstable_scheduleCallback,Rl=e.unstable_cancelCallback,Nu=e.unstable_shouldYield,zf=e.unstable_requestPaint,Xe=e.unstable_now,Du=e.unstable_getCurrentPriorityLevel,ji=e.unstable_ImmediatePriority,As=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,Nl=e.unstable_LowPriority,Mu=e.unstable_IdlePriority,Fi=null,Nn=null;function Ou(i){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Fi,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Vu,Dl=Math.log,Lu=Math.LN2;function Vu(i){return i>>>=0,i===0?32:31-(Dl(i)/Lu|0)|0}var qo=64,Go=4194304;function Ps(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ui(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,w=i.pingedLanes,b=c&268435455;if(b!==0){var P=b&~m;P!==0?h=Ps(P):(w&=b,w!==0&&(h=Ps(w)))}else b=c&~m,b!==0?h=Ps(b):w!==0&&(h=Ps(w));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,w=o&-o,m>=w||m===16&&(w&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-hn(o),m=1<<c,h|=i[c],o&=~m;return h}function $f(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,w=i.pendingLanes;0<w;){var b=31-hn(w),P=1<<b,O=m[b];O===-1?((P&c)===0||(P&h)!==0)&&(m[b]=$f(P,o)):O<=o&&(i.expiredLanes|=P),w&=~P}}function Dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bi(){var i=qo;return qo<<=1,(qo&4194240)===0&&(qo=64),i}function Rs(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ns(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-hn(o),i[o]=c}function Ke(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-hn(c),w=1<<m;o[m]=0,h[m]=-1,i[m]=-1,c&=~w}}function Ds(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-hn(c),m=1<<h;m&o|i[h]&o&&(i[h]|=o),c&=~m}}var Me=0;function Ms(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ju,Ko,Fu,Uu,Bu,Ml=!1,Ar=[],$t=null,dr=null,hr=null,Os=new Map,qn=new Map,Pr=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zu(i,o){switch(i){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Os.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(o.pointerId)}}function En(i,o,c,h,m,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[m]},o!==null&&(o=Ql(o),o!==null&&Ko(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Wf(i,o,c,h,m){switch(o){case"focusin":return $t=En($t,i,o,c,h,m),!0;case"dragenter":return dr=En(dr,i,o,c,h,m),!0;case"mouseover":return hr=En(hr,i,o,c,h,m),!0;case"pointerover":var w=m.pointerId;return Os.set(w,En(Os.get(w)||null,i,o,c,h,m)),!0;case"gotpointercapture":return w=m.pointerId,qn.set(w,En(qn.get(w)||null,i,o,c,h,m)),!0}return!1}function $u(i){var o=qi(i.target);if(o!==null){var c=cr(o);if(c!==null){if(o=c.tag,o===13){if(o=Vi(c),o!==null){i.blockedOn=o,Bu(i.priority,function(){Fu(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rs(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Qo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Di=h,c.target.dispatchEvent(h),Di=null}else return o=Ql(c),o!==null&&Ko(o),i.blockedOn=c,!1;o.shift()}return!0}function zi(i,o,c){rs(i)&&c.delete(o)}function Hu(){Ml=!1,$t!==null&&rs($t)&&($t=null),dr!==null&&rs(dr)&&(dr=null),hr!==null&&rs(hr)&&(hr=null),Os.forEach(zi),qn.forEach(zi)}function fr(i,o){i.blockedOn===o&&(i.blockedOn=null,Ml||(Ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hu)))}function pr(i){function o(m){return fr(m,i)}if(0<Ar.length){fr(Ar[0],i);for(var c=1;c<Ar.length;c++){var h=Ar[c];h.blockedOn===i&&(h.blockedOn=null)}}for($t!==null&&fr($t,i),dr!==null&&fr(dr,i),hr!==null&&fr(hr,i),Os.forEach(o),qn.forEach(o),c=0;c<Pr.length;c++)h=Pr[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)$u(c),c.blockedOn===null&&Pr.shift()}var ss=Y.ReactCurrentBatchConfig,Ls=!0;function it(i,o,c,h){var m=Me,w=ss.transition;ss.transition=null;try{Me=1,Ol(i,o,c,h)}finally{Me=m,ss.transition=w}}function qf(i,o,c,h){var m=Me,w=ss.transition;ss.transition=null;try{Me=4,Ol(i,o,c,h)}finally{Me=m,ss.transition=w}}function Ol(i,o,c,h){if(Ls){var m=Qo(i,o,c,h);if(m===null)rp(i,o,h,$i,c),zu(i,h);else if(Wf(m,i,o,c,h))h.stopPropagation();else if(zu(i,h),o&4&&-1<Hf.indexOf(i)){for(;m!==null;){var w=Ql(m);if(w!==null&&ju(w),w=Qo(i,o,c,h),w===null&&rp(i,o,h,$i,c),w===m)break;m=w}m!==null&&h.stopPropagation()}else rp(i,o,h,null,c)}}var $i=null;function Qo(i,o,c,h){if($i=null,i=jo(h),i=qi(i),i!==null)if(o=cr(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Vi(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return $i=i,null}function Ll(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Du()){case ji:return 1;case As:return 4;case Wn:case Nl:return 16;case Mu:return 536870912;default:return 16}default:return 16}}var Mn=null,Yo=null,bn=null;function Vl(){if(bn)return bn;var i,o=Yo,c=o.length,h,m="value"in Mn?Mn.value:Mn.textContent,w=m.length;for(i=0;i<c&&o[i]===m[i];i++);var b=c-i;for(h=1;h<=b&&o[c-h]===m[w-h];h++);return bn=m.slice(i,1<h?1-h:void 0)}function Xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Rr(){return!0}function jl(){return!1}function Ht(i){function o(c,h,m,w,b){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(c=i[P],this[P]=c?c(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Rr:jl,this.isPropagationStopped=jl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),o}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jo=Ht(mr),Nr=le({},mr,{view:0,detail:0}),Gf=Ht(Nr),Zo,is,Vs,Hi=le({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vs&&(Vs&&i.type==="mousemove"?(Zo=i.screenX-Vs.screenX,is=i.screenY-Vs.screenY):is=Zo=0,Vs=i),Zo)},movementY:function(i){return"movementY"in i?i.movementY:is}}),ea=Ht(Hi),Fl=le({},Hi,{dataTransfer:0}),Wu=Ht(Fl),ta=le({},Nr,{relatedTarget:0}),na=Ht(ta),qu=le({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),os=Ht(qu),Gu=le({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ku=Ht(Gu),Qu=le({},mr,{data:0}),Ul=Ht(Qu),ra={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Yu[i])?!!o[i]:!1}function Dr(){return Xu}var u=le({},Nr,{key:function(i){if(i.key){var o=ra[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(i){return i.type==="keypress"?Xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),v=Ht(u),x=le({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Ht(x),$=le({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),K=Ht($),oe=le({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Ht(oe),Pt=le({},Hi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ht(Pt),Lt=[9,13,27,32],_t=d&&"CompositionEvent"in window,Gn=null;d&&"documentMode"in document&&(Gn=document.documentMode);var On=d&&"TextEvent"in window&&!Gn,Wi=d&&(!_t||Gn&&8<Gn&&11>=Gn),sa=" ",av=!1;function lv(i,o){switch(i){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ia=!1;function Hk(i,o){switch(i){case"compositionend":return cv(o);case"keypress":return o.which!==32?null:(av=!0,sa);case"textInput":return i=o.data,i===sa&&av?null:i;default:return null}}function Wk(i,o){if(ia)return i==="compositionend"||!_t&&lv(i,o)?(i=Vl(),bn=Yo=Mn=null,ia=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Wi&&o.locale!=="ko"?null:o.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!qk[i.type]:o==="textarea"}function dv(i,o,c,h){Cr(h),o=nd(o,"onChange"),0<o.length&&(c=new Jo("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Bl=null,zl=null;function Gk(i){Av(i,0)}function Ju(i){var o=ua(i);if(Do(o))return i}function Kk(i,o){if(i==="change")return o}var hv=!1;if(d){var Kf;if(d){var Qf="oninput"in document;if(!Qf){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Qf=typeof fv.oninput=="function"}Kf=Qf}else Kf=!1;hv=Kf&&(!document.documentMode||9<document.documentMode)}function pv(){Bl&&(Bl.detachEvent("onpropertychange",mv),zl=Bl=null)}function mv(i){if(i.propertyName==="value"&&Ju(zl)){var o=[];dv(o,zl,i,jo(i)),Cl(Gk,o)}}function Qk(i,o,c){i==="focusin"?(pv(),Bl=o,zl=c,Bl.attachEvent("onpropertychange",mv)):i==="focusout"&&pv()}function Yk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ju(zl)}function Xk(i,o){if(i==="click")return Ju(o)}function Jk(i,o){if(i==="input"||i==="change")return Ju(o)}function Zk(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var gr=typeof Object.is=="function"?Object.is:Zk;function $l(i,o){if(gr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(o,m)||!gr(i[m],o[m]))return!1}return!0}function gv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yv(i,o){var c=gv(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gv(c)}}function vv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var i=window,o=ks();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ks(i.document)}return o}function Yf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function eC(i){var o=wv(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&vv(c.ownerDocument.documentElement,c)){if(h!==null&&Yf(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,w=Math.min(h.start,m);h=h.end===void 0?w:Math.min(h.end,m),!i.extend&&w>h&&(m=h,h=w,w=m),m=yv(c,w);var b=yv(c,h);m&&b&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),w>h?(i.addRange(o),i.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var tC=d&&"documentMode"in document&&11>=document.documentMode,oa=null,Xf=null,Hl=null,Jf=!1;function _v(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Jf||oa==null||oa!==ks(h)||(h=oa,"selectionStart"in h&&Yf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Hl&&$l(Hl,h)||(Hl=h,h=nd(Xf,"onSelect"),0<h.length&&(o=new Jo("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=oa)))}function Zu(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var aa={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},Zf={},xv={};d&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ed(i){if(Zf[i])return Zf[i];if(!aa[i])return i;var o=aa[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in xv)return Zf[i]=o[c];return i}var Ev=ed("animationend"),bv=ed("animationiteration"),Tv=ed("animationstart"),Iv=ed("transitionend"),Sv=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(i,o){Sv.set(i,o),a(o,[i])}for(var ep=0;ep<kv.length;ep++){var tp=kv[ep],nC=tp.toLowerCase(),rC=tp[0].toUpperCase()+tp.slice(1);js(nC,"on"+rC)}js(Ev,"onAnimationEnd"),js(bv,"onAnimationIteration"),js(Tv,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Iv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function Cv(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Pu(h,o,void 0,i),i.currentTarget=null}function Av(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var b=h.length-1;0<=b;b--){var P=h[b],O=P.instance,q=P.currentTarget;if(P=P.listener,O!==w&&m.isPropagationStopped())break e;Cv(m,P,q),w=O}else for(b=0;b<h.length;b++){if(P=h[b],O=P.instance,q=P.currentTarget,P=P.listener,O!==w&&m.isPropagationStopped())break e;Cv(m,P,q),w=O}}}if(lr)throw i=Al,lr=!1,Al=null,i}function tt(i,o){var c=o[cp];c===void 0&&(c=o[cp]=new Set);var h=i+"__bubble";c.has(h)||(Pv(o,i,2,!1),c.add(h))}function np(i,o,c){var h=0;o&&(h|=4),Pv(c,i,h,o)}var td="_reactListening"+Math.random().toString(36).slice(2);function ql(i){if(!i[td]){i[td]=!0,r.forEach(function(c){c!=="selectionchange"&&(sC.has(c)||np(c,!1,i),np(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[td]||(o[td]=!0,np("selectionchange",!1,o))}}function Pv(i,o,c,h){switch(Ll(o)){case 1:var m=it;break;case 4:m=qf;break;default:m=Ol}c=m.bind(null,o,c,i),m=void 0,!Bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,c,{capture:!0,passive:m}):i.addEventListener(o,c,!0):m!==void 0?i.addEventListener(o,c,{passive:m}):i.addEventListener(o,c,!1)}function rp(i,o,c,h,m){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var P=h.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(b===4)for(b=h.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;b=b.return}for(;P!==null;){if(b=qi(P),b===null)return;if(O=b.tag,O===5||O===6){h=w=b;continue e}P=P.parentNode}}h=h.return}Cl(function(){var q=w,ee=jo(c),re=[];e:{var Z=Sv.get(i);if(Z!==void 0){var ce=Jo,he=i;switch(i){case"keypress":if(Xo(c)===0)break e;case"keydown":case"keyup":ce=v;break;case"focusin":he="focus",ce=na;break;case"focusout":he="blur",ce=na;break;case"beforeblur":case"afterblur":ce=na;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case Ev:case bv:case Tv:ce=os;break;case Iv:ce=qe;break;case"scroll":ce=Gf;break;case"wheel":ce=Ve;break;case"copy":case"cut":case"paste":ce=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var pe=(o&4)!==0,gt=!pe&&i==="scroll",H=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var L=q,W;L!==null;){W=L;var ie=W.stateNode;if(W.tag===5&&ie!==null&&(W=ie,H!==null&&(ie=mt(L,H),ie!=null&&pe.push(Gl(L,ie,W)))),gt)break;L=L.return}0<pe.length&&(Z=new ce(Z,he,null,c,ee),re.push({event:Z,listeners:pe}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",Z&&c!==Di&&(he=c.relatedTarget||c.fromElement)&&(qi(he)||he[as]))break e;if((ce||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ce?(he=c.relatedTarget||c.toElement,ce=q,he=he?qi(he):null,he!==null&&(gt=cr(he),he!==gt||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=q),ce!==he)){if(pe=ea,ie="onMouseLeave",H="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(pe=I,ie="onPointerLeave",H="onPointerEnter",L="pointer"),gt=ce==null?Z:ua(ce),W=he==null?Z:ua(he),Z=new pe(ie,L+"leave",ce,c,ee),Z.target=gt,Z.relatedTarget=W,ie=null,qi(ee)===q&&(pe=new pe(H,L+"enter",he,c,ee),pe.target=W,pe.relatedTarget=gt,ie=pe),gt=ie,ce&&he)t:{for(pe=ce,H=he,L=0,W=pe;W;W=la(W))L++;for(W=0,ie=H;ie;ie=la(ie))W++;for(;0<L-W;)pe=la(pe),L--;for(;0<W-L;)H=la(H),W--;for(;L--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=la(pe),H=la(H)}pe=null}else pe=null;ce!==null&&Rv(re,Z,ce,pe,!1),he!==null&&gt!==null&&Rv(re,gt,he,pe,!0)}}e:{if(Z=q?ua(q):window,ce=Z.nodeName&&Z.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Z.type==="file")var ye=Kk;else if(uv(Z))if(hv)ye=Jk;else{ye=Yk;var xe=Qk}else(ce=Z.nodeName)&&ce.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=Xk);if(ye&&(ye=ye(i,q))){dv(re,ye,c,ee);break e}xe&&xe(i,Z,q),i==="focusout"&&(xe=Z._wrapperState)&&xe.controlled&&Z.type==="number"&&Oo(Z,"number",Z.value)}switch(xe=q?ua(q):window,i){case"focusin":(uv(xe)||xe.contentEditable==="true")&&(oa=xe,Xf=q,Hl=null);break;case"focusout":Hl=Xf=oa=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,_v(re,c,ee);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":_v(re,c,ee)}var Ee;if(_t)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ia?lv(i,c)&&(Ie="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(Wi&&c.locale!=="ko"&&(ia||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ia&&(Ee=Vl()):(Mn=ee,Yo="value"in Mn?Mn.value:Mn.textContent,ia=!0)),xe=nd(q,Ie),0<xe.length&&(Ie=new Ul(Ie,i,null,c,ee),re.push({event:Ie,listeners:xe}),Ee?Ie.data=Ee:(Ee=cv(c),Ee!==null&&(Ie.data=Ee)))),(Ee=On?Hk(i,c):Wk(i,c))&&(q=nd(q,"onBeforeInput"),0<q.length&&(ee=new Ul("onBeforeInput","beforeinput",null,c,ee),re.push({event:ee,listeners:q}),ee.data=Ee))}Av(re,o)})}function Gl(i,o,c){return{instance:i,listener:o,currentTarget:c}}function nd(i,o){for(var c=o+"Capture",h=[];i!==null;){var m=i,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=mt(i,c),w!=null&&h.unshift(Gl(i,w,m)),w=mt(i,o),w!=null&&h.push(Gl(i,w,m))),i=i.return}return h}function la(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Rv(i,o,c,h,m){for(var w=o._reactName,b=[];c!==null&&c!==h;){var P=c,O=P.alternate,q=P.stateNode;if(O!==null&&O===h)break;P.tag===5&&q!==null&&(P=q,m?(O=mt(c,w),O!=null&&b.unshift(Gl(c,O,P))):m||(O=mt(c,w),O!=null&&b.push(Gl(c,O,P)))),c=c.return}b.length!==0&&i.push({event:o,listeners:b})}var iC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace(iC,`
`).replace(oC,"")}function rd(i,o,c){if(o=Nv(o),Nv(i)!==o&&c)throw Error(n(425))}function sd(){}var sp=null,ip=null;function op(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(i){return Dv.resolve(null).then(i).catch(cC)}:ap;function cC(i){setTimeout(function(){throw i})}function lp(i,o){var c=o,h=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){i.removeChild(m),pr(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);pr(o)}function Fs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var ca=Math.random().toString(36).slice(2),Mr="__reactFiber$"+ca,Kl="__reactProps$"+ca,as="__reactContainer$"+ca,cp="__reactEvents$"+ca,uC="__reactListeners$"+ca,dC="__reactHandles$"+ca;function qi(i){var o=i[Mr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[as]||c[Mr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Mv(i);i!==null;){if(c=i[Mr])return c;i=Mv(i)}return o}i=c,c=i.parentNode}return null}function Ql(i){return i=i[Mr]||i[as],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ua(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function id(i){return i[Kl]||null}var up=[],da=-1;function Us(i){return{current:i}}function nt(i){0>da||(i.current=up[da],up[da]=null,da--)}function Je(i,o){da++,up[da]=i.current,i.current=o}var Bs={},Zt=Us(Bs),Tn=Us(!1),Gi=Bs;function ha(i,o){var c=i.type.contextTypes;if(!c)return Bs;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in c)m[w]=o[w];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function In(i){return i=i.childContextTypes,i!=null}function od(){nt(Tn),nt(Zt)}function Ov(i,o,c){if(Zt.current!==Bs)throw Error(n(168));Je(Zt,o),Je(Tn,c)}function Lv(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,ze(i)||"Unknown",m));return le({},c,h)}function ad(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Bs,Gi=Zt.current,Je(Zt,i),Je(Tn,Tn.current),!0}function Vv(i,o,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=Lv(i,o,Gi),h.__reactInternalMemoizedMergedChildContext=i,nt(Tn),nt(Zt),Je(Zt,i)):nt(Tn),Je(Tn,c)}var ls=null,ld=!1,dp=!1;function jv(i){ls===null?ls=[i]:ls.push(i)}function hC(i){ld=!0,jv(i)}function zs(){if(!dp&&ls!==null){dp=!0;var i=0,o=Me;try{var c=ls;for(Me=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}ls=null,ld=!1}catch(m){throw ls!==null&&(ls=ls.slice(i+1)),Wo(ji,zs),m}finally{Me=o,dp=!1}}return null}var fa=[],pa=0,cd=null,ud=0,Kn=[],Qn=0,Ki=null,cs=1,us="";function Qi(i,o){fa[pa++]=ud,fa[pa++]=cd,cd=i,ud=o}function Fv(i,o,c){Kn[Qn++]=cs,Kn[Qn++]=us,Kn[Qn++]=Ki,Ki=i;var h=cs;i=us;var m=32-hn(h)-1;h&=~(1<<m),c+=1;var w=32-hn(o)+m;if(30<w){var b=m-m%5;w=(h&(1<<b)-1).toString(32),h>>=b,m-=b,cs=1<<32-hn(o)+m|c<<m|h,us=w+i}else cs=1<<w|c<<m|h,us=i}function hp(i){i.return!==null&&(Qi(i,1),Fv(i,1,0))}function fp(i){for(;i===cd;)cd=fa[--pa],fa[pa]=null,ud=fa[--pa],fa[pa]=null;for(;i===Ki;)Ki=Kn[--Qn],Kn[Qn]=null,us=Kn[--Qn],Kn[Qn]=null,cs=Kn[--Qn],Kn[Qn]=null}var Ln=null,Vn=null,ot=!1,yr=null;function Uv(i,o){var c=Zn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Bv(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Ln=i,Vn=Fs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Ln=i,Vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ki!==null?{id:cs,overflow:us}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Zn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Ln=i,Vn=null,!0):!1;default:return!1}}function pp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mp(i){if(ot){var o=Vn;if(o){var c=o;if(!Bv(i,o)){if(pp(i))throw Error(n(418));o=Fs(c.nextSibling);var h=Ln;o&&Bv(i,o)?Uv(h,c):(i.flags=i.flags&-4097|2,ot=!1,Ln=i)}}else{if(pp(i))throw Error(n(418));i.flags=i.flags&-4097|2,ot=!1,Ln=i}}}function zv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ln=i}function dd(i){if(i!==Ln)return!1;if(!ot)return zv(i),ot=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!op(i.type,i.memoizedProps)),o&&(o=Vn)){if(pp(i))throw $v(),Error(n(418));for(;o;)Uv(i,o),o=Fs(o.nextSibling)}if(zv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Vn=Fs(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Vn=null}}else Vn=Ln?Fs(i.stateNode.nextSibling):null;return!0}function $v(){for(var i=Vn;i;)i=Fs(i.nextSibling)}function ma(){Vn=Ln=null,ot=!1}function gp(i){yr===null?yr=[i]:yr.push(i)}var fC=Y.ReactCurrentBatchConfig;function Yl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var m=h,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(b){var P=m.refs;b===null?delete P[w]:P[w]=b},o._stringRef=w,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function hd(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Hv(i){var o=i._init;return o(i._payload)}function Wv(i){function o(H,L){if(i){var W=H.deletions;W===null?(H.deletions=[L],H.flags|=16):W.push(L)}}function c(H,L){if(!i)return null;for(;L!==null;)o(H,L),L=L.sibling;return null}function h(H,L){for(H=new Map;L!==null;)L.key!==null?H.set(L.key,L):H.set(L.index,L),L=L.sibling;return H}function m(H,L){return H=Ys(H,L),H.index=0,H.sibling=null,H}function w(H,L,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<L?(H.flags|=2,L):W):(H.flags|=2,L)):(H.flags|=1048576,L)}function b(H){return i&&H.alternate===null&&(H.flags|=2),H}function P(H,L,W,ie){return L===null||L.tag!==6?(L=am(W,H.mode,ie),L.return=H,L):(L=m(L,W),L.return=H,L)}function O(H,L,W,ie){var ye=W.type;return ye===M?ee(H,L,W.props.children,ie,W.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===zt&&Hv(ye)===L.type)?(ie=m(L,W.props),ie.ref=Yl(H,L,W),ie.return=H,ie):(ie=Ld(W.type,W.key,W.props,null,H.mode,ie),ie.ref=Yl(H,L,W),ie.return=H,ie)}function q(H,L,W,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==W.containerInfo||L.stateNode.implementation!==W.implementation?(L=lm(W,H.mode,ie),L.return=H,L):(L=m(L,W.children||[]),L.return=H,L)}function ee(H,L,W,ie,ye){return L===null||L.tag!==7?(L=ro(W,H.mode,ie,ye),L.return=H,L):(L=m(L,W),L.return=H,L)}function re(H,L,W){if(typeof L=="string"&&L!==""||typeof L=="number")return L=am(""+L,H.mode,W),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case te:return W=Ld(L.type,L.key,L.props,null,H.mode,W),W.ref=Yl(H,null,L),W.return=H,W;case ae:return L=lm(L,H.mode,W),L.return=H,L;case zt:var ie=L._init;return re(H,ie(L._payload),W)}if(Jr(L)||ge(L))return L=ro(L,H.mode,W,null),L.return=H,L;hd(H,L)}return null}function Z(H,L,W,ie){var ye=L!==null?L.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:P(H,L,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case te:return W.key===ye?O(H,L,W,ie):null;case ae:return W.key===ye?q(H,L,W,ie):null;case zt:return ye=W._init,Z(H,L,ye(W._payload),ie)}if(Jr(W)||ge(W))return ye!==null?null:ee(H,L,W,ie,null);hd(H,W)}return null}function ce(H,L,W,ie,ye){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(W)||null,P(L,H,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case te:return H=H.get(ie.key===null?W:ie.key)||null,O(L,H,ie,ye);case ae:return H=H.get(ie.key===null?W:ie.key)||null,q(L,H,ie,ye);case zt:var xe=ie._init;return ce(H,L,W,xe(ie._payload),ye)}if(Jr(ie)||ge(ie))return H=H.get(W)||null,ee(L,H,ie,ye,null);hd(L,ie)}return null}function he(H,L,W,ie){for(var ye=null,xe=null,Ee=L,Ie=L=0,Ft=null;Ee!==null&&Ie<W.length;Ie++){Ee.index>Ie?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Ue=Z(H,Ee,W[Ie],ie);if(Ue===null){Ee===null&&(Ee=Ft);break}i&&Ee&&Ue.alternate===null&&o(H,Ee),L=w(Ue,L,Ie),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue,Ee=Ft}if(Ie===W.length)return c(H,Ee),ot&&Qi(H,Ie),ye;if(Ee===null){for(;Ie<W.length;Ie++)Ee=re(H,W[Ie],ie),Ee!==null&&(L=w(Ee,L,Ie),xe===null?ye=Ee:xe.sibling=Ee,xe=Ee);return ot&&Qi(H,Ie),ye}for(Ee=h(H,Ee);Ie<W.length;Ie++)Ft=ce(Ee,H,Ie,W[Ie],ie),Ft!==null&&(i&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Ie:Ft.key),L=w(Ft,L,Ie),xe===null?ye=Ft:xe.sibling=Ft,xe=Ft);return i&&Ee.forEach(function(Xs){return o(H,Xs)}),ot&&Qi(H,Ie),ye}function pe(H,L,W,ie){var ye=ge(W);if(typeof ye!="function")throw Error(n(150));if(W=ye.call(W),W==null)throw Error(n(151));for(var xe=ye=null,Ee=L,Ie=L=0,Ft=null,Ue=W.next();Ee!==null&&!Ue.done;Ie++,Ue=W.next()){Ee.index>Ie?(Ft=Ee,Ee=null):Ft=Ee.sibling;var Xs=Z(H,Ee,Ue.value,ie);if(Xs===null){Ee===null&&(Ee=Ft);break}i&&Ee&&Xs.alternate===null&&o(H,Ee),L=w(Xs,L,Ie),xe===null?ye=Xs:xe.sibling=Xs,xe=Xs,Ee=Ft}if(Ue.done)return c(H,Ee),ot&&Qi(H,Ie),ye;if(Ee===null){for(;!Ue.done;Ie++,Ue=W.next())Ue=re(H,Ue.value,ie),Ue!==null&&(L=w(Ue,L,Ie),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue);return ot&&Qi(H,Ie),ye}for(Ee=h(H,Ee);!Ue.done;Ie++,Ue=W.next())Ue=ce(Ee,H,Ie,Ue.value,ie),Ue!==null&&(i&&Ue.alternate!==null&&Ee.delete(Ue.key===null?Ie:Ue.key),L=w(Ue,L,Ie),xe===null?ye=Ue:xe.sibling=Ue,xe=Ue);return i&&Ee.forEach(function(qC){return o(H,qC)}),ot&&Qi(H,Ie),ye}function gt(H,L,W,ie){if(typeof W=="object"&&W!==null&&W.type===M&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case te:e:{for(var ye=W.key,xe=L;xe!==null;){if(xe.key===ye){if(ye=W.type,ye===M){if(xe.tag===7){c(H,xe.sibling),L=m(xe,W.props.children),L.return=H,H=L;break e}}else if(xe.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===zt&&Hv(ye)===xe.type){c(H,xe.sibling),L=m(xe,W.props),L.ref=Yl(H,xe,W),L.return=H,H=L;break e}c(H,xe);break}else o(H,xe);xe=xe.sibling}W.type===M?(L=ro(W.props.children,H.mode,ie,W.key),L.return=H,H=L):(ie=Ld(W.type,W.key,W.props,null,H.mode,ie),ie.ref=Yl(H,L,W),ie.return=H,H=ie)}return b(H);case ae:e:{for(xe=W.key;L!==null;){if(L.key===xe)if(L.tag===4&&L.stateNode.containerInfo===W.containerInfo&&L.stateNode.implementation===W.implementation){c(H,L.sibling),L=m(L,W.children||[]),L.return=H,H=L;break e}else{c(H,L);break}else o(H,L);L=L.sibling}L=lm(W,H.mode,ie),L.return=H,H=L}return b(H);case zt:return xe=W._init,gt(H,L,xe(W._payload),ie)}if(Jr(W))return he(H,L,W,ie);if(ge(W))return pe(H,L,W,ie);hd(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,L!==null&&L.tag===6?(c(H,L.sibling),L=m(L,W),L.return=H,H=L):(c(H,L),L=am(W,H.mode,ie),L.return=H,H=L),b(H)):c(H,L)}return gt}var ga=Wv(!0),qv=Wv(!1),fd=Us(null),pd=null,ya=null,yp=null;function vp(){yp=ya=pd=null}function wp(i){var o=fd.current;nt(fd),i._currentValue=o}function _p(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function va(i,o){pd=i,yp=ya=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Sn=!0),i.firstContext=null)}function Yn(i){var o=i._currentValue;if(yp!==i)if(i={context:i,memoizedValue:o,next:null},ya===null){if(pd===null)throw Error(n(308));ya=i,pd.dependencies={lanes:0,firstContext:i}}else ya=ya.next=i;return o}var Yi=null;function xp(i){Yi===null?Yi=[i]:Yi.push(i)}function Gv(i,o,c,h){var m=o.interleaved;return m===null?(c.next=c,xp(o)):(c.next=m.next,m.next=c),o.interleaved=c,ds(i,h)}function ds(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var $s=!1;function Ep(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function hs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Hs(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Fe&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,ds(i,c)}return m=h.interleaved,m===null?(o.next=o,xp(h)):(o.next=m.next,m.next=o),h.interleaved=o,ds(i,c)}function md(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Ds(i,c)}}function Qv(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?m=w=b:w=w.next=b,c=c.next}while(c!==null);w===null?m=w=o:w=w.next=o}else m=w=o;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function gd(i,o,c,h){var m=i.updateQueue;$s=!1;var w=m.firstBaseUpdate,b=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var O=P,q=O.next;O.next=null,b===null?w=q:b.next=q,b=O;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==b&&(P===null?ee.firstBaseUpdate=q:P.next=q,ee.lastBaseUpdate=O))}if(w!==null){var re=m.baseState;b=0,ee=q=O=null,P=w;do{var Z=P.lane,ce=P.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var he=i,pe=P;switch(Z=o,ce=c,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(ce,re,Z);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,Z=typeof he=="function"?he.call(ce,re,Z):he,Z==null)break e;re=le({},re,Z);break e;case 2:$s=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[P]:Z.push(P))}else ce={eventTime:ce,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(q=ee=ce,O=re):ee=ee.next=ce,b|=Z;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(O=re),m.baseState=O,m.firstBaseUpdate=q,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else w===null&&(m.shared.lanes=0);Zi|=b,i.lanes=b,i.memoizedState=re}}function Yv(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Xl={},Or=Us(Xl),Jl=Us(Xl),Zl=Us(Xl);function Xi(i){if(i===Xl)throw Error(n(174));return i}function bp(i,o){switch(Je(Zl,o),Je(Jl,i),Je(Or,Xl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:At(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=At(o,i)}nt(Or),Je(Or,o)}function wa(){nt(Or),nt(Jl),nt(Zl)}function Xv(i){Xi(Zl.current);var o=Xi(Or.current),c=At(o,i.type);o!==c&&(Je(Jl,i),Je(Or,c))}function Tp(i){Jl.current===i&&(nt(Or),nt(Jl))}var at=Us(0);function yd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ip=[];function Sp(){for(var i=0;i<Ip.length;i++)Ip[i]._workInProgressVersionPrimary=null;Ip.length=0}var vd=Y.ReactCurrentDispatcher,kp=Y.ReactCurrentBatchConfig,Ji=0,lt=null,Rt=null,Vt=null,wd=!1,ec=!1,tc=0,pC=0;function en(){throw Error(n(321))}function Cp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!gr(i[c],o[c]))return!1;return!0}function Ap(i,o,c,h,m,w){if(Ji=w,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,vd.current=i===null||i.memoizedState===null?vC:wC,i=c(h,m),ec){w=0;do{if(ec=!1,tc=0,25<=w)throw Error(n(301));w+=1,Vt=Rt=null,o.updateQueue=null,vd.current=_C,i=c(h,m)}while(ec)}if(vd.current=Ed,o=Rt!==null&&Rt.next!==null,Ji=0,Vt=Rt=lt=null,wd=!1,o)throw Error(n(300));return i}function Pp(){var i=tc!==0;return tc=0,i}function Lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?lt.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function Xn(){if(Rt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var o=Vt===null?lt.memoizedState:Vt.next;if(o!==null)Vt=o,Rt=i;else{if(i===null)throw Error(n(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?lt.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function nc(i,o){return typeof o=="function"?o(i):o}function Rp(i){var o=Xn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=Rt,m=h.baseQueue,w=c.pending;if(w!==null){if(m!==null){var b=m.next;m.next=w.next,w.next=b}h.baseQueue=m=w,c.pending=null}if(m!==null){w=m.next,h=h.baseState;var P=b=null,O=null,q=w;do{var ee=q.lane;if((Ji&ee)===ee)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:i(h,q.action);else{var re={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(P=O=re,b=h):O=O.next=re,lt.lanes|=ee,Zi|=ee}q=q.next}while(q!==null&&q!==w);O===null?b=h:O.next=P,gr(h,o.memoizedState)||(Sn=!0),o.memoizedState=h,o.baseState=b,o.baseQueue=O,c.lastRenderedState=h}if(i=c.interleaved,i!==null){m=i;do w=m.lane,lt.lanes|=w,Zi|=w,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Np(i){var o=Xn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,w=o.memoizedState;if(m!==null){c.pending=null;var b=m=m.next;do w=i(w,b.action),b=b.next;while(b!==m);gr(w,o.memoizedState)||(Sn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function Jv(){}function Zv(i,o){var c=lt,h=Xn(),m=o(),w=!gr(h.memoizedState,m);if(w&&(h.memoizedState=m,Sn=!0),h=h.queue,Dp(nw.bind(null,c,h,i),[i]),h.getSnapshot!==o||w||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,rc(9,tw.bind(null,c,h,m,o),void 0,null),jt===null)throw Error(n(349));(Ji&30)!==0||ew(c,o,m)}return m}function ew(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function tw(i,o,c,h){o.value=c,o.getSnapshot=h,rw(o)&&sw(i)}function nw(i,o,c){return c(function(){rw(o)&&sw(i)})}function rw(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!gr(i,c)}catch{return!0}}function sw(i){var o=ds(i,1);o!==null&&xr(o,i,1,-1)}function iw(i){var o=Lr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:i},o.queue=i,i=i.dispatch=yC.bind(null,lt,i),[o.memoizedState,i]}function rc(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function ow(){return Xn().memoizedState}function _d(i,o,c,h){var m=Lr();lt.flags|=i,m.memoizedState=rc(1|o,c,void 0,h===void 0?null:h)}function xd(i,o,c,h){var m=Xn();h=h===void 0?null:h;var w=void 0;if(Rt!==null){var b=Rt.memoizedState;if(w=b.destroy,h!==null&&Cp(h,b.deps)){m.memoizedState=rc(o,c,w,h);return}}lt.flags|=i,m.memoizedState=rc(1|o,c,w,h)}function aw(i,o){return _d(8390656,8,i,o)}function Dp(i,o){return xd(2048,8,i,o)}function lw(i,o){return xd(4,2,i,o)}function cw(i,o){return xd(4,4,i,o)}function uw(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function dw(i,o,c){return c=c!=null?c.concat([i]):null,xd(4,4,uw.bind(null,o,i),c)}function Mp(){}function hw(i,o){var c=Xn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Cp(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function fw(i,o){var c=Xn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Cp(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function pw(i,o,c){return(Ji&21)===0?(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=c):(gr(c,o)||(c=Bi(),lt.lanes|=c,Zi|=c,i.baseState=!0),o)}function mC(i,o){var c=Me;Me=c!==0&&4>c?c:4,i(!0);var h=kp.transition;kp.transition={};try{i(!1),o()}finally{Me=c,kp.transition=h}}function mw(){return Xn().memoizedState}function gC(i,o,c){var h=Ks(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},gw(i))yw(o,c);else if(c=Gv(i,o,c,h),c!==null){var m=mn();xr(c,i,h,m),vw(c,o,h)}}function yC(i,o,c){var h=Ks(i),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(gw(i))yw(o,m);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var b=o.lastRenderedState,P=w(b,c);if(m.hasEagerState=!0,m.eagerState=P,gr(P,b)){var O=o.interleaved;O===null?(m.next=m,xp(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}c=Gv(i,o,m,h),c!==null&&(m=mn(),xr(c,i,h,m),vw(c,o,h))}}function gw(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function yw(i,o){ec=wd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function vw(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Ds(i,c)}}var Ed={readContext:Yn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},vC={readContext:Yn,useCallback:function(i,o){return Lr().memoizedState=[i,o===void 0?null:o],i},useContext:Yn,useEffect:aw,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,_d(4194308,4,uw.bind(null,o,i),c)},useLayoutEffect:function(i,o){return _d(4194308,4,i,o)},useInsertionEffect:function(i,o){return _d(4,2,i,o)},useMemo:function(i,o){var c=Lr();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=Lr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=gC.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var o=Lr();return i={current:i},o.memoizedState=i},useState:iw,useDebugValue:Mp,useDeferredValue:function(i){return Lr().memoizedState=i},useTransition:function(){var i=iw(!1),o=i[0];return i=mC.bind(null,i[1]),Lr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=lt,m=Lr();if(ot){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),jt===null)throw Error(n(349));(Ji&30)!==0||ew(h,o,c)}m.memoizedState=c;var w={value:c,getSnapshot:o};return m.queue=w,aw(nw.bind(null,h,w,i),[i]),h.flags|=2048,rc(9,tw.bind(null,h,w,c,o),void 0,null),c},useId:function(){var i=Lr(),o=jt.identifierPrefix;if(ot){var c=us,h=cs;c=(h&~(1<<32-hn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=tc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=pC++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},wC={readContext:Yn,useCallback:hw,useContext:Yn,useEffect:Dp,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Rp,useRef:ow,useState:function(){return Rp(nc)},useDebugValue:Mp,useDeferredValue:function(i){var o=Xn();return pw(o,Rt.memoizedState,i)},useTransition:function(){var i=Rp(nc)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:mw,unstable_isNewReconciler:!1},_C={readContext:Yn,useCallback:hw,useContext:Yn,useEffect:Dp,useImperativeHandle:dw,useInsertionEffect:lw,useLayoutEffect:cw,useMemo:fw,useReducer:Np,useRef:ow,useState:function(){return Np(nc)},useDebugValue:Mp,useDeferredValue:function(i){var o=Xn();return Rt===null?o.memoizedState=i:pw(o,Rt.memoizedState,i)},useTransition:function(){var i=Np(nc)[0],o=Xn().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:mw,unstable_isNewReconciler:!1};function vr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Op(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:le({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var bd={isMounted:function(i){return(i=i._reactInternals)?cr(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=mn(),m=Ks(i),w=hs(h,m);w.payload=o,c!=null&&(w.callback=c),o=Hs(i,w,m),o!==null&&(xr(o,i,m,h),md(o,i,m))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=mn(),m=Ks(i),w=hs(h,m);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=Hs(i,w,m),o!==null&&(xr(o,i,m,h),md(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=mn(),h=Ks(i),m=hs(c,h);m.tag=2,o!=null&&(m.callback=o),o=Hs(i,m,h),o!==null&&(xr(o,i,h,c),md(o,i,h))}};function ww(i,o,c,h,m,w,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,b):o.prototype&&o.prototype.isPureReactComponent?!$l(c,h)||!$l(m,w):!0}function _w(i,o,c){var h=!1,m=Bs,w=o.contextType;return typeof w=="object"&&w!==null?w=Yn(w):(m=In(o)?Gi:Zt.current,h=o.contextTypes,w=(h=h!=null)?ha(i,m):Bs),o=new o(c,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=bd,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=w),o}function xw(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&bd.enqueueReplaceState(o,o.state,null)}function Lp(i,o,c,h){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},Ep(i);var w=o.contextType;typeof w=="object"&&w!==null?m.context=Yn(w):(w=In(o)?Gi:Zt.current,m.context=ha(i,w)),m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Op(i,o,w,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&bd.enqueueReplaceState(m,m.state,null),gd(i,c,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function _a(i,o){try{var c="",h=o;do c+=Re(h),h=h.return;while(h);var m=c}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:m,digest:null}}function Vp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function jp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var xC=typeof WeakMap=="function"?WeakMap:Map;function Ew(i,o,c){c=hs(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Pd||(Pd=!0,Zp=h),jp(i,o)},c}function bw(i,o,c){c=hs(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;c.payload=function(){return h(m)},c.callback=function(){jp(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){jp(i,o),typeof h!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),c}function Tw(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new xC;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(c)||(m.add(c),i=OC.bind(null,i,o,c),o.then(i,i))}function Iw(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Sw(i,o,c,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=hs(-1,1),o.tag=2,Hs(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var EC=Y.ReactCurrentOwner,Sn=!1;function pn(i,o,c,h){o.child=i===null?qv(o,null,c,h):ga(o,i.child,c,h)}function kw(i,o,c,h,m){c=c.render;var w=o.ref;return va(o,m),h=Ap(i,o,c,h,w,m),c=Pp(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,fs(i,o,m)):(ot&&c&&hp(o),o.flags|=1,pn(i,o,h,m),o.child)}function Cw(i,o,c,h,m){if(i===null){var w=c.type;return typeof w=="function"&&!om(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Aw(i,o,w,h,m)):(i=Ld(c.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&m)===0){var b=w.memoizedProps;if(c=c.compare,c=c!==null?c:$l,c(b,h)&&i.ref===o.ref)return fs(i,o,m)}return o.flags|=1,i=Ys(w,h),i.ref=o.ref,i.return=o,o.child=i}function Aw(i,o,c,h,m){if(i!==null){var w=i.memoizedProps;if($l(w,h)&&i.ref===o.ref)if(Sn=!1,o.pendingProps=h=w,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Sn=!0);else return o.lanes=i.lanes,fs(i,o,m)}return Fp(i,o,c,h,m)}function Pw(i,o,c){var h=o.pendingProps,m=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ea,jn),jn|=c;else{if((c&1073741824)===0)return i=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Je(Ea,jn),jn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=w!==null?w.baseLanes:c,Je(Ea,jn),jn|=h}else w!==null?(h=w.baseLanes|c,o.memoizedState=null):h=c,Je(Ea,jn),jn|=h;return pn(i,o,m,c),o.child}function Rw(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Fp(i,o,c,h,m){var w=In(c)?Gi:Zt.current;return w=ha(o,w),va(o,m),c=Ap(i,o,c,h,w,m),h=Pp(),i!==null&&!Sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,fs(i,o,m)):(ot&&h&&hp(o),o.flags|=1,pn(i,o,c,m),o.child)}function Nw(i,o,c,h,m){if(In(c)){var w=!0;ad(o)}else w=!1;if(va(o,m),o.stateNode===null)Id(i,o),_w(o,c,h),Lp(o,c,h,m),h=!0;else if(i===null){var b=o.stateNode,P=o.memoizedProps;b.props=P;var O=b.context,q=c.contextType;typeof q=="object"&&q!==null?q=Yn(q):(q=In(c)?Gi:Zt.current,q=ha(o,q));var ee=c.getDerivedStateFromProps,re=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function";re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==h||O!==q)&&xw(o,b,h,q),$s=!1;var Z=o.memoizedState;b.state=Z,gd(o,h,b,m),O=o.memoizedState,P!==h||Z!==O||Tn.current||$s?(typeof ee=="function"&&(Op(o,c,ee,h),O=o.memoizedState),(P=$s||ww(o,c,P,h,Z,O,q))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),b.props=h,b.state=O,b.context=q,h=P):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{b=o.stateNode,Kv(i,o),P=o.memoizedProps,q=o.type===o.elementType?P:vr(o.type,P),b.props=q,re=o.pendingProps,Z=b.context,O=c.contextType,typeof O=="object"&&O!==null?O=Yn(O):(O=In(c)?Gi:Zt.current,O=ha(o,O));var ce=c.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==re||Z!==O)&&xw(o,b,h,O),$s=!1,Z=o.memoizedState,b.state=Z,gd(o,h,b,m);var he=o.memoizedState;P!==re||Z!==he||Tn.current||$s?(typeof ce=="function"&&(Op(o,c,ce,h),he=o.memoizedState),(q=$s||ww(o,c,q,h,Z,he,O)||!1)?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,he,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,he,O)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=he),b.props=h,b.state=he,b.context=O,h=q):(typeof b.componentDidUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),h=!1)}return Up(i,o,c,h,w,m)}function Up(i,o,c,h,m,w){Rw(i,o);var b=(o.flags&128)!==0;if(!h&&!b)return m&&Vv(o,c,!1),fs(i,o,w);h=o.stateNode,EC.current=o;var P=b&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&b?(o.child=ga(o,i.child,null,w),o.child=ga(o,null,P,w)):pn(i,o,P,w),o.memoizedState=h.state,m&&Vv(o,c,!0),o.child}function Dw(i){var o=i.stateNode;o.pendingContext?Ov(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ov(i,o.context,!1),bp(i,o.containerInfo)}function Mw(i,o,c,h,m){return ma(),gp(m),o.flags|=256,pn(i,o,c,h),o.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ow(i,o,c){var h=o.pendingProps,m=at.current,w=!1,b=(o.flags&128)!==0,P;if((P=b)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Je(at,m&1),i===null)return mp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=h.children,i=h.fallback,w?(h=o.mode,w=o.child,b={mode:"hidden",children:b},(h&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Vd(b,h,0,null),i=ro(i,h,c,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=zp(c),o.memoizedState=Bp,i):$p(o,b));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return bC(i,o,b,h,P,m,c);if(w){w=h.fallback,b=o.mode,m=i.child,P=m.sibling;var O={mode:"hidden",children:h.children};return(b&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Ys(m,O),h.subtreeFlags=m.subtreeFlags&14680064),P!==null?w=Ys(P,w):(w=ro(w,b,c,null),w.flags|=2),w.return=o,h.return=o,h.sibling=w,o.child=h,h=w,w=o.child,b=i.child.memoizedState,b=b===null?zp(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=i.childLanes&~c,o.memoizedState=Bp,h}return w=i.child,i=w.sibling,h=Ys(w,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function $p(i,o){return o=Vd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Td(i,o,c,h){return h!==null&&gp(h),ga(o,i.child,null,c),i=$p(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function bC(i,o,c,h,m,w,b){if(c)return o.flags&256?(o.flags&=-257,h=Vp(Error(n(422))),Td(i,o,b,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=h.fallback,m=o.mode,h=Vd({mode:"visible",children:h.children},m,0,null),w=ro(w,m,b,null),w.flags|=2,h.return=o,w.return=o,h.sibling=w,o.child=h,(o.mode&1)!==0&&ga(o,i.child,null,b),o.child.memoizedState=zp(b),o.memoizedState=Bp,w);if((o.mode&1)===0)return Td(i,o,b,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var P=h.dgst;return h=P,w=Error(n(419)),h=Vp(w,h,void 0),Td(i,o,b,h)}if(P=(b&i.childLanes)!==0,Sn||P){if(h=jt,h!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|b))!==0?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,ds(i,m),xr(h,i,m,-1))}return im(),h=Vp(Error(n(421))),Td(i,o,b,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=LC.bind(null,i),m._reactRetry=o,null):(i=w.treeContext,Vn=Fs(m.nextSibling),Ln=o,ot=!0,yr=null,i!==null&&(Kn[Qn++]=cs,Kn[Qn++]=us,Kn[Qn++]=Ki,cs=i.id,us=i.overflow,Ki=o),o=$p(o,h.children),o.flags|=4096,o)}function Lw(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),_p(i.return,o,c)}function Hp(i,o,c,h,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=m)}function Vw(i,o,c){var h=o.pendingProps,m=h.revealOrder,w=h.tail;if(pn(i,o,h.children,c),h=at.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lw(i,c,o);else if(i.tag===19)Lw(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Je(at,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)i=c.alternate,i!==null&&yd(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Hp(o,!1,m,c,w);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&yd(i)===null){o.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Hp(o,!0,c,null,w);break;case"together":Hp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Id(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function fs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Zi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Ys(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Ys(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function TC(i,o,c){switch(o.tag){case 3:Dw(o),ma();break;case 5:Xv(o);break;case 1:In(o.type)&&ad(o);break;case 4:bp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Je(fd,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Je(at,at.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Ow(i,o,c):(Je(at,at.current&1),i=fs(i,o,c),i!==null?i.sibling:null);Je(at,at.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Vw(i,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(at,at.current),h)break;return null;case 22:case 23:return o.lanes=0,Pw(i,o,c)}return fs(i,o,c)}var jw,Wp,Fw,Uw;jw=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Wp=function(){},Fw=function(i,o,c,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,Xi(Or.current);var w=null;switch(c){case"input":m=Pi(i,m),h=Pi(i,h),w=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),w=[];break;case"textarea":m=vl(i,m),h=vl(i,h),w=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=sd)}Tl(c,h);var b;c=null;for(q in m)if(!h.hasOwnProperty(q)&&m.hasOwnProperty(q)&&m[q]!=null)if(q==="style"){var P=m[q];for(b in P)P.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(s.hasOwnProperty(q)?w||(w=[]):(w=w||[]).push(q,null));for(q in h){var O=h[q];if(P=m?.[q],h.hasOwnProperty(q)&&O!==P&&(O!=null||P!=null))if(q==="style")if(P){for(b in P)!P.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in O)O.hasOwnProperty(b)&&P[b]!==O[b]&&(c||(c={}),c[b]=O[b])}else c||(w||(w=[]),w.push(q,c)),c=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(w=w||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(w=w||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(s.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&tt("scroll",i),w||P===O||(w=[])):(w=w||[]).push(q,O))}c&&(w=w||[]).push("style",c);var q=w;(o.updateQueue=q)&&(o.flags|=4)}},Uw=function(i,o,c,h){c!==h&&(o.flags|=4)};function sc(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function IC(i,o,c){var h=o.pendingProps;switch(fp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return In(o.type)&&od(),tn(o),null;case 3:return h=o.stateNode,wa(),nt(Tn),nt(Zt),Sp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(dd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,yr!==null&&(nm(yr),yr=null))),Wp(i,o),tn(o),null;case 5:Tp(o);var m=Xi(Zl.current);if(c=o.type,i!==null&&o.stateNode!=null)Fw(i,o,c,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return tn(o),null}if(i=Xi(Or.current),dd(o)){h=o.stateNode,c=o.type;var w=o.memoizedProps;switch(h[Mr]=o,h[Kl]=w,i=(o.mode&1)!==0,c){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(m=0;m<Wl.length;m++)tt(Wl[m],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":Mo(h,w),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!w.multiple},tt("invalid",h);break;case"textarea":Lo(h,w),tt("invalid",h)}Tl(c,w),m=null;for(var b in w)if(w.hasOwnProperty(b)){var P=w[b];b==="children"?typeof P=="string"?h.textContent!==P&&(w.suppressHydrationWarning!==!0&&rd(h.textContent,P,i),m=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&rd(h.textContent,P,i),m=["children",""+P]):s.hasOwnProperty(b)&&P!=null&&b==="onScroll"&&tt("scroll",h)}switch(c){case"input":Xr(h),Au(h,w,!0);break;case"textarea":Xr(h),wl(h);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(h.onclick=sd)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ct(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=b.createElement(c,{is:h.is}):(i=b.createElement(c),c==="select"&&(b=i,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):i=b.createElementNS(i,c),i[Mr]=o,i[Kl]=h,jw(i,o,!1,!1),o.stateNode=i;e:{switch(b=Il(c,h),c){case"dialog":tt("cancel",i),tt("close",i),m=h;break;case"iframe":case"object":case"embed":tt("load",i),m=h;break;case"video":case"audio":for(m=0;m<Wl.length;m++)tt(Wl[m],i);m=h;break;case"source":tt("error",i),m=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=h;break;case"details":tt("toggle",i),m=h;break;case"input":Mo(i,h),m=Pi(i,h),tt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Lo(i,h),m=vl(i,h),tt("invalid",i);break;default:m=h}Tl(c,m),P=m;for(w in P)if(P.hasOwnProperty(w)){var O=P[w];w==="style"?El(i,O):w==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&_l(i,O)):w==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&Cs(i,O):typeof O=="number"&&Cs(i,""+O):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?O!=null&&w==="onScroll"&&tt("scroll",i):O!=null&&F(i,w,O,b))}switch(c){case"input":Xr(i),Au(i,h,!1);break;case"textarea":Xr(i),wl(i);break;case"option":h.value!=null&&i.setAttribute("value",""+$e(h.value));break;case"select":i.multiple=!!h.multiple,w=h.value,w!=null?Zr(i,!!h.multiple,w,!1):h.defaultValue!=null&&Zr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=sd)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(i&&o.stateNode!=null)Uw(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(c=Xi(Zl.current),Xi(Or.current),dd(o)){if(h=o.stateNode,c=o.memoizedProps,h[Mr]=o,(w=h.nodeValue!==c)&&(i=Ln,i!==null))switch(i.tag){case 3:rd(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&rd(h.nodeValue,c,(i.mode&1)!==0)}w&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Mr]=o,o.stateNode=h}return tn(o),null;case 13:if(nt(at),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ot&&Vn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)$v(),ma(),o.flags|=98560,w=!1;else if(w=dd(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Mr]=o}else ma(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),w=!1}else yr!==null&&(nm(yr),yr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?Nt===0&&(Nt=3):im())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return wa(),Wp(i,o),i===null&&ql(o.stateNode.containerInfo),tn(o),null;case 10:return wp(o.type._context),tn(o),null;case 17:return In(o.type)&&od(),tn(o),null;case 19:if(nt(at),w=o.memoizedState,w===null)return tn(o),null;if(h=(o.flags&128)!==0,b=w.rendering,b===null)if(h)sc(w,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=yd(i),b!==null){for(o.flags|=128,sc(w,!1),h=b.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)w=c,i=h,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,i=b.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Je(at,at.current&1|2),o.child}i=i.sibling}w.tail!==null&&Xe()>ba&&(o.flags|=128,h=!0,sc(w,!1),o.lanes=4194304)}else{if(!h)if(i=yd(b),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),sc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!ot)return tn(o),null}else 2*Xe()-w.renderingStartTime>ba&&c!==1073741824&&(o.flags|=128,h=!0,sc(w,!1),o.lanes=4194304);w.isBackwards?(b.sibling=o.child,o.child=b):(c=w.last,c!==null?c.sibling=b:o.child=b,w.last=b)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=Xe(),o.sibling=null,c=at.current,Je(at,h?c&1|2:c&1),o):(tn(o),null);case 22:case 23:return sm(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(jn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function SC(i,o){switch(fp(o),o.tag){case 1:return In(o.type)&&od(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return wa(),nt(Tn),nt(Zt),Sp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Tp(o),null;case 13:if(nt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ma()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(at),null;case 4:return wa(),null;case 10:return wp(o.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var Sd=!1,nn=!1,kC=typeof WeakSet=="function"?WeakSet:Set,de=null;function xa(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(i,o,h)}else c.current=null}function qp(i,o,c){try{c()}catch(h){dt(i,o,h)}}var Bw=!1;function CC(i,o){if(sp=Ls,i=wv(),Yf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var b=0,P=-1,O=-1,q=0,ee=0,re=i,Z=null;t:for(;;){for(var ce;re!==c||m!==0&&re.nodeType!==3||(P=b+m),re!==w||h!==0&&re.nodeType!==3||(O=b+h),re.nodeType===3&&(b+=re.nodeValue.length),(ce=re.firstChild)!==null;)Z=re,re=ce;for(;;){if(re===i)break t;if(Z===c&&++q===m&&(P=b),Z===w&&++ee===h&&(O=b),(ce=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=ce}c=P===-1||O===-1?null:{start:P,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(ip={focusedElem:i,selectionRange:c},Ls=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,gt=he.memoizedState,H=o.stateNode,L=H.getSnapshotBeforeUpdate(o.elementType===o.type?pe:vr(o.type,pe),gt);H.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){dt(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return he=Bw,Bw=!1,he}function ic(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var w=m.destroy;m.destroy=void 0,w!==void 0&&qp(o,c,w)}m=m.next}while(m!==h)}}function kd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Gp(i){var o=i.ref;if(o!==null){var c=i.stateNode;i.tag,i=c,typeof o=="function"?o(i):o.current=i}}function zw(i){var o=i.alternate;o!==null&&(i.alternate=null,zw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Mr],delete o[Kl],delete o[cp],delete o[uC],delete o[dC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $w(i){return i.tag===5||i.tag===3||i.tag===4}function Hw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$w(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Kp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=sd));else if(h!==4&&(i=i.child,i!==null))for(Kp(i,o,c),i=i.sibling;i!==null;)Kp(i,o,c),i=i.sibling}function Qp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Qp(i,o,c),i=i.sibling;i!==null;)Qp(i,o,c),i=i.sibling}var Wt=null,wr=!1;function Ws(i,o,c){for(c=c.child;c!==null;)Ww(i,o,c),c=c.sibling}function Ww(i,o,c){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Fi,c)}catch{}switch(c.tag){case 5:nn||xa(c,o);case 6:var h=Wt,m=wr;Wt=null,Ws(i,o,c),Wt=h,wr=m,Wt!==null&&(wr?(i=Wt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Wt.removeChild(c.stateNode));break;case 18:Wt!==null&&(wr?(i=Wt,c=c.stateNode,i.nodeType===8?lp(i.parentNode,c):i.nodeType===1&&lp(i,c),pr(i)):lp(Wt,c.stateNode));break;case 4:h=Wt,m=wr,Wt=c.stateNode.containerInfo,wr=!0,Ws(i,o,c),Wt=h,wr=m;break;case 0:case 11:case 14:case 15:if(!nn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var w=m,b=w.destroy;w=w.tag,b!==void 0&&((w&2)!==0||(w&4)!==0)&&qp(c,o,b),m=m.next}while(m!==h)}Ws(i,o,c);break;case 1:if(!nn&&(xa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(P){dt(c,o,P)}Ws(i,o,c);break;case 21:Ws(i,o,c);break;case 22:c.mode&1?(nn=(h=nn)||c.memoizedState!==null,Ws(i,o,c),nn=h):Ws(i,o,c);break;default:Ws(i,o,c)}}function qw(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new kC),o.forEach(function(h){var m=VC.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}}function _r(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var w=i,b=o,P=b;e:for(;P!==null;){switch(P.tag){case 5:Wt=P.stateNode,wr=!1;break e;case 3:Wt=P.stateNode.containerInfo,wr=!0;break e;case 4:Wt=P.stateNode.containerInfo,wr=!0;break e}P=P.return}if(Wt===null)throw Error(n(160));Ww(w,b,m),Wt=null,wr=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(q){dt(m,o,q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gw(o,i),o=o.sibling}function Gw(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(_r(o,i),Vr(i),h&4){try{ic(3,i,i.return),kd(3,i)}catch(pe){dt(i,i.return,pe)}try{ic(5,i,i.return)}catch(pe){dt(i,i.return,pe)}}break;case 1:_r(o,i),Vr(i),h&512&&c!==null&&xa(c,c.return);break;case 5:if(_r(o,i),Vr(i),h&512&&c!==null&&xa(c,c.return),i.flags&32){var m=i.stateNode;try{Cs(m,"")}catch(pe){dt(i,i.return,pe)}}if(h&4&&(m=i.stateNode,m!=null)){var w=i.memoizedProps,b=c!==null?c.memoizedProps:w,P=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&gl(m,w),Il(P,b);var q=Il(P,w);for(b=0;b<O.length;b+=2){var ee=O[b],re=O[b+1];ee==="style"?El(m,re):ee==="dangerouslySetInnerHTML"?_l(m,re):ee==="children"?Cs(m,re):F(m,ee,re,q)}switch(P){case"input":yl(m,w);break;case"textarea":Vo(m,w);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var ce=w.value;ce!=null?Zr(m,!!w.multiple,ce,!1):Z!==!!w.multiple&&(w.defaultValue!=null?Zr(m,!!w.multiple,w.defaultValue,!0):Zr(m,!!w.multiple,w.multiple?[]:"",!1))}m[Kl]=w}catch(pe){dt(i,i.return,pe)}}break;case 6:if(_r(o,i),Vr(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,w=i.memoizedProps;try{m.nodeValue=w}catch(pe){dt(i,i.return,pe)}}break;case 3:if(_r(o,i),Vr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{pr(o.containerInfo)}catch(pe){dt(i,i.return,pe)}break;case 4:_r(o,i),Vr(i);break;case 13:_r(o,i),Vr(i),m=i.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(Jp=Xe())),h&4&&qw(i);break;case 22:if(ee=c!==null&&c.memoizedState!==null,i.mode&1?(nn=(q=nn)||ee,_r(o,i),nn=q):_r(o,i),Vr(i),h&8192){if(q=i.memoizedState!==null,(i.stateNode.isHidden=q)&&!ee&&(i.mode&1)!==0)for(de=i,ee=i.child;ee!==null;){for(re=de=ee;de!==null;){switch(Z=de,ce=Z.child,Z.tag){case 0:case 11:case 14:case 15:ic(4,Z,Z.return);break;case 1:xa(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){h=Z,c=Z.return;try{o=h,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(pe){dt(h,c,pe)}}break;case 5:xa(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Yw(re);continue}}ce!==null?(ce.return=Z,de=ce):Yw(re)}ee=ee.sibling}e:for(ee=null,re=i;;){if(re.tag===5){if(ee===null){ee=re;try{m=re.stateNode,q?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=re.stateNode,O=re.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=xl("display",b))}catch(pe){dt(i,i.return,pe)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=q?"":re.memoizedProps}catch(pe){dt(i,i.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:_r(o,i),Vr(i),h&4&&qw(i);break;case 21:break;default:_r(o,i),Vr(i)}}function Vr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if($w(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Cs(m,""),h.flags&=-33);var w=Hw(i);Qp(i,w,m);break;case 3:case 4:var b=h.stateNode.containerInfo,P=Hw(i);Kp(i,P,b);break;default:throw Error(n(161))}}catch(O){dt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function AC(i,o,c){de=i,Kw(i)}function Kw(i,o,c){for(var h=(i.mode&1)!==0;de!==null;){var m=de,w=m.child;if(m.tag===22&&h){var b=m.memoizedState!==null||Sd;if(!b){var P=m.alternate,O=P!==null&&P.memoizedState!==null||nn;P=Sd;var q=nn;if(Sd=b,(nn=O)&&!q)for(de=m;de!==null;)b=de,O=b.child,b.tag===22&&b.memoizedState!==null?Xw(m):O!==null?(O.return=b,de=O):Xw(m);for(;w!==null;)de=w,Kw(w),w=w.sibling;de=m,Sd=P,nn=q}Qw(i)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,de=w):Qw(i)}}function Qw(i){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||kd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!nn)if(c===null)h.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:vr(o.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Yv(o,w,h);break;case 3:var b=o.updateQueue;if(b!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Yv(o,b,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var q=o.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&pr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nn||o.flags&512&&Gp(o)}catch(Z){dt(o,o.return,Z)}}if(o===i){de=null;break}if(c=o.sibling,c!==null){c.return=o.return,de=c;break}de=o.return}}function Yw(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var c=o.sibling;if(c!==null){c.return=o.return,de=c;break}de=o.return}}function Xw(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{kd(4,o)}catch(O){dt(o,c,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){dt(o,m,O)}}var w=o.return;try{Gp(o)}catch(O){dt(o,w,O)}break;case 5:var b=o.return;try{Gp(o)}catch(O){dt(o,b,O)}}}catch(O){dt(o,o.return,O)}if(o===i){de=null;break}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break}de=o.return}}var PC=Math.ceil,Cd=Y.ReactCurrentDispatcher,Yp=Y.ReactCurrentOwner,Jn=Y.ReactCurrentBatchConfig,Fe=0,jt=null,xt=null,qt=0,jn=0,Ea=Us(0),Nt=0,oc=null,Zi=0,Ad=0,Xp=0,ac=null,kn=null,Jp=0,ba=1/0,ps=null,Pd=!1,Zp=null,qs=null,Rd=!1,Gs=null,Nd=0,lc=0,em=null,Dd=-1,Md=0;function mn(){return(Fe&6)!==0?Xe():Dd!==-1?Dd:Dd=Xe()}function Ks(i){return(i.mode&1)===0?1:(Fe&2)!==0&&qt!==0?qt&-qt:fC.transition!==null?(Md===0&&(Md=Bi()),Md):(i=Me,i!==0||(i=window.event,i=i===void 0?16:Ll(i.type)),i)}function xr(i,o,c,h){if(50<lc)throw lc=0,em=null,Error(n(185));Ns(i,c,h),((Fe&2)===0||i!==jt)&&(i===jt&&((Fe&2)===0&&(Ad|=c),Nt===4&&Qs(i,qt)),Cn(i,h),c===1&&Fe===0&&(o.mode&1)===0&&(ba=Xe()+500,ld&&zs()))}function Cn(i,o){var c=i.callbackNode;ns(i,o);var h=Ui(i,i===jt?qt:0);if(h===0)c!==null&&Rl(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&Rl(c),o===1)i.tag===0?hC(Zw.bind(null,i)):jv(Zw.bind(null,i)),lC(function(){(Fe&6)===0&&zs()}),c=null;else{switch(Ms(h)){case 1:c=ji;break;case 4:c=As;break;case 16:c=Wn;break;case 536870912:c=Mu;break;default:c=Wn}c=a_(c,Jw.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Jw(i,o){if(Dd=-1,Md=0,(Fe&6)!==0)throw Error(n(327));var c=i.callbackNode;if(Ta()&&i.callbackNode!==c)return null;var h=Ui(i,i===jt?qt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Od(i,h);else{o=h;var m=Fe;Fe|=2;var w=t_();(jt!==i||qt!==o)&&(ps=null,ba=Xe()+500,to(i,o));do try{DC();break}catch(P){e_(i,P)}while(!0);vp(),Cd.current=w,Fe=m,xt!==null?o=0:(jt=null,qt=0,o=Nt)}if(o!==0){if(o===2&&(m=Dn(i),m!==0&&(h=m,o=tm(i,m))),o===1)throw c=oc,to(i,0),Qs(i,h),Cn(i,Xe()),c;if(o===6)Qs(i,h);else{if(m=i.current.alternate,(h&30)===0&&!RC(m)&&(o=Od(i,h),o===2&&(w=Dn(i),w!==0&&(h=w,o=tm(i,w))),o===1))throw c=oc,to(i,0),Qs(i,h),Cn(i,Xe()),c;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:no(i,kn,ps);break;case 3:if(Qs(i,h),(h&130023424)===h&&(o=Jp+500-Xe(),10<o)){if(Ui(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){mn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=ap(no.bind(null,i,kn,ps),o);break}no(i,kn,ps);break;case 4:if(Qs(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var b=31-hn(h);w=1<<b,b=o[b],b>m&&(m=b),h&=~w}if(h=m,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*PC(h/1960))-h,10<h){i.timeoutHandle=ap(no.bind(null,i,kn,ps),h);break}no(i,kn,ps);break;case 5:no(i,kn,ps);break;default:throw Error(n(329))}}}return Cn(i,Xe()),i.callbackNode===c?Jw.bind(null,i):null}function tm(i,o){var c=ac;return i.current.memoizedState.isDehydrated&&(to(i,o).flags|=256),i=Od(i,o),i!==2&&(o=kn,kn=c,o!==null&&nm(o)),i}function nm(i){kn===null?kn=i:kn.push.apply(kn,i)}function RC(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],w=m.getSnapshot;m=m.value;try{if(!gr(w(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qs(i,o){for(o&=~Xp,o&=~Ad,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-hn(o),h=1<<c;i[c]=-1,o&=~h}}function Zw(i){if((Fe&6)!==0)throw Error(n(327));Ta();var o=Ui(i,0);if((o&1)===0)return Cn(i,Xe()),null;var c=Od(i,o);if(i.tag!==0&&c===2){var h=Dn(i);h!==0&&(o=h,c=tm(i,h))}if(c===1)throw c=oc,to(i,0),Qs(i,o),Cn(i,Xe()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,no(i,kn,ps),Cn(i,Xe()),null}function rm(i,o){var c=Fe;Fe|=1;try{return i(o)}finally{Fe=c,Fe===0&&(ba=Xe()+500,ld&&zs())}}function eo(i){Gs!==null&&Gs.tag===0&&(Fe&6)===0&&Ta();var o=Fe;Fe|=1;var c=Jn.transition,h=Me;try{if(Jn.transition=null,Me=1,i)return i()}finally{Me=h,Jn.transition=c,Fe=o,(Fe&6)===0&&zs()}}function sm(){jn=Ea.current,nt(Ea)}function to(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,aC(c)),xt!==null)for(c=xt.return;c!==null;){var h=c;switch(fp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&od();break;case 3:wa(),nt(Tn),nt(Zt),Sp();break;case 5:Tp(h);break;case 4:wa();break;case 13:nt(at);break;case 19:nt(at);break;case 10:wp(h.type._context);break;case 22:case 23:sm()}c=c.return}if(jt=i,xt=i=Ys(i.current,null),qt=jn=o,Nt=0,oc=null,Xp=Ad=Zi=0,kn=ac=null,Yi!==null){for(o=0;o<Yi.length;o++)if(c=Yi[o],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,w=c.pending;if(w!==null){var b=w.next;w.next=m,h.next=b}c.pending=h}Yi=null}return i}function e_(i,o){do{var c=xt;try{if(vp(),vd.current=Ed,wd){for(var h=lt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}wd=!1}if(Ji=0,Vt=Rt=lt=null,ec=!1,tc=0,Yp.current=null,c===null||c.return===null){Nt=1,oc=o,xt=null;break}e:{var w=i,b=c.return,P=c,O=o;if(o=qt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,ee=P,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=Iw(b);if(ce!==null){ce.flags&=-257,Sw(ce,b,P,w,o),ce.mode&1&&Tw(w,q,o),o=ce,O=q;var he=o.updateQueue;if(he===null){var pe=new Set;pe.add(O),o.updateQueue=pe}else he.add(O);break e}else{if((o&1)===0){Tw(w,q,o),im();break e}O=Error(n(426))}}else if(ot&&P.mode&1){var gt=Iw(b);if(gt!==null){(gt.flags&65536)===0&&(gt.flags|=256),Sw(gt,b,P,w,o),gp(_a(O,P));break e}}w=O=_a(O,P),Nt!==4&&(Nt=2),ac===null?ac=[w]:ac.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Ew(w,O,o);Qv(w,H);break e;case 1:P=O;var L=w.type,W=w.stateNode;if((w.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(qs===null||!qs.has(W)))){w.flags|=65536,o&=-o,w.lanes|=o;var ie=bw(w,P,o);Qv(w,ie);break e}}w=w.return}while(w!==null)}r_(c)}catch(ye){o=ye,xt===c&&c!==null&&(xt=c=c.return);continue}break}while(!0)}function t_(){var i=Cd.current;return Cd.current=Ed,i===null?Ed:i}function im(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),jt===null||(Zi&268435455)===0&&(Ad&268435455)===0||Qs(jt,qt)}function Od(i,o){var c=Fe;Fe|=2;var h=t_();(jt!==i||qt!==o)&&(ps=null,to(i,o));do try{NC();break}catch(m){e_(i,m)}while(!0);if(vp(),Fe=c,Cd.current=h,xt!==null)throw Error(n(261));return jt=null,qt=0,Nt}function NC(){for(;xt!==null;)n_(xt)}function DC(){for(;xt!==null&&!Nu();)n_(xt)}function n_(i){var o=o_(i.alternate,i,jn);i.memoizedProps=i.pendingProps,o===null?r_(i):xt=o,Yp.current=null}function r_(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=IC(c,o,jn),c!==null){xt=c;return}}else{if(c=SC(c,o),c!==null){c.flags&=32767,xt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Nt=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=i}while(o!==null);Nt===0&&(Nt=5)}function no(i,o,c){var h=Me,m=Jn.transition;try{Jn.transition=null,Me=1,MC(i,o,c,h)}finally{Jn.transition=m,Me=h}return null}function MC(i,o,c,h){do Ta();while(Gs!==null);if((Fe&6)!==0)throw Error(n(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var w=c.lanes|c.childLanes;if(Ke(i,w),i===jt&&(xt=jt=null,qt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Rd||(Rd=!0,a_(Wn,function(){return Ta(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Jn.transition,Jn.transition=null;var b=Me;Me=1;var P=Fe;Fe|=4,Yp.current=null,CC(i,c),Gw(c,i),eC(ip),Ls=!!sp,ip=sp=null,i.current=c,AC(c),zf(),Fe=P,Me=b,Jn.transition=w}else i.current=c;if(Rd&&(Rd=!1,Gs=i,Nd=m),w=i.pendingLanes,w===0&&(qs=null),Ou(c.stateNode),Cn(i,Xe()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)m=o[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Pd)throw Pd=!1,i=Zp,Zp=null,i;return(Nd&1)!==0&&i.tag!==0&&Ta(),w=i.pendingLanes,(w&1)!==0?i===em?lc++:(lc=0,em=i):lc=0,zs(),null}function Ta(){if(Gs!==null){var i=Ms(Nd),o=Jn.transition,c=Me;try{if(Jn.transition=null,Me=16>i?16:i,Gs===null)var h=!1;else{if(i=Gs,Gs=null,Nd=0,(Fe&6)!==0)throw Error(n(331));var m=Fe;for(Fe|=4,de=i.current;de!==null;){var w=de,b=w.child;if((de.flags&16)!==0){var P=w.deletions;if(P!==null){for(var O=0;O<P.length;O++){var q=P[O];for(de=q;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:ic(8,ee,w)}var re=ee.child;if(re!==null)re.return=ee,de=re;else for(;de!==null;){ee=de;var Z=ee.sibling,ce=ee.return;if(zw(ee),ee===q){de=null;break}if(Z!==null){Z.return=ce,de=Z;break}de=ce}}}var he=w.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var gt=pe.sibling;pe.sibling=null,pe=gt}while(pe!==null)}}de=w}}if((w.subtreeFlags&2064)!==0&&b!==null)b.return=w,de=b;else e:for(;de!==null;){if(w=de,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ic(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,de=H;break e}de=w.return}}var L=i.current;for(de=L;de!==null;){b=de;var W=b.child;if((b.subtreeFlags&2064)!==0&&W!==null)W.return=b,de=W;else e:for(b=L;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:kd(9,P)}}catch(ye){dt(P,P.return,ye)}if(P===b){de=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,de=ie;break e}de=P.return}}if(Fe=m,zs(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Fi,i)}catch{}h=!0}return h}finally{Me=c,Jn.transition=o}}return!1}function s_(i,o,c){o=_a(c,o),o=Ew(i,o,1),i=Hs(i,o,1),o=mn(),i!==null&&(Ns(i,1,o),Cn(i,o))}function dt(i,o,c){if(i.tag===3)s_(i,i,c);else for(;o!==null;){if(o.tag===3){s_(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qs===null||!qs.has(h))){i=_a(c,i),i=bw(o,i,1),o=Hs(o,i,1),i=mn(),o!==null&&(Ns(o,1,i),Cn(o,i));break}}o=o.return}}function OC(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=mn(),i.pingedLanes|=i.suspendedLanes&c,jt===i&&(qt&c)===c&&(Nt===4||Nt===3&&(qt&130023424)===qt&&500>Xe()-Jp?to(i,0):Xp|=c),Cn(i,o)}function i_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Go,Go<<=1,(Go&130023424)===0&&(Go=4194304)));var c=mn();i=ds(i,o),i!==null&&(Ns(i,o,c),Cn(i,c))}function LC(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),i_(i,c)}function VC(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),i_(i,c)}var o_;o_=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Tn.current)Sn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Sn=!1,TC(i,o,c);Sn=(i.flags&131072)!==0}else Sn=!1,ot&&(o.flags&1048576)!==0&&Fv(o,ud,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Id(i,o),i=o.pendingProps;var m=ha(o,Zt.current);va(o,c),m=Ap(null,o,h,i,m,c);var w=Pp();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,In(h)?(w=!0,ad(o)):w=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ep(o),m.updater=bd,o.stateNode=m,m._reactInternals=o,Lp(o,h,i,c),o=Up(null,o,h,!0,w,c)):(o.tag=0,ot&&w&&hp(o),pn(null,o,m,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Id(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=FC(h),i=vr(h,i),m){case 0:o=Fp(null,o,h,i,c);break e;case 1:o=Nw(null,o,h,i,c);break e;case 11:o=kw(null,o,h,i,c);break e;case 14:o=Cw(null,o,h,vr(h.type,i),c);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:vr(h,m),Fp(i,o,h,m,c);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:vr(h,m),Nw(i,o,h,m,c);case 3:e:{if(Dw(o),i===null)throw Error(n(387));h=o.pendingProps,w=o.memoizedState,m=w.element,Kv(i,o),gd(o,h,null,c);var b=o.memoizedState;if(h=b.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){m=_a(Error(n(423)),o),o=Mw(i,o,h,c,m);break e}else if(h!==m){m=_a(Error(n(424)),o),o=Mw(i,o,h,c,m);break e}else for(Vn=Fs(o.stateNode.containerInfo.firstChild),Ln=o,ot=!0,yr=null,c=qv(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ma(),h===m){o=fs(i,o,c);break e}pn(i,o,h,c)}o=o.child}return o;case 5:return Xv(o),i===null&&mp(o),h=o.type,m=o.pendingProps,w=i!==null?i.memoizedProps:null,b=m.children,op(h,m)?b=null:w!==null&&op(h,w)&&(o.flags|=32),Rw(i,o),pn(i,o,b,c),o.child;case 6:return i===null&&mp(o),null;case 13:return Ow(i,o,c);case 4:return bp(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ga(o,null,h,c):pn(i,o,h,c),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:vr(h,m),kw(i,o,h,m,c);case 7:return pn(i,o,o.pendingProps,c),o.child;case 8:return pn(i,o,o.pendingProps.children,c),o.child;case 12:return pn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,w=o.memoizedProps,b=m.value,Je(fd,h._currentValue),h._currentValue=b,w!==null)if(gr(w.value,b)){if(w.children===m.children&&!Tn.current){o=fs(i,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var P=w.dependencies;if(P!==null){b=w.child;for(var O=P.firstContext;O!==null;){if(O.context===h){if(w.tag===1){O=hs(-1,c&-c),O.tag=2;var q=w.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),q.pending=O}}w.lanes|=c,O=w.alternate,O!==null&&(O.lanes|=c),_p(w.return,c,o),P.lanes|=c;break}O=O.next}}else if(w.tag===10)b=w.type===o.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(n(341));b.lanes|=c,P=b.alternate,P!==null&&(P.lanes|=c),_p(b,c,o),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===o){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}pn(i,o,m.children,c),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,va(o,c),m=Yn(m),h=h(m),o.flags|=1,pn(i,o,h,c),o.child;case 14:return h=o.type,m=vr(h,o.pendingProps),m=vr(h.type,m),Cw(i,o,h,m,c);case 15:return Aw(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:vr(h,m),Id(i,o),o.tag=1,In(h)?(i=!0,ad(o)):i=!1,va(o,c),_w(o,h,m),Lp(o,h,m,c),Up(null,o,h,!0,i,c);case 19:return Vw(i,o,c);case 22:return Pw(i,o,c)}throw Error(n(156,o.tag))};function a_(i,o){return Wo(i,o)}function jC(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,o,c,h){return new jC(i,o,c,h)}function om(i){return i=i.prototype,!(!i||!i.isReactComponent)}function FC(i){if(typeof i=="function")return om(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===kt)return 14}return 2}function Ys(i,o){var c=i.alternate;return c===null?(c=Zn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Ld(i,o,c,h,m,w){var b=2;if(h=i,typeof i=="function")om(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case M:return ro(c.children,m,w,o);case S:b=8,m|=8;break;case A:return i=Zn(12,c,o,m|2),i.elementType=A,i.lanes=w,i;case R:return i=Zn(13,c,o,m),i.elementType=R,i.lanes=w,i;case st:return i=Zn(19,c,o,m),i.elementType=st,i.lanes=w,i;case Se:return Vd(c,m,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:b=10;break e;case V:b=9;break e;case U:b=11;break e;case kt:b=14;break e;case zt:b=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Zn(b,c,o,m),o.elementType=i,o.type=h,o.lanes=w,o}function ro(i,o,c,h){return i=Zn(7,i,h,o),i.lanes=c,i}function Vd(i,o,c,h){return i=Zn(22,i,h,o),i.elementType=Se,i.lanes=c,i.stateNode={isHidden:!1},i}function am(i,o,c){return i=Zn(6,i,null,o),i.lanes=c,i}function lm(i,o,c){return o=Zn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function UC(i,o,c,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rs(0),this.expirationTimes=Rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function cm(i,o,c,h,m,w,b,P,O){return i=new UC(i,o,c,P,O),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Zn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(w),i}function BC(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function l_(i){if(!i)return Bs;i=i._reactInternals;e:{if(cr(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(In(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(In(c))return Lv(i,c,o)}return o}function c_(i,o,c,h,m,w,b,P,O){return i=cm(c,h,!0,i,m,w,b,P,O),i.context=l_(null),c=i.current,h=mn(),m=Ks(c),w=hs(h,m),w.callback=o??null,Hs(c,w,m),i.current.lanes=m,Ns(i,m,h),Cn(i,h),i}function jd(i,o,c,h){var m=o.current,w=mn(),b=Ks(m);return c=l_(c),o.context===null?o.context=c:o.pendingContext=c,o=hs(w,b),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Hs(m,o,b),i!==null&&(xr(i,m,b,w),md(i,m,b)),b}function Fd(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function u_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function um(i,o){u_(i,o),(i=i.alternate)&&u_(i,o)}function zC(){return null}var d_=typeof reportError=="function"?reportError:function(i){console.error(i)};function dm(i){this._internalRoot=i}Ud.prototype.render=dm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));jd(i,o,null,null)},Ud.prototype.unmount=dm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;eo(function(){jd(null,i,null,null)}),o[as]=null}};function Ud(i){this._internalRoot=i}Ud.prototype.unstable_scheduleHydration=function(i){if(i){var o=Uu();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Pr.length&&o!==0&&o<Pr[c].priority;c++);Pr.splice(c,0,i),c===0&&$u(i)}};function hm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Bd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function h_(){}function $C(i,o,c,h,m){if(m){if(typeof h=="function"){var w=h;h=function(){var q=Fd(b);w.call(q)}}var b=c_(o,h,i,0,null,!1,!1,"",h_);return i._reactRootContainer=b,i[as]=b.current,ql(i.nodeType===8?i.parentNode:i),eo(),b}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var P=h;h=function(){var q=Fd(O);P.call(q)}}var O=cm(i,0,!1,null,null,!1,!1,"",h_);return i._reactRootContainer=O,i[as]=O.current,ql(i.nodeType===8?i.parentNode:i),eo(function(){jd(o,O,c,h)}),O}function zd(i,o,c,h,m){var w=c._reactRootContainer;if(w){var b=w;if(typeof m=="function"){var P=m;m=function(){var O=Fd(b);P.call(O)}}jd(o,b,i,m)}else b=$C(c,o,i,m,h);return Fd(b)}ju=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ps(o.pendingLanes);c!==0&&(Ds(o,c|1),Cn(o,Xe()),(Fe&6)===0&&(ba=Xe()+500,zs()))}break;case 13:eo(function(){var h=ds(i,1);if(h!==null){var m=mn();xr(h,i,1,m)}}),um(i,1)}},Ko=function(i){if(i.tag===13){var o=ds(i,134217728);if(o!==null){var c=mn();xr(o,i,134217728,c)}um(i,134217728)}},Fu=function(i){if(i.tag===13){var o=Ks(i),c=ds(i,o);if(c!==null){var h=mn();xr(c,i,o,h)}um(i,o)}},Uu=function(){return Me},Bu=function(i,o){var c=Me;try{return Me=i,o()}finally{Me=c}},Fo=function(i,o,c){switch(o){case"input":if(yl(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var m=id(h);if(!m)throw Error(n(90));Do(h),yl(h,m)}}}break;case"textarea":Vo(i,c);break;case"select":o=c.value,o!=null&&Zr(i,!!c.multiple,o,!1)}},Mi=rm,kl=eo;var HC={usingClientEntryPoint:!1,Events:[Ql,ua,id,Cr,Sl,rm]},cc={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WC={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Pl(i),i===null?null:i.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||zC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Fi=$d.inject(WC),Nn=$d}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC,An.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(o))throw Error(n(200));return BC(i,o,null,c)},An.createRoot=function(i,o){if(!hm(i))throw Error(n(299));var c=!1,h="",m=d_;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=cm(i,1,!1,null,null,c,!1,h,m),i[as]=o.current,ql(i.nodeType===8?i.parentNode:i),new dm(o)},An.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Pl(o),i=i===null?null:i.stateNode,i},An.flushSync=function(i){return eo(i)},An.hydrate=function(i,o,c){if(!Bd(o))throw Error(n(200));return zd(null,i,o,!0,c)},An.hydrateRoot=function(i,o,c){if(!hm(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,m=!1,w="",b=d_;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),o=c_(o,null,i,1,c??null,m,!1,w,b),i[as]=o.current,ql(i),h)for(i=0;i<h.length;i++)c=h[i],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Ud(o)},An.render=function(i,o,c){if(!Bd(o))throw Error(n(200));return zd(null,i,o,!1,c)},An.unmountComponentAtNode=function(i){if(!Bd(i))throw Error(n(40));return i._reactRootContainer?(eo(function(){zd(null,null,i,!1,function(){i._reactRootContainer=null,i[as]=null})}),!0):!1},An.unstable_batchedUpdates=rm,An.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Bd(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return zd(i,o,c,!1,h)},An.version="18.3.1-next-f1338f8080-20240426",An}var __;function n1(){if(__)return mm.exports;__=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mm.exports=eA(),mm.exports}var x_;function tA(){if(x_)return Hd;x_=1;var t=n1();return Hd.createRoot=t.createRoot,Hd.hydrateRoot=t.hydrateRoot,Hd}var nA=tA();const rA=t1(nA);n1();function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}var oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oi||(oi={}));const E_="popstate";function sA(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return tg("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:r1(s)}return oA(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iA(){return Math.random().toString(36).substr(2,8)}function b_(t,e){return{usr:t.state,key:t.key,idx:e}}function tg(t,e,n,r){return n===void 0&&(n=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nl(e):e,{state:n,key:e&&e.key||r||iA()})}function r1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=oi.Pop,f=null,p=y();p==null&&(p=0,l.replaceState(Dc({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function _(){d=oi.Pop;let C=y(),z=C==null?null:C-p;p=C,f&&f({action:d,location:N.location,delta:z})}function E(C,z){d=oi.Push;let G=tg(N.location,C,z);p=y()+1;let F=b_(G,p),Y=N.createHref(G);try{l.pushState(F,"",Y)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(Y)}a&&f&&f({action:d,location:N.location,delta:1})}function T(C,z){d=oi.Replace;let G=tg(N.location,C,z);p=y();let F=b_(G,p),Y=N.createHref(G);l.replaceState(F,"",Y),a&&f&&f({action:d,location:N.location,delta:0})}function k(C){let z=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof C=="string"?C:r1(C);return G=G.replace(/ $/,"%20"),St(z,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,z)}let N={get action(){return d},get location(){return t(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(E_,_),f=C,()=>{s.removeEventListener(E_,_),f=null}},createHref(C){return e(s,C)},createURL:k,encodeLocation(C){let z=k(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:T,go(C){return l.go(C)}};return N}var T_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T_||(T_={}));function aA(t,e,n){return n===void 0&&(n="/"),lA(t,e,n)}function lA(t,e,n,r){let s=typeof e=="string"?nl(e):e,a=o1(s.pathname||"/",n);if(a==null)return null;let l=s1(t);cA(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=xA(a);d=vA(l[f],p)}return d}function s1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(St(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=fo([r,f.relativePath]),y=n.concat(f);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),s1(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:gA(p,a.index),routesMeta:y})};return t.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let f of i1(a.path))s(a,l,f)}),e}function i1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=i1(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function cA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uA=/^:[\w-]+$/,dA=3,hA=2,fA=1,pA=10,mA=-2,I_=t=>t==="*";function gA(t,e){let n=t.split("/"),r=n.length;return n.some(I_)&&(r+=mA),e&&(r+=hA),n.filter(s=>!I_(s)).reduce((s,a)=>s+(uA.test(a)?dA:a===""?fA:pA),r)}function yA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vA(t,e,n){let{routesMeta:r}=t,s={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=wA({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:fo([a,_.pathname]),pathnameBase:SA(fo([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=fo([a,_.pathnameBase]))}return l}function wA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_A(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,y,_)=>{let{paramName:E,isOptional:T}=y;if(E==="*"){let N=d[_]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const k=d[_];return T&&!k?p[E]=void 0:p[E]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function _A(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bA=t=>EA.test(t);function TA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?nl(t):t,a;if(n)if(bA(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),iy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=S_(n.substring(1),"/"):a=S_(n,e)}else a=e;return{pathname:a,search:kA(r),hash:CA(s)}}function S_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a1(t,e){let n=IA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=nl(t):(s=Dc({},t),St(!s.pathname||!s.pathname.includes("?"),vm("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),vm("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),vm("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}d=_>=0?e[_]:"/"}let f=TA(s,d),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}const fo=t=>t.join("/").replace(/\/\/+/g,"/"),SA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const c1=["post","put","patch","delete"];new Set(c1);const PA=["get",...c1];new Set(PA);function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const oy=j.createContext(null),RA=j.createContext(null),Zc=j.createContext(null),tf=j.createContext(null),So=j.createContext({outlet:null,matches:[],isDataRoute:!1}),u1=j.createContext(null);function eu(){return j.useContext(tf)!=null}function nf(){return eu()||St(!1),j.useContext(tf).location}function d1(t){j.useContext(Zc).static||j.useLayoutEffect(t)}function tu(){let{isDataRoute:t}=j.useContext(So);return t?HA():NA()}function NA(){eu()||St(!1);let t=j.useContext(oy),{basename:e,future:n,navigator:r}=j.useContext(Zc),{matches:s}=j.useContext(So),{pathname:a}=nf(),l=JSON.stringify(a1(s,n.v7_relativeSplatPath)),d=j.useRef(!1);return d1(()=>{d.current=!0}),j.useCallback(function(p,y){if(y===void 0&&(y={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let _=l1(p,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fo([e,_.pathname])),(y.replace?r.replace:r.push)(_,y.state,y)},[e,r,l,a,t])}function DA(t,e){return MA(t,e)}function MA(t,e,n,r){eu()||St(!1);let{navigator:s}=j.useContext(Zc),{matches:a}=j.useContext(So),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=nf(),y;if(e){var _;let C=typeof e=="string"?nl(e):e;f==="/"||(_=C.pathname)!=null&&_.startsWith(f)||St(!1),y=C}else y=p;let E=y.pathname||"/",T=E;if(f!=="/"){let C=f.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=aA(t,{pathname:T}),N=FA(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:fo([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:fo([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&N?j.createElement(tf.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:oi.Pop}},N):N}function OA(){let t=$A(),e=AA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const LA=j.createElement(OA,null);class VA extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(So.Provider,{value:this.props.routeContext},j.createElement(u1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jA(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(oy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(So.Provider,{value:e},r)}function FA(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(s=n)==null?void 0:s.errors;if(d!=null){let y=l.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);y>=0||St(!1),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=y),_.route.id){let{loaderData:E,errors:T}=n,k=_.route.loader&&E[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||k){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((y,_,E)=>{let T,k=!1,N=null,C=null;n&&(T=d&&_.route.id?d[_.route.id]:void 0,N=_.route.errorElement||LA,f&&(p<0&&E===0?(WA("route-fallback"),k=!0,C=null):p===E&&(k=!0,C=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,E+1)),G=()=>{let F;return T?F=N:k?F=C:_.route.Component?F=j.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=y,j.createElement(jA,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?j.createElement(VA,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:G(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):G()},null)}var h1=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(h1||{}),f1=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(f1||{});function UA(t){let e=j.useContext(oy);return e||St(!1),e}function BA(t){let e=j.useContext(RA);return e||St(!1),e}function zA(t){let e=j.useContext(So);return e||St(!1),e}function p1(t){let e=zA(),n=e.matches[e.matches.length-1];return n.route.id||St(!1),n.route.id}function $A(){var t;let e=j.useContext(u1),n=BA(),r=p1();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HA(){let{router:t}=UA(h1.UseNavigateStable),e=p1(f1.UseNavigateStable),n=j.useRef(!1);return d1(()=>{n.current=!0}),j.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mc({fromRouteId:e},a)))},[t,e])}const k_={};function WA(t,e,n){k_[t]||(k_[t]=!0)}function qA(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Wd(t){let{to:e,replace:n,state:r,relative:s}=t;eu()||St(!1);let{future:a,static:l}=j.useContext(Zc),{matches:d}=j.useContext(So),{pathname:f}=nf(),p=tu(),y=l1(e,a1(d,a.v7_relativeSplatPath),f,s==="path"),_=JSON.stringify(y);return j.useEffect(()=>p(JSON.parse(_),{replace:n,state:r,relative:s}),[p,_,s,n,r]),null}function ms(t){St(!1)}function GA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=oi.Pop,navigator:a,static:l=!1,future:d}=t;eu()&&St(!1);let f=e.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:f,navigator:a,static:l,future:Mc({v7_relativeSplatPath:!1},d)}),[f,d,a,l]);typeof r=="string"&&(r=nl(r));let{pathname:y="/",search:_="",hash:E="",state:T=null,key:k="default"}=r,N=j.useMemo(()=>{let C=o1(y,f);return C==null?null:{location:{pathname:C,search:_,hash:E,state:T,key:k},navigationType:s}},[f,y,_,E,T,k,s]);return N==null?null:j.createElement(Zc.Provider,{value:p},j.createElement(tf.Provider,{children:n,value:N}))}function KA(t){let{children:e,location:n}=t;return DA(ng(e),n)}new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let a=[...e,s];if(r.type===j.Fragment){n.push.apply(n,ng(r.props.children,a));return}r.type!==ms&&St(!1),!r.props.index||!r.props.children||St(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ng(r.props.children,a)),n.push(l)}),n}const QA="6";try{window.__reactRouterVersion=QA}catch{}const YA="startTransition",C_=XC[YA];function XA(t){let{basename:e,children:n,future:r,window:s}=t,a=j.useRef();a.current==null&&(a.current=sA({window:s,v5Compat:!0}));let l=a.current,[d,f]=j.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},y=j.useCallback(_=>{p&&C_?C_(()=>f(_)):f(_)},[f,p]);return j.useLayoutEffect(()=>l.listen(y),[l,y]),j.useEffect(()=>qA(r),[r]),j.createElement(GA,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}var A_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A_||(A_={}));var P_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(P_||(P_={}));var R_={};const m1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},JA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],d=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},g1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,d=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,y=a>>2,_=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,T=p&63;f||(T=64,l||(E=64)),r.push(n[y],n[_],n[E],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new ZA;const E=a<<2|d>>4;if(r.push(E),p!==64){const T=d<<4&240|p>>2;if(r.push(T),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eP=function(t){const e=m1(t);return g1.encodeByteArray(e,!0)},xh=function(t){return eP(t).replace(/\./g,"")},y1=function(t){try{return g1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nP=()=>tP().__FIREBASE_DEFAULTS__,rP=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y1(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return nP()||rP()||sP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v1=t=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ay=t=>{const e=v1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},w1=()=>{var t;return(t=rf())===null||t===void 0?void 0:t.config},_1=t=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${t}`]};class iP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function x1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xh(JSON.stringify(n)),xh(JSON.stringify(l)),""].join(".")}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function aP(){var t;const e=(t=rf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dP(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hP(){return!aP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fP(){try{return typeof indexedDB=="object"}catch{return!1}}function pP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}const mP="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mP,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?gP(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new Sr(s,d,r)}}function gP(t,e){return t.replace(yP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yP=/\{\$([^}]+)}/g;function vP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(N_(a)&&N_(l)){if(!Eh(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wP(t,e){const n=new _P(t,e);return n.subscribe.bind(n)}class _P{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wm),s.error===void 0&&(s.error=wm),s.complete===void 0&&(s.complete=wm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wm(){}function Qe(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oo="[DEFAULT]";class EP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TP(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bP(t){return t===oo?void 0:t}function TP(t){return t.instantiationMode==="EAGER"}class IP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const SP={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},kP=Oe.INFO,CP={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},AP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=CP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=AP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const PP=(t,e)=>e.some(n=>t instanceof n);let D_,M_;function RP(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NP(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,rg=new WeakMap,b1=new WeakMap,_m=new WeakMap,cy=new WeakMap;function DP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(hi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function MP(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OP(t){sg=t(sg)}function LP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xm(this),e,...n);return b1.set(r,e.sort?e.sort():[e]),hi(r)}:NP().includes(t)?function(...e){return t.apply(xm(this),e),hi(E1.get(this))}:function(...e){return hi(t.apply(xm(this),e))}}function VP(t){return typeof t=="function"?LP(t):(t instanceof IDBTransaction&&MP(t),PP(t,RP())?new Proxy(t,sg):t)}function hi(t){if(t instanceof IDBRequest)return DP(t);if(_m.has(t))return _m.get(t);const e=VP(t);return e!==t&&(_m.set(t,e),cy.set(e,t)),e}const xm=t=>cy.get(t);function jP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),d=hi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(hi(l.result),f.oldVersion,f.newVersion,hi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const FP=["get","getKey","getAll","getAllKeys","count"],UP=["put","add","delete","clear"],Em=new Map;function O_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FP.includes(n)))return;const a=async function(l,...d){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&f.done]))[0]};return Em.set(e,a),a}OP(t=>({...t,get:(e,n,r)=>O_(e,n)||t.get(e,n,r),has:(e,n)=>!!O_(e,n)||t.has(e,n)}));class BP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zP(t){const e=t.getComponent();return e?.type==="VERSION"}const ig="@firebase/app",L_="0.10.13";const Es=new ly("@firebase/app"),$P="@firebase/app-compat",HP="@firebase/analytics-compat",WP="@firebase/analytics",qP="@firebase/app-check-compat",GP="@firebase/app-check",KP="@firebase/auth",QP="@firebase/auth-compat",YP="@firebase/database",XP="@firebase/data-connect",JP="@firebase/database-compat",ZP="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",sR="@firebase/messaging-compat",iR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",cR="@firebase/storage",uR="@firebase/storage-compat",dR="@firebase/firestore",hR="@firebase/vertexai-preview",fR="@firebase/firestore-compat",pR="firebase",mR="10.14.1";const og="[DEFAULT]",gR={[ig]:"fire-core",[$P]:"fire-core-compat",[WP]:"fire-analytics",[HP]:"fire-analytics-compat",[GP]:"fire-app-check",[qP]:"fire-app-check-compat",[KP]:"fire-auth",[QP]:"fire-auth-compat",[YP]:"fire-rtdb",[XP]:"fire-data-connect",[JP]:"fire-rtdb-compat",[ZP]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[sR]:"fire-fcm-compat",[iR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[cR]:"fire-gcs",[uR]:"fire-gcs-compat",[dR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};const bh=new Map,yR=new Map,ag=new Map;function V_(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(ag.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of bh.values())V_(n,t);for(const n of yR.values())V_(n,t);return!0}function su(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new nu("app","Firebase",vR);class wR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}const ko=mR;function T1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw fi.create("bad-app-name",{appName:String(s)});if(n||(n=w1()),!n)throw fi.create("no-options");const a=bh.get(s);if(a){if(Eh(n,a.options)&&Eh(r,a.config))return a;throw fi.create("duplicate-app",{appName:s})}const l=new IP(s);for(const f of ag.values())l.addComponent(f);const d=new wR(n,r,l);return bh.set(s,d),d}function sf(t=og){const e=bh.get(t);if(!e&&t===og&&w1())return T1();if(!e)throw fi.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let s=(r=gR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}yi(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const _R="firebase-heartbeat-database",xR=1,Oc="firebase-heartbeat-store";let bm=null;function I1(){return bm||(bm=jP(_R,xR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),bm}async function ER(t){try{const n=(await I1()).transaction(Oc),r=await n.objectStore(Oc).get(S1(t));return await n.done,r}catch(e){if(e instanceof Sr)Es.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function j_(t,e){try{const r=(await I1()).transaction(Oc,"readwrite");await r.objectStore(Oc).put(e,S1(t)),await r.done}catch(n){if(n instanceof Sr)Es.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function S1(t){return`${t.name}!${t.options.appId}`}const bR=1024,TR=720*60*60*1e3;class IR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=TR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F_(),{heartbeatsToSend:r,unsentEntries:s}=SR(this._heartbeatsCache.heartbeats),a=xh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Es.warn(n),""}}}function F_(){return new Date().toISOString().substring(0,10)}function SR(t,e=bR){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),U_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),U_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fP()?pP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function U_(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}function CR(t){yi(new xs("platform-logger",e=>new BP(e),"PRIVATE")),yi(new xs("heartbeat",e=>new IR(e),"PRIVATE")),nr(ig,L_,t),nr(ig,L_,"esm2017"),nr("fire-js","")}CR("");function uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function k1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=k1,C1=new nu("auth","Firebase",k1());const Th=new ly("@firebase/auth");function PR(t,...e){Th.logLevel<=Oe.WARN&&Th.warn(`Auth (${ko}): ${t}`,...e)}function sh(t,...e){Th.logLevel<=Oe.ERROR&&Th.error(`Auth (${ko}): ${t}`,...e)}function Tr(t,...e){throw dy(t,...e)}function zr(t,...e){return dy(t,...e)}function A1(t,e,n){const r=Object.assign(Object.assign({},AR()),{[e]:n});return new nu("auth","Firebase",r).create(e,{appName:t.name})}function ws(t){return A1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C1.create(t,...e)}function Te(t,e,...n){if(!t)throw dy(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function bs(t,e){t||gs(e)}function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RR(){return B_()==="http:"||B_()==="https:"}function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||cP()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=oP()||uP()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hy(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class P1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OR=new iu(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,s={}){return R1(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=ru(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return lP()||(p.referrerPolicy="no-referrer"),P1.fetch()(N1(t,t.config.apiHost,n,d),p)})}async function R1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MR),e);try{const s=new VR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw qd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw qd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw qd(t,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw A1(t,y,p);Tr(t,y)}}catch(s){if(s instanceof Sr)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function ou(t,e,n,r,s={}){const a=await Si(t,e,n,r,s);return"mfaPendingCredential"in a&&Tr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function N1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?hy(t.config,s):`${t.config.apiScheme}://${s}`}function LR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),OR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=zr(t,e,r);return s.customData._tokenResponse=n,s}function z_(t){return t!==void 0&&t.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function FR(t,e){return Si(t,"GET","/v2/recaptchaConfig",Ii(t,e))}async function UR(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function D1(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),s=fy(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:xc(Tm(s.auth_time)),issuedAtTime:xc(Tm(s.iat)),expirationTime:xc(Tm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Tm(t){return Number(t)*1e3}function fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=y1(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $_(t){const e=fy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Lc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&zR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lc(t,D1(n,{idToken:r}));Te(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?M1(a.providerUserInfo):[],d=WR(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!d?.length,y=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new cg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function HR(t){const e=Qe(t);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function M1(t){return t.map(e=>{var{providerId:n}=e,r=uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function qR(t,e){const n=await R1(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=N1(t,s,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",P1.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GR(t,e){return Si(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=$_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await qR(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new La;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return gs("not implemented")}}function Js(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Lc(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,d,f,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(s=n.email)!==null&&s!==void 0?s:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,z=(p=n.createdAt)!==null&&p!==void 0?p:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:Y,isAnonymous:te,providerData:ae,stsTokenManager:M}=n;Te(F&&M,e,"internal-error");const S=La.fromJSON(this.name,M);Te(typeof F=="string",e,"internal-error"),Js(_,e.name),Js(E,e.name),Te(typeof Y=="boolean",e,"internal-error"),Te(typeof te=="boolean",e,"internal-error"),Js(T,e.name),Js(k,e.name),Js(N,e.name),Js(C,e.name),Js(z,e.name),Js(G,e.name);const A=new ys({uid:F,auth:e,email:E,emailVerified:Y,displayName:_,isAnonymous:te,photoURL:k,phoneNumber:T,tenantId:N,stsTokenManager:S,createdAt:z,lastLoginAt:G});return ae&&Array.isArray(ae)&&(A.providerData=ae.map(D=>Object.assign({},D))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new La;s.updateFromServerResponse(n);const a=new ys({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ih(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?M1(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,d=new La;d.updateFromIdToken(r);const f=new ys({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const H_=new Map;function vs(t){bs(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O1.type="NONE";const W_=O1;function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ih(this.userKey,s.apiKey,a),this.fullPersistenceKey=ih("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Va(vs(W_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||vs(W_);const l=ih(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(l);if(y){const _=ys._fromJSON(e,y);p!==a&&(d=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Va(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Va(a,e,r))}}function q_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(z1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||j1(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function L1(t=un()){return/firefox\//i.test(t)}function V1(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j1(t=un()){return/crios\//i.test(t)}function F1(t=un()){return/iemobile/i.test(t)}function U1(t=un()){return/android/i.test(t)}function B1(t=un()){return/blackberry/i.test(t)}function z1(t=un()){return/webos/i.test(t)}function py(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KR(t=un()){var e;return py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QR(){return dP()&&document.documentMode===10}function $1(t=un()){return py(t)||U1(t)||z1(t)||B1(t)||/windows phone/i.test(t)||F1(t)}function H1(t,e=[]){let n;switch(t){case"Browser":n=q_(un());break;case"Worker":n=`${q_(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function XR(t,e={}){return Si(t,"GET","/v2/passwordPolicy",Ii(t,e))}const JR=6;class ZR{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:JR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class eN{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await D1(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(ws(this));const n=e?Qe(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),n=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&PR(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Co(t){return Qe(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wP(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let of={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tN(t){of=t}function W1(t){return of.loadJS(t)}function nN(){return of.recaptchaEnterpriseScript}function rN(){return of.gapiScript}function sN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iN="recaptcha-enterprise",oN="NO_RECAPTCHA";class aN{constructor(e){this.type=iN,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{FR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new jR(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,l,d){const f=window.grecaptcha;z_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(oN)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&z_(window.grecaptcha))s(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=nN();f.length!==0&&(f+=d),W1(f).then(()=>{s(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function K_(t,e,n,r=!1){const s=new aN(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ug(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await K_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await K_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}function lN(t,e){const n=su(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Eh(a,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function cN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function uN(t,e,n){const r=Co(t);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=q1(e),{host:l,port:d}=dN(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),hN()}function q1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dN(t){const e=q1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Q_(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Q_(l)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class my{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function fN(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}async function pN(t,e){return ou(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function mN(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function gN(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}class Vc extends my{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,n,"signInWithPassword",pN);case"emailLink":return mN(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ug(e,r,"signUpPassword",fN);case"emailLink":return gN(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ja(t,e){return ou(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}const yN="http://localhost";class vo extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=uy(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new vo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}function vN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wN(t){const e=pc(mc(t)).link,n=e?pc(mc(e)).deep_link_id:null,r=pc(mc(t)).deep_link_id;return(r?pc(mc(r)).link:null)||r||n||e||t}class gy{constructor(e){var n,r,s,a,l,d;const f=pc(mc(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,_=vN((s=f.mode)!==null&&s!==void 0?s:null);Te(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=wN(e);try{return new gy(n)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gy.parseLink(n);return Te(r,"argument-error"),Vc._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class G1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends G1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ti extends au{constructor(){super("facebook.com")}static credential(e){return vo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";class ni extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";class ri extends au{constructor(){super("github.com")}static credential(e){return vo._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";class si extends au{constructor(){super("twitter.com")}static credential(e,n){return vo._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";async function _N(t,e){return ou(t,"POST","/v1/accounts:signUp",Ii(t,e))}class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ys._fromIdTokenResponse(e,r,s),l=Y_(r);return new wo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y_(r);return new wo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Y_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Sh extends Sr{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sh(e,n,r,s)}}function K1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(t,a,e,r):a})}async function xN(t,e,n=!1){const r=await Lc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}async function EN(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(ws(r));const s="reauthenticate";try{const a=await Lc(t,K1(r,s,e,t),n);Te(a.idToken,r,"internal-error");const l=fy(a.idToken);Te(l,r,"internal-error");const{sub:d}=l;return Te(t.uid===d,r,"user-mismatch"),wo._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),a}}async function Q1(t,e,n=!1){if(Ur(t.app))return Promise.reject(ws(t));const r="signIn",s=await K1(t,r,e),a=await wo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function bN(t,e){return Q1(Co(t),e)}async function Y1(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TN(t,e,n){if(Ur(t.app))return Promise.reject(ws(t));const r=Co(t),l=await ug(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_N).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Y1(t),f}),d=await wo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function IN(t,e,n){return Ur(t.app)?Promise.reject(ws(t)):bN(Qe(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Y1(t),r})}function SN(t,e){return Qe(t).setPersistence(e)}function kN(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function CN(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function AN(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function PN(t){return Qe(t).signOut()}const kh="__sak";class X1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RN=1e3,NN=10;class J1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);QR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,NN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J1.type="LOCAL";const Z1=J1;class eT extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;function DN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async p=>p(n.origin,a)),f=await DN(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];function yy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class MN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const p=yy("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function $r(){return window}function ON(t){$r().location.href=t}function nT(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function LN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VN(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jN(){return nT()?self:null}const rT="firebaseLocalStorageDb",FN=1,Ch="firebaseLocalStorage",sT="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(t,e){return t.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function UN(){const t=indexedDB.deleteDatabase(rT);return new lu(t).toPromise()}function dg(){const t=indexedDB.open(rT,FN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ch,{keyPath:sT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),await UN(),e(await dg()))})})}async function X_(t,e,n){const r=lf(t,!0).put({[sT]:e,value:n});return new lu(r).toPromise()}async function BN(t,e){const n=lf(t,!1).get(e),r=await new lu(n).toPromise();return r===void 0?null:r.value}function J_(t,e){const n=lf(t,!0).delete(e);return new lu(n).toPromise()}const zN=800,$N=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$N)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(jN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await X_(e,kh,"1"),await J_(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=lf(s,!1).getAll();return new lu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const HN=iT;new iu(3e4,6e4);function WN(t,e){return e?vs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qN(t){return Q1(t.auth,new vy(t),t.bypassAuthState)}function GN(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),EN(n,new vy(t),t.bypassAuthState)}async function KN(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),xN(n,new vy(t),t.bypassAuthState)}class oT{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return GN;default:Tr(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QN=new iu(2e3,1e4);class Pa extends oT{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QN.get())};e()}}Pa.currentPopupAction=null;const YN="pendingRedirect",oh=new Map;class XN extends oT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await JN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(t,e){const n=tD(e),r=eD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ZN(t,e){oh.set(t._key(),e)}function eD(t){return vs(t._redirectPersistence)}function tD(t){return ih(YN,t.config.apiKey,t.name)}async function nD(t,e,n=!1){if(Ur(t.app))return Promise.reject(ws(t));const r=Co(t),s=WN(r,e),l=await new XN(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const rD=600*1e3;class sD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(t);default:return!1}}async function oD(t,e={}){return Si(t,"GET","/v1/projects",e)}const aD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;async function cD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oD(t);for(const n of e)try{if(uD(n))return}catch{}Tr(t,"unauthorized-domain")}function uD(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!lD.test(n))return!1;if(aD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const dD=new iu(3e4,6e4);function ex(){const t=$r().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hD(t){return new Promise((e,n)=>{var r,s,a;function l(){ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ex(),n(zr(t,"network-request-failed"))},timeout:dD.get()})}if(!((s=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=$r().gapi)===null||a===void 0)&&a.load)l();else{const d=sN("iframefcb");return $r()[d]=()=>{gapi.load?l():n(zr(t,"network-request-failed"))},W1(`${rN()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw ah=null,e})}let ah=null;function fD(t){return ah=ah||hD(t),ah}const pD=new iu(5e3,15e3),mD="__/auth/iframe",gD="emulator/auth/iframe",yD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wD(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hy(e,gD):`https://${t.config.authDomain}/${mD}`,r={apiKey:e.apiKey,appName:t.name,v:ko},s=vD.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ru(r).slice(1)}`}async function _D(t){const e=await fD(t),n=$r().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:wD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yD,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=zr(t,"network-request-failed"),d=$r().setTimeout(()=>{a(l)},pD.get());function f(){$r().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(l)})}))}const xD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ED=500,bD=600,TD="_blank",ID="http://localhost";class tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SD(t,e,n,r=ED,s=bD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},xD),{width:r.toString(),height:s.toString(),top:a,left:l}),p=un().toLowerCase();n&&(d=j1(p)?TD:n),L1(p)&&(e=e||ID,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[T,k])=>`${E}${T}=${k},`,"");if(KR(p)&&d!=="_self")return kD(e||"",d),new tx(null);const _=window.open(e||"",d,y);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new tx(_)}function kD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const CD="__/auth/handler",AD="emulator/auth/handler",PD=encodeURIComponent("fac");async function nx(t,e,n,r,s,a){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:s};if(e instanceof G1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",vP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof au){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),p=f?`#${PD}=${encodeURIComponent(f)}`:"";return`${RD(t)}?${ru(d).slice(1)}${p}`}function RD({config:t}){return t.emulator?hy(t,AD):`https://${t.authDomain}/${CD}`}const Im="webStorageSupport";class ND{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=nD,this._overrideRedirectResult=ZN}async _openPopup(e,n,r,s){var a;bs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await nx(e,n,r,lg(),s);return SD(e,l,yy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await nx(e,n,r,lg(),s);return ON(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(bs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _D(e),r=new sD(e);return n.register("authEvent",s=>(Te(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[Im];l!==void 0&&n(!!l),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $1()||V1()||py()}}const DD=ND;var rx="@firebase/auth",sx="1.7.9";class MD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LD(t){yi(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(t)},p=new eN(r,s,a,f);return cN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yi(new xs("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new MD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(rx,sx,OD(t)),nr(rx,sx,"esm2017")}const VD=300,jD=_1("authIdTokenMaxAge")||VD;let ix=null;const FD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jD)return;const s=n?.token;ix!==s&&(ix=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UD(t=sf()){const e=su(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lN(t,{popupRedirectResolver:DD,persistence:[HN,Z1,tT]}),r=_1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=FD(a.toString());CN(n,l,()=>l(n.currentUser)),kN(n,d=>l(d))}}const s=v1("auth");return s&&uN(n,`http://${s}`),n}function BD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=zr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",BD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LD("Browser");const zD=({className:t=""})=>g.jsxs("div",{className:`flex items-center gap-3 ${t} select-none shrink-0 group`,children:[g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"w-11 h-11 flex items-center justify-center bg-gradient-to-tr from-[#007AFF] to-[#47a1ff] rounded-[1.15rem] shadow-lg shadow-blue-200/50 transition-all duration-500 group-hover:scale-105 group-hover:rotate-6",children:[g.jsxs("svg",{viewBox:"0 0 100 100",className:"w-6 h-6 text-white",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[g.jsx("circle",{cx:"50",cy:"50",r:"10",fill:"currentColor"}),g.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"6",transform:"rotate(0 50 50)",className:"opacity-30"}),g.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"6",transform:"rotate(60 50 50)",className:"opacity-60"}),g.jsx("ellipse",{cx:"50",cy:"50",rx:"44",ry:"16",stroke:"currentColor",strokeWidth:"6",transform:"rotate(120 50 50)"})]}),g.jsxs("div",{className:"absolute -top-1 -right-1 flex h-3.5 w-3.5",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-3.5 w-3.5 bg-emerald-500 border-2 border-white"})]})]})}),g.jsxs("div",{className:"flex flex-col -space-y-1",children:[g.jsx("div",{className:"flex items-baseline",children:g.jsxs("span",{className:"text-xl font-[1000] tracking-tighter text-slate-900 leading-none italic uppercase",children:["VITA",g.jsx("span",{className:"text-[#007AFF]",children:"METRA"})]})}),g.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[g.jsx("div",{className:"h-[2px] w-3 bg-emerald-500 rounded-full"}),g.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] leading-none",children:"Bio-Intelligence"})]})]})]});const lT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const $D=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const HD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const ox=t=>{const e=HD(t);return e.charAt(0).toUpperCase()+e.slice(1)};var WD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const GD=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...d},f)=>j.createElement("svg",{ref:f,...WD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lT("lucide",s),...!a&&!qD(d)&&{"aria-hidden":"true"},...d},[...l.map(([p,y])=>j.createElement(p,y)),...Array.isArray(a)?a:[a]]));const be=(t,e)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(GD,{ref:a,iconNode:e,className:lT(`lucide-${$D(ox(t))}`,`lucide-${t}`,r),...s}));return n.displayName=ox(t),n};const KD=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],QD=be("accessibility",KD);const YD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cu=be("activity",YD);const XD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cf=be("arrow-right",XD);const JD=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],ZD=be("bike",JD);const eM=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],tM=be("brain-circuit",eM);const nM=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],cT=be("brain",nM);const rM=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sM=be("calculator",rM);const iM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],oM=be("calendar",iM);const aM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uT=be("camera",aM);const lM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cM=be("check",lM);const uM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dM=be("chevron-left",uM);const hM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wy=be("chevron-right",hM);const fM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dT=be("circle-alert",fM);const pM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_y=be("circle-check",pM);const mM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xy=be("clock",mM);const gM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yM=be("credit-card",gM);const vM=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wM=be("crown",vM);const _M=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],hT=be("droplets",_M);const xM=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],EM=be("fingerprint-pattern",xM);const bM=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],TM=be("flame",bM);const IM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SM=be("globe",IM);const kM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],CM=be("heart",kM);const AM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fT=be("history",AM);const PM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RM=be("info",PM);const NM=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],DM=be("layout-grid",NM);const MM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wa=be("loader-circle",MM);const OM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LM=be("lock",OM);const VM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pT=be("log-out",VM);const jM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FM=be("mail",jM);const UM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],BM=be("message-square",UM);const zM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mT=be("plus",zM);const $M=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ey=be("save",$M);const HM=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],gT=be("scale",HM);const WM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qM=be("send",WM);const GM=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],KM=be("settings-2",GM);const QM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],YM=be("shield-alert",QM);const XM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hg=be("shield-check",XM);const JM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ZM=be("shield",JM);const eO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vi=be("sparkles",eO);const tO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nO=be("star",tO);const rO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],by=be("target",rO);const sO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iO=be("trash-2",sO);const oO=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],aO=be("trending-down",oO);const lO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],cO=be("trending-up",lO);const uO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dO=be("trophy",uO);const hO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yT=be("user",hO);const fO=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],pO=be("utensils",fO);const mO=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],vT=be("waves",mO);const gO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uu=be("x",gO);const yO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],sl=be("zap",yO),vO=({isLoggedIn:t,onLoginClick:e,onLogoutClick:n,currentUser:r})=>g.jsx("header",{className:"fixed top-0 left-0 right-0 z-[1000] bg-white/80 backdrop-blur-md border-b border-slate-100 shadow-sm",children:g.jsxs("div",{className:"w-full max-w-[1400px] mx-auto px-6 h-20 flex items-center justify-between",children:[g.jsx("div",{className:"flex-shrink-0 flex items-center cursor-pointer hover:opacity-80 transition-all active:scale-95",children:g.jsx(zD,{})}),g.jsx("div",{className:"flex items-center gap-4",children:t?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[g.jsx("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-widest leading-none mb-1",children:"Bio-Perfil"}),g.jsx("p",{className:"text-sm font-black text-slate-900 leading-none italic uppercase",children:r?.firstName||r?.email?.split("@")[0]})]}),g.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-1 hidden sm:block"}),g.jsx("button",{onClick:n,className:"p-2.5 rounded-xl bg-slate-50 text-slate-400 hover:bg-rose-50 hover:text-rose-600 transition-all",children:g.jsx(pT,{size:18,strokeWidth:2.5})})]}):g.jsx("button",{onClick:e,className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-[1000] text-[10px] uppercase tracking-[0.2em] hover:bg-blue-600 transition-all active:scale-95 whitespace-nowrap shadow-xl shadow-slate-100",children:"Iniciar Sesin"})})]})}),Ty=j.createContext({});function Iy(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const wT=typeof window<"u",_T=wT?j.useLayoutEffect:j.useEffect,uf=j.createContext(null);function Sy(t,e){t.indexOf(e)===-1&&t.push(e)}function ky(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Kr=(t,e,n)=>n>e?e:n<t?t:n;let Cy=()=>{};const Ts={},xT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ET(t){return typeof t=="object"&&t!==null}const bT=t=>/^0[^.\s]+$/u.test(t);function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const rr=t=>t,wO=(t,e)=>n=>e(t(n)),du=(...t)=>t.reduce(wO),jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Py{constructor(){this.subscriptions=[]}add(e){return Sy(this.subscriptions,e),()=>ky(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=t=>t*1e3,tr=t=>t/1e3;function TT(t,e){return e?t*(1e3/e):0}const IT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_O=1e-7,xO=12;function EO(t,e,n,r,s){let a,l,d=0;do l=e+(n-e)/2,a=IT(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>_O&&++d<xO);return l}function hu(t,e,n,r){if(t===e&&n===r)return rr;const s=a=>EO(a,0,1,t,n);return a=>a===0||a===1?a:IT(s(a),e,r)}const ST=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kT=t=>e=>1-t(1-e),CT=hu(.33,1.53,.69,.99),Ry=kT(CT),AT=ST(Ry),PT=t=>(t*=2)<1?.5*Ry(t):.5*(2-Math.pow(2,-10*(t-1))),Ny=t=>1-Math.sin(Math.acos(t)),RT=kT(Ny),NT=ST(Ny),bO=hu(.42,0,1,1),TO=hu(0,0,.58,1),DT=hu(.42,0,.58,1),IO=t=>Array.isArray(t)&&typeof t[0]!="number",MT=t=>Array.isArray(t)&&typeof t[0]=="number",SO={linear:rr,easeIn:bO,easeInOut:DT,easeOut:TO,circIn:Ny,circInOut:NT,circOut:RT,backIn:Ry,backInOut:AT,backOut:CT,anticipate:PT},kO=t=>typeof t=="string",ax=t=>{if(MT(t)){Cy(t.length===4);const[e,n,r,s]=t;return hu(e,n,r,s)}else if(kO(t))return SO[t];return t},Gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CO(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(y){l.has(y)&&(p.schedule(y),t()),y(d)}const p={schedule:(y,_=!1,E=!1)=>{const k=E&&s?n:r;return _&&l.add(y),k.has(y)||k.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(d=y,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const AO=40;function OT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Gd.reduce((F,Y)=>(F[Y]=CO(a),F),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:T,postRender:k}=l,N=()=>{const F=Ts.useManualTiming?s.timestamp:performance.now();n=!1,Ts.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,AO),1)),s.timestamp=F,s.isProcessing=!0,d.process(s),f.process(s),p.process(s),y.process(s),_.process(s),E.process(s),T.process(s),k.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(N))},C=()=>{n=!0,r=!0,s.isProcessing||t(N)};return{schedule:Gd.reduce((F,Y)=>{const te=l[Y];return F[Y]=(ae,M=!1,S=!1)=>(n||C(),te.schedule(ae,M,S)),F},{}),cancel:F=>{for(let Y=0;Y<Gd.length;Y++)l[Gd[Y]].cancel(F)},state:s,steps:l}}const{schedule:Ze,cancel:wi,state:Gt,steps:Sm}=OT(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0);let lh;function PO(){lh=void 0}const vn={now:()=>(lh===void 0&&vn.set(Gt.isProcessing||Ts.useManualTiming?Gt.timestamp:performance.now()),lh),set:t=>{lh=t,queueMicrotask(PO)}},LT=t=>e=>typeof e=="string"&&e.startsWith(t),VT=LT("--"),RO=LT("var(--"),Dy=t=>RO(t)?NO.test(t.split("/*")[0].trim()):!1,NO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fc={...il,transform:t=>Kr(0,1,t)},Kd={...il,default:1},Ec=t=>Math.round(t*1e5)/1e5,My=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function DO(t){return t==null}const MO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(t,e)=>n=>!!(typeof n=="string"&&MO.test(n)&&n.startsWith(t)||e&&!DO(n)&&Object.prototype.hasOwnProperty.call(n,e)),jT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,d]=r.match(My);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},OO=t=>Kr(0,255,t),km={...il,transform:t=>Math.round(OO(t))},co={test:Oy("rgb","red"),parse:jT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+km.transform(t)+", "+km.transform(e)+", "+km.transform(n)+", "+Ec(Fc.transform(r))+")"};function LO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const fg={test:Oy("#"),parse:LO,transform:co.transform},fu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zs=fu("deg"),Wr=fu("%"),fe=fu("px"),VO=fu("vh"),jO=fu("vw"),cx={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},Ra={test:Oy("hsl","hue"),parse:jT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wr.transform(Ec(e))+", "+Wr.transform(Ec(n))+", "+Ec(Fc.transform(r))+")"},bt={test:t=>co.test(t)||fg.test(t)||Ra.test(t),parse:t=>co.test(t)?co.parse(t):Ra.test(t)?Ra.parse(t):fg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?co.transform(t):Ra.transform(t),getAnimatableNone:t=>{const e=bt.parse(t);return e.alpha=0,bt.transform(e)}},FO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UO(t){return isNaN(t)&&typeof t=="string"&&(t.match(My)?.length||0)+(t.match(FO)?.length||0)>0}const FT="number",UT="color",BO="var",zO="var(",ux="${}",$O=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace($O,f=>(bt.test(f)?(r.color.push(a),s.push(UT),n.push(bt.parse(f))):f.startsWith(zO)?(r.var.push(a),s.push(BO),n.push(f)):(r.number.push(a),s.push(FT),n.push(parseFloat(f))),++a,ux)).split(ux);return{values:n,split:d,indexes:r,types:s}}function BT(t){return Uc(t).values}function zT(t){const{split:e,types:n}=Uc(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const d=n[l];d===FT?a+=Ec(s[l]):d===UT?a+=bt.transform(s[l]):a+=s[l]}return a}}const HO=t=>typeof t=="number"?0:bt.test(t)?bt.getAnimatableNone(t):t;function WO(t){const e=BT(t);return zT(t)(e.map(HO))}const _i={test:UO,parse:BT,createTransformer:zT,getAnimatableNone:WO};function Cm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;s=Cm(f,d,t+1/3),a=Cm(f,d,t),l=Cm(f,d,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ah(t,e){return n=>n>0?e:t}const ct=(t,e,n)=>t+(e-t)*n,Am=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},GO=[fg,co,Ra],KO=t=>GO.find(e=>e.test(t));function dx(t){const e=KO(t);if(!e)return!1;let n=e.parse(t);return e===Ra&&(n=qO(n)),n}const hx=(t,e)=>{const n=dx(t),r=dx(e);if(!n||!r)return Ah(t,e);const s={...n};return a=>(s.red=Am(n.red,r.red,a),s.green=Am(n.green,r.green,a),s.blue=Am(n.blue,r.blue,a),s.alpha=ct(n.alpha,r.alpha,a),co.transform(s))},pg=new Set(["none","hidden"]);function QO(t,e){return pg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YO(t,e){return n=>ct(t,e,n)}function Ly(t){return typeof t=="number"?YO:typeof t=="string"?Dy(t)?Ah:bt.test(t)?hx:ZO:Array.isArray(t)?$T:typeof t=="object"?bt.test(t)?hx:XO:Ah}function $T(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Ly(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function XO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ly(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function JO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],d=t.values[l]??0;n[s]=d,r[a]++}return n}const ZO=(t,e)=>{const n=_i.createTransformer(e),r=Uc(t),s=Uc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?pg.has(t)&&!s.values.length||pg.has(e)&&!r.values.length?QO(t,e):du($T(JO(r,s),s.values),n):Ah(t,e)};function HT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):Ly(t)(t,e)}const eL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ze.update(e,n),stop:()=>wi(e),now:()=>Gt.isProcessing?Gt.timestamp:vn.now()}},WT=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ph=2e4;function Vy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ph;)e+=n,r=t.next(e);return e>=Ph?1/0:e}function tL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Vy(r),Ph);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:tr(s)}}const nL=5;function qT(t,e,n){const r=Math.max(e-nL,0);return TT(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pm=.001;function rL({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=Kr(ht.minDamping,ht.maxDamping,l),t=Kr(ht.minDuration,ht.maxDuration,tr(t)),l<1?(s=p=>{const y=p*l,_=y*t,E=y-n,T=mg(p,l),k=Math.exp(-_);return Pm-E/T*k},a=p=>{const _=p*l*t,E=_*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-_),N=mg(Math.pow(p,2),l);return(-s(p)+Pm>0?-1:1)*((E-T)*k)/N}):(s=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-Pm+y*_},a=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const d=5/t,f=iL(s,a,d);if(t=Hr(t),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const sL=12;function iL(t,e,n){let r=n;for(let s=1;s<sL;s++)r=r-t(r)/e(r);return r}function mg(t,e){return t*Math.sqrt(1-e*e)}const oL=["duration","bounce"],aL=["stiffness","damping","mass"];function fx(t,e){return e.some(n=>t[n]!==void 0)}function lL(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!fx(t,aL)&&fx(t,oL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Kr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=rL(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function Rh(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:T}=lL({...n,velocity:-tr(n.velocity||0)}),k=E||0,N=p/(2*Math.sqrt(f*y)),C=l-a,z=tr(Math.sqrt(f/y)),G=Math.abs(C)<5;r||(r=G?ht.restSpeed.granular:ht.restSpeed.default),s||(s=G?ht.restDelta.granular:ht.restDelta.default);let F;if(N<1){const te=mg(z,N);F=ae=>{const M=Math.exp(-N*z*ae);return l-M*((k+N*z*C)/te*Math.sin(te*ae)+C*Math.cos(te*ae))}}else if(N===1)F=te=>l-Math.exp(-z*te)*(C+(k+z*C)*te);else{const te=z*Math.sqrt(N*N-1);F=ae=>{const M=Math.exp(-N*z*ae),S=Math.min(te*ae,300);return l-M*((k+N*z*C)*Math.sinh(S)+te*C*Math.cosh(S))/te}}const Y={calculatedDuration:T&&_||null,next:te=>{const ae=F(te);if(T)d.done=te>=_;else{let M=te===0?k:0;N<1&&(M=te===0?Hr(k):qT(F,te,ae));const S=Math.abs(M)<=r,A=Math.abs(l-ae)<=s;d.done=S&&A}return d.value=d.done?l:ae,d},toString:()=>{const te=Math.min(Vy(Y),Ph),ae=WT(M=>Y.next(te*M).value,te,30);return te+"ms "+ae},toTransition:()=>{}};return Y}Rh.applyToOptions=t=>{const e=tL(t,100,Rh);return t.ease=e.ease,t.duration=Hr(e.duration),t.type="keyframes",t};function gg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},T=S=>d!==void 0&&S<d||f!==void 0&&S>f,k=S=>d===void 0?f:f===void 0||Math.abs(d-S)<Math.abs(f-S)?d:f;let N=n*e;const C=_+N,z=l===void 0?C:l(C);z!==C&&(N=z-_);const G=S=>-N*Math.exp(-S/r),F=S=>z+G(S),Y=S=>{const A=G(S),D=F(S);E.done=Math.abs(A)<=p,E.value=E.done?z:D};let te,ae;const M=S=>{T(E.value)&&(te=S,ae=Rh({keyframes:[E.value,k(E.value)],velocity:qT(F,S,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:S=>{let A=!1;return!ae&&te===void 0&&(A=!0,Y(S),M(S)),te!==void 0&&S>=te?ae.next(S-te):(!A&&Y(S),E)}}}function cL(t,e,n){const r=[],s=n||Ts.mix||HT,a=t.length-1;for(let l=0;l<a;l++){let d=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||rr:e;d=du(f,d)}r.push(d)}return r}function uL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Cy(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=cL(e,r,s),f=d.length,p=y=>{if(l&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=jc(t[_],t[_+1],y);return d[_](E)};return n?y=>p(Kr(t[0],t[a-1],y)):p}function dL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=jc(0,e,r);t.push(ct(n,1,s))}}function hL(t){const e=[0];return dL(e,t.length-1),e}function fL(t,e){return t.map(n=>n*e)}function pL(t,e){return t.map(()=>e||DT).splice(0,t.length-1)}function bc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=IO(r)?r.map(ax):ax(r),a={done:!1,value:e[0]},l=fL(n&&n.length===e.length?n:hL(e),t),d=uL(l,e,{ease:Array.isArray(s)?s:pL(e,s)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const mL=t=>t!==null;function jy(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(mL),d=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const gL={decay:gg,inertia:gg,tween:bc,keyframes:bc,spring:Rh};function GT(t){typeof t.type=="string"&&(t.type=gL[t.type])}class Fy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yL=t=>t/100;class Uy extends Fy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==vn.now()&&this.tick(vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GT(e);const{type:n=bc,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const f=n||bc;f!==bc&&typeof d[0]!="number"&&(this.mixKeyframes=du(yL,HT(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Vy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:T,type:k,onUpdate:N,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?z<0:z>s;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,Y=r;if(_){const S=Math.min(this.currentTime,s)/d;let A=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&A--,A=Math.min(A,_+1),A%2&&(E==="reverse"?(D=1-D,T&&(D-=T/d)):E==="mirror"&&(Y=l)),F=Kr(0,1,D)*d}const te=G?{done:!1,value:y[0]}:Y.next(F);a&&(te.value=a(te.value));let{done:ae}=te;!G&&f!==null&&(ae=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return M&&k!==gg&&(te.value=jy(y,this.options,C,this.speed)),N&&N(te.value),M&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return tr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=tr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=eL,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function vL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const uo=t=>t*180/Math.PI,yg=t=>{const e=uo(Math.atan2(t[1],t[0]));return vg(e)},wL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yg,rotateZ:yg,skewX:t=>uo(Math.atan(t[1])),skewY:t=>uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vg=t=>(t=t%360,t<0&&(t+=360),t),px=yg,mx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_L={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mx,scaleY:gx,scale:t=>(mx(t)+gx(t))/2,rotateX:t=>vg(uo(Math.atan2(t[6],t[5]))),rotateY:t=>vg(uo(Math.atan2(-t[2],t[0]))),rotateZ:px,rotate:px,skewX:t=>uo(Math.atan(t[4])),skewY:t=>uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function wg(t){return t.includes("scale")?1:0}function _g(t,e){if(!t||t==="none")return wg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_L,s=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wL,s=d}if(!s)return wg(e);const a=r[e],l=s[1].split(",").map(EL);return typeof a=="function"?a(l):l[a]}const xL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return _g(n,e)};function EL(t){return parseFloat(t.trim())}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(ol),yx=t=>t===il||t===fe,bL=new Set(["x","y","z"]),TL=ol.filter(t=>!bL.has(t));function IL(t){const e=[];return TL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ai={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>_g(e,"x"),y:(t,{transform:e})=>_g(e,"y")};ai.translateX=ai.x;ai.translateY=ai.y;const po=new Set;let xg=!1,Eg=!1,bg=!1;function KT(){if(Eg){const t=Array.from(po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=IL(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Eg=!1,xg=!1,po.forEach(t=>t.complete(bg)),po.clear()}function QT(){po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eg=!0)})}function SL(){bg=!0,QT(),KT(),bg=!1}class By{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),xg||(xg=!0,Ze.read(QT),Ze.resolveKeyframes(KT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const d=r.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}vL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kL=t=>t.startsWith("--");function CL(t,e,n){kL(e)?t.style.setProperty(e,n):t.style[e]=n}const AL=Ay(()=>window.ScrollTimeline!==void 0),PL={};function RL(t,e){const n=Ay(t);return()=>PL[e]??n()}const YT=RL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gc([0,.65,.55,1]),circOut:gc([.55,0,1,.45]),backIn:gc([.31,.01,.66,-.59]),backOut:gc([.33,1.53,.69,.99])};function XT(t,e){if(t)return typeof t=="function"?YT()?WT(t,e):"ease-out":MT(t)?gc(t):Array.isArray(t)?t.map(n=>XT(n,e)||vx.easeOut):vx[t]}function NL(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=XT(d,s);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function JT(t){return typeof t=="function"&&"applyToOptions"in t}function DL({type:t,...e}){return JT(t)&&YT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ML extends Fy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Cy(typeof e.type!="string");const p=DL(e);this.animation=NL(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=jy(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):CL(n,r,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return tr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+tr(e)}get time(){return tr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&AL()?(this.animation.timeline=e,rr):n(this)}}const ZT={anticipate:PT,backInOut:AT,circInOut:NT};function OL(t){return t in ZT}function LL(t){typeof t.ease=="string"&&OL(t.ease)&&(t.ease=ZT[t.ease])}const Rm=10;class VL extends ML{constructor(e){LL(e),GT(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Uy({...l,autoplay:!1}),f=Math.max(Rm,vn.now()-this.startTime),p=Kr(0,Rm,f-Rm);n.setWithVelocity(d.sample(Math.max(0,f-p)).value,d.sample(f).value,p),d.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_i.test(t)||t==="0")&&!t.startsWith("url("));function jL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function FL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=wx(s,e),d=wx(a,e);return!l||!d?!1:jL(t)||(n==="spring"||JT(n))&&r}function Tg(t){t.duration=0,t.type="keyframes"}const UL=new Set(["opacity","clipPath","filter","transform"]),BL=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zL(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return BL()&&n&&UL.has(n)&&(n!=="transform"||!p)&&!f&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const $L=40;class HL extends Fy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vn.now();const E={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:y,..._},T=y?.KeyframeResolver||By;this.keyframeResolver=new T(d,(k,N,C)=>this.onKeyframesResolved(k,N,E,!C),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:f,isHandoff:p,onUpdate:y}=r;this.resolvedAt=vn.now(),FL(e,a,l,d)||((Ts.instantAnimations||!f)&&y?.(jy(e,r,n)),e[0]=e[e.length-1],Tg(r),r.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>$L?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&zL(E),k=E.motionValue?.owner?.current,N=T?new VL({...E,element:k}):new Uy(E);N.finished.then(()=>{this.notifyFinished()}).catch(rr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),SL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function e2(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),l=t.size,d=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:d-a*r}const WL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qL(t){const e=WL.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function t2(t,e,n=1){const[r,s]=qL(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return xT(l)?parseFloat(l):l}return Dy(s)?t2(s,e,n+1):s}const GL={type:"spring",stiffness:500,damping:25,restSpeed:10},KL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QL={type:"keyframes",duration:.8},YL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XL=(t,{keyframes:e})=>e.length>2?QL:al.has(t)?t.startsWith("scale")?KL(e[1]):GL:YL,JL=t=>t!==null;function ZL(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(JL),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function n2(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function zy(t,e){const n=t?.[e]??t?.default??t;return n!==t?n2(n,t):n}function eV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const $y=(t,e,n,r={},s,a)=>l=>{const d=zy(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Hr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:s};eV(d)||Object.assign(y,XL(t,y)),y.duration&&(y.duration=Hr(y.duration)),y.repeatDelay&&(y.repeatDelay=Hr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Tg(y),y.delay===0&&(_=!0)),(Ts.instantAnimations||Ts.skipAnimations||s?.shouldSkipAnimations)&&(_=!0,Tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!a&&e.get()!==void 0){const E=ZL(y.keyframes,d);if(E!==void 0){Ze.update(()=>{y.onUpdate(E),y.onComplete()});return}}return d.isSync?new Uy(y):new HL(y)};function _x(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Hy(t,e,n,r){if(typeof e=="function"){const[s,a]=_x(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=_x(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function Fa(t,e,n){const r=t.getProps();return Hy(r,e,n!==void 0?n:r.custom,t)}const r2=new Set(["width","height","top","left","right","bottom",...ol]),xx=30,tV=t=>!isNaN(parseFloat(t));class nV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=vn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Py);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xx);return TT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(t,e){return new nV(t,e)}const Ig=t=>Array.isArray(t);function rV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qa(n))}function sV(t){return Ig(t)?t[t.length-1]||0:t}function iV(t,e){const n=Fa(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const d=sV(a[l]);rV(t,l,d)}}const ln=t=>!!(t&&t.getVelocity);function oV(t){return!!(ln(t)&&t.add)}function Sg(t,e){const n=t.getValue("willChange");if(oV(n))return n.add(e);if(!n&&Ts.WillChange){const r=new Ts.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Wy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const aV="framerAppearId",s2="data-"+Wy(aV);function i2(t){return t.props[s2]}function lV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function o2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a,transitionEnd:l,...d}=e;const f=t.getDefaultTransition();a=a?n2(a,f):f;const p=a?.reduceMotion;r&&(a=r);const y=[],_=s&&t.animationState&&t.animationState.getState()[s];for(const E in d){const T=t.getValue(E,t.latestValues[E]??null),k=d[E];if(k===void 0||_&&lV(_,E))continue;const N={delay:n,...zy(a||{},E)},C=T.get();if(C!==void 0&&!T.isAnimating&&!Array.isArray(k)&&k===C&&!N.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const Y=i2(t);if(Y){const te=window.MotionHandoffAnimation(Y,E,Ze);te!==null&&(N.startTime=te,z=!0)}}Sg(t,E);const G=p??t.shouldReduceMotion;T.start($y(E,T,k,G&&r2.has(E)?{type:!1}:N,t,z));const F=T.animation;F&&y.push(F)}if(l){const E=()=>Ze.update(()=>{l&&iV(t,l)});y.length?Promise.all(y).then(E):E()}return y}function kg(t,e,n={}){const r=Fa(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(o2(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=s;return cV(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,p]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function cV(t,e,n=0,r=0,s=0,a=1,l){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(kg(f,e,{...l,delay:n+(typeof r=="function"?0:r)+e2(t.variantChildren,f,r,s,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function uV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>kg(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=kg(t,e,n);else{const s=typeof e=="function"?Fa(t,e,n.custom):e;r=Promise.all(o2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const dV={test:t=>t==="auto",parse:t=>t},a2=t=>e=>e.test(t),l2=[il,fe,Wr,Zs,jO,VO,dV],Ex=t=>l2.find(a2(t));function hV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bT(t):!0}const fV=new Set(["brightness","contrast","saturate","opacity"]);function pV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(My)||[];if(!r)return t;const s=n.replace(r,"");let a=fV.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const mV=/\b([a-z-]*)\(.*?\)/gu,Cg={..._i,getAnimatableNone:t=>{const e=t.match(mV);return e?e.map(pV).join(" "):t}},bx={...il,transform:Math.round},gV={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Kd,scaleX:Kd,scaleY:Kd,scaleZ:Kd,skew:Zs,skewX:Zs,skewY:Zs,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Fc,originX:cx,originY:cx,originZ:fe},qy={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,fontSize:fe,backgroundPositionX:fe,backgroundPositionY:fe,...gV,zIndex:bx,fillOpacity:Fc,strokeOpacity:Fc,numOctaves:bx},yV={...qy,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Cg,WebkitFilter:Cg},c2=t=>yV[t];function u2(t,e){let n=c2(t);return n!==Cg&&(n=_i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vV=new Set(["auto","none","0"]);function wV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!vV.has(a)&&Uc(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=u2(n,s)}class _V extends By{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let _=e[y];if(typeof _=="string"&&(_=_.trim(),Dy(_))){const E=t2(_,n.current);E!==void 0&&(e[y]=E),y===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!r2.has(r)||e.length!==2)return;const[s,a]=e,l=Ex(s),d=Ex(a),f=lx(s),p=lx(a);if(f!==p&&ai[r]){this.needsMeasurement=!0;return}if(l!==d)if(yx(l)&&yx(d))for(let y=0;y<e.length;y++){const _=e[y];typeof _=="string"&&(e[y]=parseFloat(_))}else ai[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||hV(e[s]))&&r.push(s);r.length&&wV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ai[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=ai[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function d2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const h2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ag(t){return ET(t)&&"offsetHeight"in t}const{schedule:Gy}=OT(queueMicrotask,!1),br={x:!1,y:!1};function f2(){return br.x||br.y}function xV(t){return t==="x"||t==="y"?br[t]?null:(br[t]=!0,()=>{br[t]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}function p2(t,e){const n=d2(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function EV(t){return!(t.pointerType==="touch"||f2())}function bV(t,e,n={}){const[r,s,a]=p2(t,n);return r.forEach(l=>{let d=!1,f=!1,p;const y=()=>{l.removeEventListener("pointerleave",k)},_=C=>{p&&(p(C),p=void 0),y()},E=C=>{d=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),f&&(f=!1,_(C))},T=()=>{d=!0,window.addEventListener("pointerup",E,s),window.addEventListener("pointercancel",E,s)},k=C=>{if(C.pointerType!=="touch"){if(d){f=!0;return}_(C)}},N=C=>{if(!EV(C))return;f=!1;const z=e(l,C);typeof z=="function"&&(p=z,l.addEventListener("pointerleave",k,s))};l.addEventListener("pointerenter",N,s),l.addEventListener("pointerdown",T,s)}),a}const m2=(t,e)=>e?t===e?!0:m2(t,e.parentElement):!1,Ky=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IV(t){return TV.has(t.tagName)||t.isContentEditable===!0}const SV=new Set(["INPUT","SELECT","TEXTAREA"]);function kV(t){return SV.has(t.tagName)||t.isContentEditable===!0}const ch=new WeakSet;function Tx(t){return e=>{e.key==="Enter"&&t(e)}}function Nm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Tx(()=>{if(ch.has(n))return;Nm(n,"down");const s=Tx(()=>{Nm(n,"up")}),a=()=>Nm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ix(t){return Ky(t)&&!f2()}const Sx=new WeakSet;function AV(t,e,n={}){const[r,s,a]=p2(t,n),l=d=>{const f=d.currentTarget;if(!Ix(d)||Sx.has(d))return;ch.add(f),n.stopPropagation&&Sx.add(d);const p=e(f,d),y=(T,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),ch.has(f)&&ch.delete(f),Ix(T)&&typeof p=="function"&&p(T,{success:k})},_=T=>{y(T,f===window||f===document||n.useGlobalTarget||m2(f,T.target))},E=T=>{y(T,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,s),Ag(d)&&(d.addEventListener("focus",p=>CV(p,s)),!IV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function Qy(t){return ET(t)&&"ownerSVGElement"in t}const uh=new WeakMap;let dh;const g2=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:Qy(r)&&"getBBox"in r?r.getBBox()[e]:r[n],PV=g2("inline","width","offsetWidth"),RV=g2("block","height","offsetHeight");function NV({target:t,borderBoxSize:e}){uh.get(t)?.forEach(n=>{n(t,{get width(){return PV(t,e)},get height(){return RV(t,e)}})})}function DV(t){t.forEach(NV)}function MV(){typeof ResizeObserver>"u"||(dh=new ResizeObserver(DV))}function OV(t,e){dh||MV();const n=d2(t);return n.forEach(r=>{let s=uh.get(r);s||(s=new Set,uh.set(r,s)),s.add(e),dh?.observe(r)}),()=>{n.forEach(r=>{const s=uh.get(r);s?.delete(e),s?.size||dh?.unobserve(r)})}}const hh=new Set;let Na;function LV(){Na=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};hh.forEach(e=>e(t))},window.addEventListener("resize",Na)}function VV(t){return hh.add(t),Na||LV(),()=>{hh.delete(t),!hh.size&&typeof Na=="function"&&(window.removeEventListener("resize",Na),Na=void 0)}}function kx(t,e){return typeof t=="function"?VV(t):OV(t,e)}function jV(t){return Qy(t)&&t.tagName==="svg"}const FV=[...l2,bt,_i],UV=t=>FV.find(a2(t)),Cx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:Cx(),y:Cx()}),Ax=()=>({min:0,max:0}),Dt=()=>({x:Ax(),y:Ax()}),Pg={current:null},y2={current:!1},BV=typeof window<"u";function zV(){if(y2.current=!0,!!BV)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=t.matches;t.addEventListener("change",e),e()}else Pg.current=!1}const $V=new WeakMap;function df(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bc(t){return typeof t=="string"||Array.isArray(t)}const Yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xy=["initial",...Yy];function hf(t){return df(t.animate)||Xy.some(e=>Bc(t[e]))}function v2(t){return!!(hf(t)||t.variants)}function HV(t,e,n){for(const r in e){const s=e[r],a=n[r];if(ln(s))t.addValue(r,s);else if(ln(a))t.addValue(r,qa(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,qa(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Px=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Nh={};function w2(t){Nh=t}function WV(){return Nh}class qV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:a,blockInitialAnimation:l,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=By,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=vn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ze.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=hf(n),this.isVariantNode=v2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in E){const k=E[T];p[T]!==void 0&&ln(k)&&k.set(p[T])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,$V.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(y2.current||zV(),this.shouldReduceMotion=Pg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=al.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nh){const n=Nh[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Px.length;r++){const s=Px[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=HV(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xT(r)||bT(r))?r=parseFloat(r):!UV(r)&&_i.test(n)&&(r=u2(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Hy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Py),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Gy.render(this.render)}}class _2 extends qV{constructor(){super(...arguments),this.KeyframeResolver=_V}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}function x2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function GV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dm(t){return t===void 0||t===1}function Rg({scale:t,scaleX:e,scaleY:n}){return!Dm(t)||!Dm(e)||!Dm(n)}function ao(t){return Rg(t)||E2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function E2(t){return Rx(t.x)||Rx(t.y)}function Rx(t){return t&&t!=="0%"}function Dh(t,e,n){const r=t-n,s=e*r;return n+s}function Nx(t,e,n,r,s){return s!==void 0&&(t=Dh(t,s,r)),Dh(t,n,r)+e}function Ng(t,e=0,n=1,r,s){t.min=Nx(t.min,e,n,r,s),t.max=Nx(t.max,e,n,r,s)}function b2(t,{x:e,y:n}){Ng(t.x,e.translate,e.scale,e.originPoint),Ng(t.y,n.translate,n.scale,n.originPoint)}const Dx=.999999999999,Mx=1.0000000000001;function QV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=n[d],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Oa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,b2(t,l)),r&&ao(a.latestValues)&&Oa(t,a.latestValues))}e.x<Mx&&e.x>Dx&&(e.x=1),e.y<Mx&&e.y>Dx&&(e.y=1)}function Ma(t,e){t.min=t.min+e,t.max=t.max+e}function Ox(t,e,n,r,s=.5){const a=ct(t.min,t.max,s);Ng(t,e,n,a,r)}function Oa(t,e){Ox(t.x,e.x,e.scaleX,e.scale,e.originX),Ox(t.y,e.y,e.scaleY,e.scale,e.originY)}function T2(t,e){return x2(KV(t.getBoundingClientRect(),e))}function YV(t,e,n){const r=T2(t,n),{scroll:s}=e;return s&&(Ma(r.x,s.offset.x),Ma(r.y,s.offset.y)),r}const XV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JV=ol.length;function ZV(t,e,n){let r="",s=!0;for(let a=0;a<JV;a++){const l=ol[a],d=t[l];if(d===void 0)continue;let f=!0;if(typeof d=="number")f=d===(l.startsWith("scale")?1:0);else{const p=parseFloat(d);f=l.startsWith("scale")?p===1:p===0}if(!f||n){const p=h2(d,qy[l]);if(!f){s=!1;const y=XV[l]||l;r+=`${y}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Jy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,d=!1;for(const f in e){const p=e[f];if(al.has(f)){l=!0;continue}else if(VT(f)){s[f]=p;continue}else{const y=h2(p,qy[f]);f.startsWith("origin")?(d=!0,a[f]=y):r[f]=y}}if(e.transform||(l||n?r.transform=ZV(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${p} ${y}`}}function I2(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function Lx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const n=Lx(t,e.target.x),r=Lx(t,e.target.y);return`${n}% ${r}%`}},ej={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=_i.parse(t);if(s.length>5)return r;const a=_i.createTransformer(t),l=typeof s[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=d,s[1+l]/=f;const p=ct(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},Dg={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:ej};function S2(t,{layout:e,layoutId:n}){return al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dg[t]||t==="opacity")}function Zy(t,e,n){const r=t.style,s=e?.style,a={};if(!r)return a;for(const l in r)(ln(r[l])||s&&ln(s[l])||S2(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}function tj(t){return window.getComputedStyle(t)}class nj extends _2{constructor(){super(...arguments),this.type="html",this.renderInstance=I2}readValueFromInstance(e,n){if(al.has(n))return this.projection?.isProjecting?wg(n):xL(e,n);{const r=tj(e),s=(VT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return T2(e,n)}build(e,n,r){Jy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Zy(e,n,r)}}const rj={offset:"stroke-dashoffset",array:"stroke-dasharray"},sj={offset:"strokeDashoffset",array:"strokeDasharray"};function ij(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?rj:sj;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const oj=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function k2(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...d},f,p,y){if(Jy(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const T of oj)_[T]!==void 0&&(E[T]=_[T],delete _[T]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&ij(_,s,a,l,!1)}const C2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),A2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function aj(t,e,n,r){I2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(C2.has(s)?s:Wy(s),e.attrs[s])}function P2(t,e,n){const r=Zy(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const a=ol.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class lj extends _2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(al.has(n)){const r=c2(n);return r&&r.default||0}return n=C2.has(n)?n:Wy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return P2(e,n,r)}build(e,n,r){k2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){aj(e,n,r,s)}mount(e){this.isSVGTag=A2(e.tagName),super.mount(e)}}const cj=Xy.length;function R2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?R2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cj;n++){const r=Xy[n],s=t.props[r];(Bc(s)||s===!1)&&(e[r]=s)}return e}function N2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const uj=[...Yy].reverse(),dj=Yy.length;function hj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uV(t,n,r)))}function fj(t){let e=hj(t),n=Vx(),r=!0;const s=f=>(p,y)=>{const _=Fa(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:T,...k}=_;p={...p,...k,...T}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,y=R2(t.parent)||{},_=[],E=new Set;let T={},k=1/0;for(let C=0;C<dj;C++){const z=uj[C],G=n[z],F=p[z]!==void 0?p[z]:y[z],Y=Bc(F),te=z===f?G.isActive:null;te===!1&&(k=C);let ae=F===y[z]&&F!==p[z]&&Y;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),G.protectedKeys={...T},!G.isActive&&te===null||!F&&!G.prevProp||df(F)||typeof F=="boolean")continue;const M=pj(G.prevProp,F);let S=M||z===f&&G.isActive&&!ae&&Y||C>k&&Y,A=!1;const D=Array.isArray(F)?F:[F];let V=D.reduce(s(z),{});te===!1&&(V={});const{prevResolvedValues:U={}}=G,R={...U,...V},st=Se=>{S=!0,E.has(Se)&&(A=!0,E.delete(Se)),G.needsAnimating[Se]=!0;const se=t.getValue(Se);se&&(se.liveStyle=!1)};for(const Se in R){const se=V[Se],ge=U[Se];if(T.hasOwnProperty(Se))continue;let le=!1;Ig(se)&&Ig(ge)?le=!N2(se,ge):le=se!==ge,le?se!=null?st(Se):E.add(Se):se!==void 0&&E.has(Se)?st(Se):G.protectedKeys[Se]=!0}G.prevProp=F,G.prevResolvedValues=V,G.isActive&&(T={...T,...V}),r&&t.blockInitialAnimation&&(S=!1);const kt=ae&&M;S&&(!kt||A)&&_.push(...D.map(Se=>{const se={type:z};if(typeof Se=="string"&&r&&!kt&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,le=Fa(ge,Se);if(ge.enteringChildren&&le){const{delayChildren:B}=le.transition||{};se.delay=e2(ge.enteringChildren,t,B)}}return{animation:Se,options:se}}))}if(E.size){const C={};if(typeof p.initial!="boolean"){const z=Fa(t,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(C.transition=z.transition)}E.forEach(z=>{const G=t.getBaseTarget(z),F=t.getValue(z);F&&(F.liveStyle=!0),C[z]=G??null}),_.push({animation:C})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=l(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Vx()}}}function pj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!N2(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}function jx(t,e){t.min=e.min,t.max=e.max}function Er(t,e){jx(t.x,e.x),jx(t.y,e.y)}function Fx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const D2=1e-4,mj=1-D2,gj=1+D2,M2=.01,yj=0-M2,vj=0+M2;function wn(t){return t.max-t.min}function wj(t,e,n){return Math.abs(t-e)<=n}function Ux(t,e,n,r=.5){t.origin=r,t.originPoint=ct(e.min,e.max,t.origin),t.scale=wn(n)/wn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mj&&t.scale<=gj||isNaN(t.scale))&&(t.scale=1),(t.translate>=yj&&t.translate<=vj||isNaN(t.translate))&&(t.translate=0)}function Tc(t,e,n,r){Ux(t.x,e.x,n.x,r?r.originX:void 0),Ux(t.y,e.y,n.y,r?r.originY:void 0)}function Bx(t,e,n){t.min=n.min+e.min,t.max=t.min+wn(e)}function _j(t,e,n){Bx(t.x,e.x,n.x),Bx(t.y,e.y,n.y)}function zx(t,e,n){t.min=e.min-n.min,t.max=t.min+wn(e)}function Mh(t,e,n){zx(t.x,e.x,n.x),zx(t.y,e.y,n.y)}function $x(t,e,n,r,s){return t-=e,t=Dh(t,1/n,r),s!==void 0&&(t=Dh(t,1/s,r)),t}function xj(t,e=0,n=1,r=.5,s,a=t,l=t){if(Wr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=ct(a.min,a.max,r);t===a&&(d-=e),t.min=$x(t.min,e,n,d,s),t.max=$x(t.max,e,n,d,s)}function Hx(t,e,[n,r,s],a,l){xj(t,e[n],e[r],e[s],e.scale,a,l)}const Ej=["x","scaleX","originX"],bj=["y","scaleY","originY"];function Wx(t,e,n,r){Hx(t.x,e,Ej,n?n.x:void 0,r?r.x:void 0),Hx(t.y,e,bj,n?n.y:void 0,r?r.y:void 0)}function qx(t){return t.translate===0&&t.scale===1}function O2(t){return qx(t.x)&&qx(t.y)}function Gx(t,e){return t.min===e.min&&t.max===e.max}function Tj(t,e){return Gx(t.x,e.x)&&Gx(t.y,e.y)}function Kx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function L2(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function Qx(t){return wn(t.x)/wn(t.y)}function Yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function jr(t){return[t("x"),t("y")]}function Ij(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:T,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),T&&(r+=`skewX(${T}deg) `),k&&(r+=`skewY(${k}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const V2=["TopLeft","TopRight","BottomLeft","BottomRight"],Sj=V2.length,Xx=t=>typeof t=="string"?parseFloat(t):t,Jx=t=>typeof t=="number"||fe.test(t);function kj(t,e,n,r,s,a){s?(t.opacity=ct(0,n.opacity??1,Cj(r)),t.opacityExit=ct(e.opacity??1,0,Aj(r))):a&&(t.opacity=ct(e.opacity??1,n.opacity??1,r));for(let l=0;l<Sj;l++){const d=`border${V2[l]}Radius`;let f=Zx(e,d),p=Zx(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Jx(f)===Jx(p)?(t[d]=Math.max(ct(Xx(f),Xx(p),r),0),(Wr.test(p)||Wr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,r))}function Zx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Cj=j2(0,.5,RT),Aj=j2(.5,.95,rr);function j2(t,e,n){return r=>r<t?0:r>e?1:n(jc(t,e,r))}function Pj(t,e,n){const r=ln(t)?t:qa(t);return r.start($y("",r,e,n)),r.animation}function zc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Rj=(t,e)=>t.depth-e.depth;class Nj{constructor(){this.children=[],this.isDirty=!1}add(e){Sy(this.children,e),this.isDirty=!0}remove(e){ky(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rj),this.isDirty=!1,this.children.forEach(e)}}function Dj(t,e){const n=vn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(wi(r),t(a-e))};return Ze.setup(r,!0),()=>wi(r)}function fh(t){return ln(t)?t.get():t}class Mj{constructor(){this.members=[]}add(e){Sy(this.members,e),e.scheduleRender()}remove(e){if(ky(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,a=e.options.layoutDependency;s!==void 0&&a!==void 0&&s===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:d}=e.options;d===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Mm=["","X","Y","Z"],Oj=1e3;let Lj=0;function Om(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function F2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=i2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&F2(r)}function U2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e?.()){this.id=Lj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fj),this.nodes.forEach($j),this.nodes.forEach(Hj),this.nodes.forEach(Uj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nj)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Py),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Qy(l)&&!jV(l),this.instance=l;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{_=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==_&&(_=T,this.root.updateBlockedByResize=!0,y&&y(),y=Dj(E,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(nE)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||Qj,{onLayoutAnimationStart:N,onLayoutAnimationComplete:C}=p.getProps(),z=!this.targetLayout||!L2(this.targetLayout,T),G=!_&&E;if(this.options.layoutRoot||this.resumeFrom||G||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...zy(k,"layout"),onPlay:N,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,G)}else _||nE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Wj),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zj),this.nodes.forEach(Vj),this.nodes.forEach(jj)):this.nodes.forEach(tE),this.clearAllSnapshots();const d=vn.now();Gt.delta=Kr(0,1e3/60,d-Gt.timestamp),Gt.timestamp=d,Gt.isProcessing=!0,Sm.update.process(Gt),Sm.preRender.process(Gt),Sm.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bj),this.sharedNodes.forEach(qj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wn(this.snapshot.measuredBox.x)&&!wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!O2(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;l&&this.instance&&(d||ao(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),Yj(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Dt();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xj))){const{scroll:p}=this.root;p&&(Ma(d.x,p.offset.x),Ma(d.y,p.offset.y))}return d}removeElementScroll(l){const d=Dt();if(Er(d,l),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Er(d,l),Ma(d.x,y.offset.x),Ma(d.y,y.offset.y))}return d}applyTransform(l,d=!1){const f=Dt();Er(f,l);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Oa(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ao(y.latestValues)&&Oa(f,y.latestValues)}return ao(this.latestValues)&&Oa(f,this.latestValues),f}removeTransform(l){const d=Dt();Er(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ao(p.latestValues))continue;Rg(p.latestValues)&&p.updateSnapshot();const y=Dt(),_=p.measurePageBox();Er(y,_),Wx(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ao(this.latestValues)&&Wx(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Gt.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_j(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),b2(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Rg(this.parent.latestValues)||E2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,d,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Mh(this.relativeTargetOrigin,d,f),Er(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Er(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;QV(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Dt());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fx(this.prevProjectionDelta.x,this.projectionDelta.x),Fx(this.prevProjectionDelta.y,this.projectionDelta.y)),Tc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(l,d=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=Dt(),T=f?f.source:void 0,k=this.layout?this.layout.source:void 0,N=T!==k,C=this.getStack(),z=!C||C.members.length<=1,G=!!(N&&!z&&this.options.crossfade===!0&&!this.path.some(Kj));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const te=Y/1e3;rE(_.x,l.x,te),rE(_.y,l.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mh(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Gj(this.relativeTarget,this.relativeTargetOrigin,E,te),F&&Tj(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Dt()),Er(F,this.relativeTarget)),N&&(this.animationValues=y,kj(y,p,this.latestValues,te,G,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{ph.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qa(0)),this.currentAnimation=Pj(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:y}=l;if(!(!d||!f||!p)){if(this!==l&&this.layout&&p&&B2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Dt();const _=wn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=wn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Er(d,f),Oa(d,y),Tc(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Mj),this.sharedNodes.get(l).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Om("z",l,p,this.animationValues);for(let y=0;y<Mm.length;y++)Om(`rotate${Mm[y]}`,l,p,this.animationValues),Om(`skew${Mm[y]}`,l,p,this.animationValues);l.render();for(const y in p)l.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=fh(d?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=fh(d?.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=Ij(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),l.transform=_;const{x:E,y:T}=this.projectionDelta;l.transformOrigin=`${E.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:l.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const k in Dg){if(y[k]===void 0)continue;const{correct:N,applyTo:C,isCSSVariable:z}=Dg[k],G=_==="none"?y[k]:N(y[k],p);if(C){const F=C.length;for(let Y=0;Y<F;Y++)l[C[Y]]=G}else z?this.options.visualElement.renderState.vars[k]=G:l[k]=G}this.options.layoutId&&(l.pointerEvents=p===this?fh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(eE),this.root.sharedNodes.clear()}}}function Vj(t){t.updateLayout()}function jj(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?jr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=wn(_);_.min=n[y].min,_.max=_.min+E}):B2(s,e.layoutBox,n)&&jr(y=>{const _=a?e.measuredBox[y]:e.layoutBox[y],E=wn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const l=Da();Tc(l,n,e.layoutBox);const d=Da();a?Tc(d,t.applyTransform(r,!0),e.measuredBox):Tc(d,n,e.layoutBox);const f=!O2(l);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const T=Dt();Mh(T,e.layoutBox,_.layoutBox);const k=Dt();Mh(k,n,E.layoutBox),L2(T,k)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Fj(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bj(t){t.clearSnapshot()}function eE(t){t.clearMeasurements()}function tE(t){t.isLayoutDirty=!1}function zj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $j(t){t.resolveTargetDelta()}function Hj(t){t.calcProjection()}function Wj(t){t.resetSkewAndRotation()}function qj(t){t.removeLeadSnapshot()}function rE(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sE(t,e,n,r){t.min=ct(e.min,n.min,r),t.max=ct(e.max,n.max,r)}function Gj(t,e,n,r){sE(t.x,e.x,n.x,r),sE(t.y,e.y,n.y,r)}function Kj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qj={duration:.45,ease:[.4,0,.1,1]},iE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oE=iE("applewebkit/")&&!iE("chrome/")?Math.round:rr;function aE(t){t.min=oE(t.min),t.max=oE(t.max)}function Yj(t){aE(t.x),aE(t.y)}function B2(t,e,n){return t==="position"||t==="preserve-aspect"&&!wj(Qx(e),Qx(n),.2)}function Xj(t){return t!==t.root&&t.scroll?.wasRoot}const Jj=U2({attachResizeListener:(t,e)=>zc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Lm={current:void 0},z2=U2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lm.current){const t=new Jj({});t.mount(window),t.setOptions({layoutScroll:!0}),Lm.current=t}return Lm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e0=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zj(...t){return e=>{let n=!1;const r=t.map(s=>{const a=lE(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():lE(t[s],null)}}}}function e5(...t){return j.useCallback(Zj(...t),t)}class t5 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,s=Ag(r)&&r.offsetWidth||0,a=Ag(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function n5({children:t,isPresent:e,anchorX:n,anchorY:r,root:s,pop:a}){const l=j.useId(),d=j.useRef(null),f=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=j.useContext(e0),y=t.props?.ref??t?.ref,_=e5(d,y);return j.useInsertionEffect(()=>{const{width:E,height:T,top:k,left:N,right:C,bottom:z}=f.current;if(e||a===!1||!d.current||!E||!T)return;const G=n==="left"?`left: ${N}`:`right: ${C}`,F=r==="bottom"?`bottom: ${z}`:`top: ${k}`;d.current.dataset.motionPopId=l;const Y=document.createElement("style");p&&(Y.nonce=p);const te=s??document.head;return te.appendChild(Y),Y.sheet&&Y.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${T}px !important;
            ${G}px !important;
            ${F}px !important;
          }
        `),()=>{te.contains(Y)&&te.removeChild(Y)}},[e]),g.jsx(t5,{isPresent:e,childRef:d,sizeRef:f,pop:a,children:a===!1?t:j.cloneElement(t,{ref:_})})}const r5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:d,anchorY:f,root:p})=>{const y=Iy(s5),_=j.useId();let E=!0,T=j.useMemo(()=>(E=!1,{id:_,initial:e,isPresent:n,custom:s,onExitComplete:k=>{y.set(k,!0);for(const N of y.values())if(!N)return;r&&r()},register:k=>(y.set(k,!1),()=>y.delete(k))}),[n,y,r]);return a&&E&&(T={...T}),j.useMemo(()=>{y.forEach((k,N)=>y.set(N,!1))},[n]),j.useEffect(()=>{!n&&!y.size&&r&&r()},[n]),t=g.jsx(n5,{pop:l==="popLayout",isPresent:n,anchorX:d,anchorY:f,root:p,children:t}),g.jsx(uf.Provider,{value:T,children:t})};function s5(){return new Map}function $2(t=!0){const e=j.useContext(uf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=j.useId();j.useEffect(()=>{if(t)return s(a)},[t]);const l=j.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Qd=t=>t.key||"";function cE(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const ff=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:d="left",anchorY:f="top",root:p})=>{const[y,_]=$2(l),E=j.useMemo(()=>cE(t),[t]),T=l&&!y?[]:E.map(Qd),k=j.useRef(!0),N=j.useRef(E),C=Iy(()=>new Map),z=j.useRef(new Set),[G,F]=j.useState(E),[Y,te]=j.useState(E);_T(()=>{k.current=!1,N.current=E;for(let S=0;S<Y.length;S++){const A=Qd(Y[S]);T.includes(A)?(C.delete(A),z.current.delete(A)):C.get(A)!==!0&&C.set(A,!1)}},[Y,T.length,T.join("-")]);const ae=[];if(E!==G){let S=[...E];for(let A=0;A<Y.length;A++){const D=Y[A],V=Qd(D);T.includes(V)||(S.splice(A,0,D),ae.push(D))}return a==="wait"&&ae.length&&(S=ae),te(cE(S)),F(E),null}const{forceRender:M}=j.useContext(Ty);return g.jsx(g.Fragment,{children:Y.map(S=>{const A=Qd(S),D=l&&!y?!1:E===Y||T.includes(A),V=()=>{if(z.current.has(A))return;if(z.current.add(A),C.has(A))C.set(A,!0);else return;let U=!0;C.forEach(R=>{R||(U=!1)}),U&&(M?.(),te(N.current),l&&_?.(),r&&r())};return g.jsx(r5,{isPresent:D,initial:!k.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:p,onExitComplete:D?void 0:V,anchorX:d,anchorY:f,children:S},A)})})},H2=j.createContext({strict:!1}),uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let dE=!1;function i5(){if(dE)return;const t={};for(const e in uE)t[e]={isEnabled:n=>uE[e].some(r=>!!n[r])};w2(t),dE=!0}function W2(){return i5(),WV()}function o5(t){const e=W2();for(const n in t)e[n]={...e[n],...t[n]};w2(e)}const a5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a5.has(t)}let q2=t=>!Oh(t);function l5(t){typeof t=="function"&&(q2=e=>e.startsWith("on")?!Oh(e):t(e))}try{l5(require("@emotion/is-prop-valid").default)}catch{}function c5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(q2(s)||n===!0&&Oh(s)||!e&&!Oh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const pf=j.createContext({});function u5(t,e){if(hf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bc(n)?n:void 0,animate:Bc(r)?r:void 0}}return t.inherit!==!1?e:{}}function d5(t){const{initial:e,animate:n}=u5(t,j.useContext(pf));return j.useMemo(()=>({initial:e,animate:n}),[hE(e),hE(n)])}function hE(t){return Array.isArray(t)?t.join(" "):t}const t0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G2(t,e,n){for(const r in e)!ln(e[r])&&!S2(r,n)&&(t[r]=e[r])}function h5({transformTemplate:t},e){return j.useMemo(()=>{const n=t0();return Jy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function f5(t,e){const n=t.style||{},r={};return G2(r,n,t),Object.assign(r,h5(t,e)),r}function p5(t,e){const n={},r=f5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const K2=()=>({...t0(),attrs:{}});function m5(t,e,n,r){const s=j.useMemo(()=>{const a=K2();return k2(a,e,A2(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};G2(a,t.style,t),s.style={...a,...s.style}}return s}const g5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n0(t){return typeof t!="string"||t.includes("-")?!1:!!(g5.indexOf(t)>-1||/[A-Z]/u.test(t))}function y5(t,e,n,{latestValues:r},s,a=!1,l){const f=(l??n0(t)?m5:p5)(e,r,s,t),p=c5(e,typeof t=="string",a),y=t!==j.Fragment?{...p,...f,ref:n}:{},{children:_}=e,E=j.useMemo(()=>ln(_)?_.get():_,[_]);return j.createElement(t,{...y,children:E})}function v5({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:w5(n,r,s,t),renderState:e()}}function w5(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=fh(a[E]);let{initial:l,animate:d}=t;const f=hf(t),p=v2(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let y=n?n.initial===!1:!1;y=y||l===!1;const _=y?d:l;if(_&&typeof _!="boolean"&&!df(_)){const E=Array.isArray(_)?_:[_];for(let T=0;T<E.length;T++){const k=Hy(t,E[T]);if(k){const{transitionEnd:N,transition:C,...z}=k;for(const G in z){let F=z[G];if(Array.isArray(F)){const Y=y?F.length-1:0;F=F[Y]}F!==null&&(s[G]=F)}for(const G in N)s[G]=N[G]}}}return s}const Q2=t=>(e,n)=>{const r=j.useContext(pf),s=j.useContext(uf),a=()=>v5(t,e,r,s);return n?a():Iy(a)},_5=Q2({scrapeMotionValuesFromProps:Zy,createRenderState:t0}),x5=Q2({scrapeMotionValuesFromProps:P2,createRenderState:K2}),E5=Symbol.for("motionComponentSymbol");function b5(t,e,n){const r=j.useRef(n);j.useInsertionEffect(()=>{r.current=n});const s=j.useRef(null);return j.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const d=l(a);typeof d=="function"&&(s.current=d)}else s.current?(s.current(),s.current=null):l(a);else l&&(l.current=a)},[e])}const Y2=j.createContext({});function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function T5(t,e,n,r,s,a){const{visualElement:l}=j.useContext(pf),d=j.useContext(H2),f=j.useContext(uf),p=j.useContext(e0),y=p.reducedMotion,_=p.skipAnimations,E=j.useRef(null),T=j.useRef(!1);r=r||d.renderer,!E.current&&r&&(E.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:a}),T.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const k=E.current,N=j.useContext(Y2);k&&!k.projection&&s&&(k.type==="html"||k.type==="svg")&&I5(E.current,n,s,N);const C=j.useRef(!1);j.useInsertionEffect(()=>{k&&C.current&&k.update(n,f)});const z=n[s2],G=j.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return _T(()=>{T.current=!0,k&&(C.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),G.current&&k.animationState&&k.animationState.animateChanges())}),j.useEffect(()=>{k&&(!G.current&&k.animationState&&k.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),G.current=!1),k.enteringChildren=void 0)}),k}function I5(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:X2(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||d&&Sa(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:f,layoutRoot:p})}function X2(t){if(t)return t.options.allowProjection!==!1?t.projection:X2(t.parent)}function Vm(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&o5(r);const a=n?n==="svg":n0(t),l=a?x5:_5;function d(p,y){let _;const E={...j.useContext(e0),...p,layoutId:S5(p)},{isStatic:T}=E,k=d5(p),N=l(p,T);if(!T&&wT){k5();const C=C5(E);_=C.MeasureLayout,k.visualElement=T5(t,N,E,s,C.ProjectionNode,a)}return g.jsxs(pf.Provider,{value:k,children:[_&&k.visualElement?g.jsx(_,{visualElement:k.visualElement,...E}):null,y5(t,p,b5(N,k.visualElement,y),N,T,e,a)]})}d.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=j.forwardRef(d);return f[E5]=t,f}function S5({layoutId:t}){const e=j.useContext(Ty).id;return e&&t!==void 0?e+"-"+t:t}function k5(t,e){j.useContext(H2).strict}function C5(t){const e=W2(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function A5(t,e){if(typeof Proxy>"u")return Vm;const n=new Map,r=(a,l)=>Vm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Vm(l,void 0,t,e)),n.get(l))})}const P5=(t,e)=>e.isSVG??n0(t)?new lj(e):new nj(e,{allowProjection:t!==j.Fragment});class R5 extends ki{constructor(e){super(e),e.animationState||(e.animationState=fj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();df(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N5=0;class D5 extends ki{constructor(){super(...arguments),this.id=N5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M5={animation:{Feature:R5},exit:{Feature:D5}};function pu(t){return{point:{x:t.pageX,y:t.pageY}}}const O5=t=>e=>Ky(e)&&t(e,pu(e));function Ic(t,e,n,r){return zc(t,e,O5(n),r)}const J2=({current:t})=>t?t.ownerDocument.defaultView:null,fE=(t,e)=>Math.abs(t-e);function L5(t,e){const n=fE(t.x,e.x),r=fE(t.y,e.y);return Math.sqrt(n**2+r**2)}const pE=new Set(["auto","scroll"]);class Z2{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Fm(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,N=L5(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!N)return;const{point:C}=T,{timestamp:z}=Gt;this.history.push({...C,timestamp:z});const{onStart:G,onMove:F}=this.handlers;k||(G&&G(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,T)},this.handlePointerMove=(T,k)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=jm(k,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(T,k)=>{this.end();const{onEnd:N,onSessionEnd:C,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Fm(T.type==="pointercancel"?this.lastMoveEventInfo:jm(k,this.transformPagePoint),this.history);this.startEvent&&N&&N(T,G),C&&C(T,G)},!Ky(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const f=pu(e),p=jm(f,this.transformPagePoint),{point:y}=p,{timestamp:_}=Gt;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=n;E&&E(e,Fm(p,this.history)),this.removeListeners=du(Ic(this.contextWindow,"pointermove",this.handlePointerMove),Ic(this.contextWindow,"pointerup",this.handlePointerUp),Ic(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(pE.has(r.overflowX)||pE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),Ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wi(this.updatePoint)}}function jm(t,e){return e?{point:e(t.point)}:t}function mE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fm({point:t},e){return{point:t,delta:mE(t,eI(e)),offset:mE(t,V5(e)),velocity:j5(e,.1)}}function V5(t){return t[0]}function eI(t){return t[t.length-1]}function j5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=eI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Hr(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&s.timestamp-r.timestamp>Hr(e)*2&&(r=t[1]);const a=tr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function F5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ct(n,t,r.max):Math.min(t,n)),t}function gE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function U5(t,{top:e,left:n,bottom:r,right:s}){return{x:gE(t.x,n,s),y:gE(t.y,e,r)}}function yE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function B5(t,e){return{x:yE(t.x,e.x),y:yE(t.y,e.y)}}function z5(t,e){let n=.5;const r=wn(t),s=wn(e);return s>r?n=jc(e.min,e.max-r,t.min):r>s&&(n=jc(t.min,t.max-s,e.min)),Kr(0,1,n)}function $5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mg=.35;function H5(t=Mg){return t===!1?t=0:t===!0&&(t=Mg),{x:vE(t,"left","right"),y:vE(t,"top","bottom")}}function vE(t,e,n){return{min:wE(t,e),max:wE(t,n)}}function wE(t,e){return typeof t=="number"?t:t[e]||0}const W5=new WeakMap;class q5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=_=>{n&&this.snapToCursor(pu(_).point),this.stopAnimation()},l=(_,E)=>{const{drag:T,dragPropagation:k,onDragStart:N}=this.getProps();if(T&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xV(T),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(z=>{let G=this.getAxisMotionValue(z).get()||0;if(Wr.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[z];Y&&(G=wn(Y)*(parseFloat(G)/100))}}this.originPoint[z]=G}),N&&Ze.update(()=>N(_,E),!1,!0),Sg(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:T,dragDirectionLock:k,onDirectionLock:N,onDrag:C}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:z}=E;if(k&&this.currentDirection===null){this.currentDirection=K5(z),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",E.point,z),this.updateAxis("y",E.point,z),this.visualElement.render(),C&&Ze.update(()=>C(_,E),!1,!0)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new Z2(e,{onSessionStart:a,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:J2(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Ze.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=F5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=U5(r.layoutBox,e):this.constraints=!1,this.elastic=H5(n),s!==this.constraints&&!Sa(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&jr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=$5(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=YV(r,s.root,this.visualElement.getTransformPagePoint());let l=B5(s.layout.layoutBox,a);if(n){const d=n(GV(l));this.hasMutatedConstraints=!!d,d&&(l=x2(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=jr(y=>{if(!Yd(y,n,this.currentDirection))return;let _=f&&f[y]||{};l&&(_={min:0,max:0});const E=s?200:1e6,T=s?40:1e7,k={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,k)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sg(this.visualElement,e),r.start($y(e,r,0,n,this.visualElement,!1))}stopAnimation(){jr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jr(n=>{const{drag:r}=this.getProps();if(!Yd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[n],f=a.get()||0;a.set(e[n]-ct(l,d,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();s[l]=z5({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),jr(l=>{if(!Yd(l,e,null))return;const d=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];d.set(ct(f,p,s[l]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;W5.set(this.visualElement,this);const e=this.visualElement.current,n=Ic(e,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),E=p.target,T=E!==e&&kV(E);y&&_&&!T&&this.start(p)});let r;const s=()=>{const{dragConstraints:p}=this.getProps();Sa(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),r||(r=G5(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ze.read(s);const d=zc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(jr(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),l(),f&&f(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Mg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function _E(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function G5(t,e,n){const r=kx(t,_E(n)),s=kx(e,_E(n));return()=>{r(),s()}}function Yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function K5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Q5 extends ki{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new q5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Um=t=>(e,n)=>{t&&Ze.update(()=>t(e,n),!1,!0)};class Y5 extends ki{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new Z2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Um(e),onStart:Um(n),onMove:Um(r),onEnd:(a,l)=>{delete this.session,s&&Ze.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Bm=!1;class X5 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),Bm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),Bm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ze.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Bm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function tI(t){const[e,n]=$2(),r=j.useContext(Ty);return g.jsx(X5,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(Y2),isPresent:e,safeToRemove:n})}const J5={pan:{Feature:Y5},drag:{Feature:Q5,ProjectionNode:z2,MeasureLayout:tI}};function xE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ze.postRender(()=>a(e,pu(e)))}class Z5 extends ki{mount(){const{current:e}=this.node;e&&(this.unmount=bV(e,(n,r)=>(xE(this.node,r,"Start"),s=>xE(this.node,s,"End"))))}unmount(){}}class e4 extends ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=du(zc(this.node.current,"focus",()=>this.onFocus()),zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ze.postRender(()=>a(e,pu(e)))}class t4 extends ki{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=AV(e,(s,a)=>(EE(this.node,a,"Start"),(l,{success:d})=>EE(this.node,l,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const Og=new WeakMap,zm=new WeakMap,n4=t=>{const e=Og.get(t.target);e&&e(t)},r4=t=>{t.forEach(n4)};function s4({root:t,...e}){const n=t||document;zm.has(n)||zm.set(n,{});const r=zm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(r4,{root:t,...e})),r[s]}function i4(t,e,n){const r=s4(e);return Og.set(t,n),r.observe(t),()=>{Og.delete(t),r.unobserve(t)}}const o4={some:0,all:1};class a4 extends ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:o4[s]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return i4(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(l4(e,n))&&this.startObserver()}unmount(){}}function l4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const c4={inView:{Feature:a4},tap:{Feature:t4},focus:{Feature:e4},hover:{Feature:Z5}},u4={layout:{ProjectionNode:z2,MeasureLayout:tI}},d4={...M5,...c4,...J5,...u4},It=A5(d4,P5),h4=({activeTab:t,onTabChange:e})=>{const n=[{id:"dashboard",label:"Inicio",icon:g.jsx(DM,{size:22}),path:"dashboard"},{id:"analyzer",label:"Mente IA",icon:g.jsx(sl,{size:22}),path:"analyzer"},{id:"history",label:"Progreso",icon:g.jsx(fT,{size:22}),path:"history"},{id:"settings",label:"Clnico",icon:g.jsx(KM,{size:22}),path:"settings"},{id:"profile",label:"T",icon:g.jsx(yT,{size:22}),path:"profile"}],r=t==="clinical-settings"?"settings":t||"dashboard";return g.jsx("div",{className:"fixed bottom-0 left-0 right-0 px-6 pb-8 pt-4 z-[900] pointer-events-none",children:g.jsx("nav",{className:"max-w-md mx-auto bg-white/80 backdrop-blur-2xl border border-white/40 shadow-[0_20px_50px_rgba(0,0,0,0.1)] rounded-[2.5rem] px-2 py-3 flex items-center justify-between pointer-events-auto relative overflow-hidden",children:n.map(s=>{const a=r===s.id;return g.jsxs("button",{onClick:()=>e(s.path),className:"relative flex flex-col items-center justify-center py-2 px-3 transition-all duration-500 group flex-1",children:[a&&g.jsx(It.div,{layoutId:"nav-indicator",className:"absolute -top-3 w-1.5 h-1.5 bg-blue-600 rounded-full shadow-[0_0_10px_#2563EB]",transition:{type:"spring",stiffness:380,damping:30}}),g.jsx("div",{className:`transition-all duration-300 transform ${a?"scale-110 text-blue-600":"text-slate-400 group-hover:text-slate-600"}`,children:s.icon}),g.jsx("span",{className:`text-[8px] font-black uppercase tracking-[0.1em] mt-1.5 transition-colors duration-300 ${a?"text-blue-600":"text-slate-400"}`,children:s.label}),a&&g.jsx(It.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-blue-50/50 rounded-2xl -z-10",transition:{type:"spring",stiffness:300,damping:30}})]},s.id)})})})},f4=({message:t,type:e="info",actionText:n,onAction:r,duration:s=4e3,snackbarKey:a})=>{const[l,d]=j.useState(!1);if(j.useEffect(()=>{if(a>0){d(!0);const p=setTimeout(()=>d(!1),s);return()=>clearTimeout(p)}},[a,s]),!l)return null;const f={success:"bg-metra-green shadow-metra-green/20",error:"bg-red-500 shadow-red-500/20",info:"bg-metra-dark shadow-metra-dark/20"};return g.jsx("div",{className:"fixed top-10 left-1/2 -translate-x-1/2 z-[2000] w-[90%] max-w-sm p-1 rounded-[2rem] animate-in slide-in-from-top-10 duration-500",children:g.jsxs("div",{className:`flex items-center justify-between px-6 py-4 rounded-[1.8rem] text-white shadow-2xl ${f[e]} backdrop-blur-md border border-white/10`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:t})]}),n&&g.jsx("button",{onClick:()=>{r?.(),d(!1)},className:"bg-white/20 px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-white/30 transition-colors",children:n})]})})};var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mo,nI;(function(){var t;function e(M,S){function A(){}A.prototype=S.prototype,M.D=S.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,V,U){for(var R=Array(arguments.length-2),st=2;st<arguments.length;st++)R[st-2]=arguments[st];return S.prototype[V].apply(D,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;16>V;++V)D[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=M.g[0],A=M.g[1],V=M.g[2];var U=M.g[3],R=S+(U^A&(V^U))+D[0]+3614090360&4294967295;S=A+(R<<7&4294967295|R>>>25),R=U+(V^S&(A^V))+D[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(A^U&(S^A))+D[2]+606105819&4294967295,V=U+(R<<17&4294967295|R>>>15),R=A+(S^V&(U^S))+D[3]+3250441966&4294967295,A=V+(R<<22&4294967295|R>>>10),R=S+(U^A&(V^U))+D[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(V^S&(A^V))+D[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(A^U&(S^A))+D[6]+2821735955&4294967295,V=U+(R<<17&4294967295|R>>>15),R=A+(S^V&(U^S))+D[7]+4249261313&4294967295,A=V+(R<<22&4294967295|R>>>10),R=S+(U^A&(V^U))+D[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(V^S&(A^V))+D[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(A^U&(S^A))+D[10]+4294925233&4294967295,V=U+(R<<17&4294967295|R>>>15),R=A+(S^V&(U^S))+D[11]+2304563134&4294967295,A=V+(R<<22&4294967295|R>>>10),R=S+(U^A&(V^U))+D[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=U+(V^S&(A^V))+D[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=V+(A^U&(S^A))+D[14]+2792965006&4294967295,V=U+(R<<17&4294967295|R>>>15),R=A+(S^V&(U^S))+D[15]+1236535329&4294967295,A=V+(R<<22&4294967295|R>>>10),R=S+(V^U&(A^V))+D[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^V&(S^A))+D[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^A&(U^S))+D[11]+643717713&4294967295,V=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(V^U))+D[0]+3921069994&4294967295,A=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(A^V))+D[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^V&(S^A))+D[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^A&(U^S))+D[15]+3634488961&4294967295,V=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(V^U))+D[4]+3889429448&4294967295,A=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(A^V))+D[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^V&(S^A))+D[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^A&(U^S))+D[3]+4107603335&4294967295,V=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(V^U))+D[8]+1163531501&4294967295,A=V+(R<<20&4294967295|R>>>12),R=S+(V^U&(A^V))+D[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=U+(A^V&(S^A))+D[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=V+(S^A&(U^S))+D[7]+1735328473&4294967295,V=U+(R<<14&4294967295|R>>>18),R=A+(U^S&(V^U))+D[12]+2368359562&4294967295,A=V+(R<<20&4294967295|R>>>12),R=S+(A^V^U)+D[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^V)+D[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^A)+D[11]+1839030562&4294967295,V=U+(R<<16&4294967295|R>>>16),R=A+(V^U^S)+D[14]+4259657740&4294967295,A=V+(R<<23&4294967295|R>>>9),R=S+(A^V^U)+D[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^V)+D[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^A)+D[7]+4139469664&4294967295,V=U+(R<<16&4294967295|R>>>16),R=A+(V^U^S)+D[10]+3200236656&4294967295,A=V+(R<<23&4294967295|R>>>9),R=S+(A^V^U)+D[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^V)+D[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^A)+D[3]+3572445317&4294967295,V=U+(R<<16&4294967295|R>>>16),R=A+(V^U^S)+D[6]+76029189&4294967295,A=V+(R<<23&4294967295|R>>>9),R=S+(A^V^U)+D[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=U+(S^A^V)+D[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=V+(U^S^A)+D[15]+530742520&4294967295,V=U+(R<<16&4294967295|R>>>16),R=A+(V^U^S)+D[2]+3299628645&4294967295,A=V+(R<<23&4294967295|R>>>9),R=S+(V^(A|~U))+D[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~V))+D[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~A))+D[14]+2878612391&4294967295,V=U+(R<<15&4294967295|R>>>17),R=A+(U^(V|~S))+D[5]+4237533241&4294967295,A=V+(R<<21&4294967295|R>>>11),R=S+(V^(A|~U))+D[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~V))+D[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~A))+D[10]+4293915773&4294967295,V=U+(R<<15&4294967295|R>>>17),R=A+(U^(V|~S))+D[1]+2240044497&4294967295,A=V+(R<<21&4294967295|R>>>11),R=S+(V^(A|~U))+D[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~V))+D[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~A))+D[6]+2734768916&4294967295,V=U+(R<<15&4294967295|R>>>17),R=A+(U^(V|~S))+D[13]+1309151649&4294967295,A=V+(R<<21&4294967295|R>>>11),R=S+(V^(A|~U))+D[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=U+(A^(S|~V))+D[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=V+(S^(U|~A))+D[2]+718787259&4294967295,V=U+(R<<15&4294967295|R>>>17),R=A+(U^(V|~S))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}r.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var A=S-this.blockSize,D=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=A;)s(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(D[V++]=M.charCodeAt(U++),V==this.blockSize){s(this,D),V=0;break}}else for(;U<S;)if(D[V++]=M[U++],V==this.blockSize){s(this,D),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var A=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=A&255,A/=256;for(this.u(M),M=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)M[A++]=this.g[S]>>>D&255;return M};function a(M,S){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=S(M)}function l(M,S){this.h=S;for(var A=[],D=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;D&&U==S||(A[V]=U,D=!1)}this.g=A}var d={};function f(M){return-128<=M&&128>M?a(M,function(S){return new l([S|0],0>S?-1:0)}):new l([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return C(p(-M));for(var S=[],A=1,D=0;M>=A;D++)S[D]=M/A|0,A*=4294967296;return new l(S,0)}function y(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return C(y(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(S,8)),D=_,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+U),S);8>U?(U=p(Math.pow(S,U)),D=D.j(U).add(p(R))):(D=D.j(A),D=D.add(p(R)))}return D}var _=f(0),E=f(1),T=f(16777216);t=l.prototype,t.m=function(){if(N(this))return-C(this).m();for(var M=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*S,S*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(N(this))return"-"+C(this).toString(M);for(var S=p(Math.pow(M,6)),A=this,D="";;){var V=Y(A,S).g;A=z(A,V.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,k(A))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function N(M){return M.h==-1}t.l=function(M){return M=z(this,M),N(M)?-1:k(M)?0:1};function C(M){for(var S=M.g.length,A=[],D=0;D<S;D++)A[D]=~M.g[D];return new l(A,~M.h).add(E)}t.abs=function(){return N(this)?C(this):this},t.add=function(M){for(var S=Math.max(this.g.length,M.g.length),A=[],D=0,V=0;V<=S;V++){var U=D+(this.i(V)&65535)+(M.i(V)&65535),R=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);D=R>>>16,U&=65535,R&=65535,A[V]=R<<16|U}return new l(A,A[A.length-1]&-2147483648?-1:0)};function z(M,S){return M.add(C(S))}t.j=function(M){if(k(this)||k(M))return _;if(N(this))return N(M)?C(this).j(C(M)):C(C(this).j(M));if(N(M))return C(this.j(C(M)));if(0>this.l(T)&&0>M.l(T))return p(this.m()*M.m());for(var S=this.g.length+M.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<M.g.length;V++){var U=this.i(D)>>>16,R=this.i(D)&65535,st=M.i(V)>>>16,kt=M.i(V)&65535;A[2*D+2*V]+=R*kt,G(A,2*D+2*V),A[2*D+2*V+1]+=U*kt,G(A,2*D+2*V+1),A[2*D+2*V+1]+=R*st,G(A,2*D+2*V+1),A[2*D+2*V+2]+=U*st,G(A,2*D+2*V+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new l(A,0)};function G(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function F(M,S){this.g=M,this.h=S}function Y(M,S){if(k(S))throw Error("division by zero");if(k(M))return new F(_,_);if(N(M))return S=Y(C(M),S),new F(C(S.g),C(S.h));if(N(S))return S=Y(M,C(S)),new F(C(S.g),S.h);if(30<M.g.length){if(N(M)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var A=E,D=S;0>=D.l(M);)A=te(A),D=te(D);var V=ae(A,1),U=ae(D,1);for(D=ae(D,2),A=ae(A,2);!k(D);){var R=U.add(D);0>=R.l(M)&&(V=V.add(A),U=R),D=ae(D,1),A=ae(A,1)}return S=z(M,V.j(S)),new F(V,S)}for(V=_;0<=M.l(S);){for(A=Math.max(1,Math.floor(M.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=p(A),R=U.j(S);N(R)||0<R.l(M);)A-=D,U=p(A),R=U.j(S);k(U)&&(U=E),V=V.add(U),M=z(M,R)}return new F(V,M)}t.A=function(M){return Y(this,M).h},t.and=function(M){for(var S=Math.max(this.g.length,M.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&M.i(D);return new l(A,this.h&M.h)},t.or=function(M){for(var S=Math.max(this.g.length,M.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|M.i(D);return new l(A,this.h|M.h)},t.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^M.i(D);return new l(A,this.h^M.h)};function te(M){for(var S=M.g.length+1,A=[],D=0;D<S;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new l(A,M.h)}function ae(M,S){var A=S>>5;S%=32;for(var D=M.g.length-A,V=[],U=0;U<D;U++)V[U]=0<S?M.i(U+A)>>>S|M.i(U+A+1)<<32-S:M.i(U+A);return new l(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,mo=l}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rI,yc,sI,mh,Lg,iI,oI,aI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,x){return u==Array.prototype||u==Object.prototype||(u[v]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var v=0;v<u.length;++v){var x=u[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var x=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var $=u[I];if(!($ in x))break e;x=x[$]}u=u[u.length-1],I=x[u],v=v(I),v!=I&&v!=null&&e(x,u,{configurable:!0,writable:!0,value:v})}}function a(u,v){u instanceof String&&(u+="");var x=0,I=!1,$={next:function(){if(!I&&x<u.length){var K=x++;return{value:v(K,u[K]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return a(this,function(v,x){return x})}});var l=l||{},d=this||self;function f(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function y(u,v,x){return u.call.apply(u.bind,arguments)}function _(u,v,x){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),u.apply(v,$)}}return function(){return u.apply(v,arguments)}}function E(u,v,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function T(u,v){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function k(u,v){function x(){}x.prototype=v.prototype,u.aa=v.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(I,$,K){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return v.prototype[$].apply(I,oe)}}function N(u){const v=u.length;if(0<v){const x=Array(v);for(let I=0;I<v;I++)x[I]=u[I];return x}return[]}function C(u,v){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(f(I)){const $=u.length||0,K=I.length||0;u.length=$+K;for(let oe=0;oe<K;oe++)u[$+oe]=I[oe]}else u.push(I)}}class z{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(u){return/^[\s\xa0]*$/.test(u)}function F(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var te=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ae(u,v,x){for(const I in u)v.call(x,u[I],I,u)}function M(u,v){for(const x in u)v.call(void 0,u[x],x,u)}function S(u){const v={};for(const x in u)v[x]=u[x];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,v){let x,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(x in I)u[x]=I[x];for(let K=0;K<A.length;K++)x=A[K],Object.prototype.hasOwnProperty.call(I,x)&&(u[x]=I[x])}}function V(u){var v=1;u=u.split(":");const x=[];for(;0<v&&u.length;)x.push(u.shift()),v--;return u.length&&x.push(u.join(":")),x}function U(u){d.setTimeout(()=>{throw u},0)}function R(){var u=ge;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class st{constructor(){this.h=this.g=null}add(v,x){const I=kt.get();I.set(v,x),this.h?this.h.next=I:this.g=I,this.h=I}}var kt=new z(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,se=!1,ge=new st,le=()=>{const u=d.Promise.resolve(void 0);Se=()=>{u.then(B)}};var B=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(x){U(x)}var v=kt;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}se=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Pe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};d.addEventListener("test",x,v),d.removeEventListener("test",x,v)}catch{}return u})();function Re(u,v){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(te){e:{try{Y(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else x=="mouseover"?v=u.fromElement:x=="mouseout"&&(v=u.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}k(Re,we);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ye(u,v,x,I,$){this.listener=u,this.proxy=null,this.src=v,this.type=x,this.capture=!!I,this.ha=$,this.key=++$e,this.da=this.fa=!1}function Ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xr(u){this.src=u,this.g={},this.h=0}Xr.prototype.add=function(u,v,x,I,$){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var oe=ks(u,v,I,$);return-1<oe?(v=u[oe],x||(v.fa=!1)):(v=new Ye(v,this.src,K,!!I,$),v.fa=x,u.push(v)),v};function Do(u,v){var x=v.type;if(x in u.g){var I=u.g[x],$=Array.prototype.indexOf.call(I,v,void 0),K;(K=0<=$)&&Array.prototype.splice.call(I,$,1),K&&(Ot(v),u.g[x].length==0&&(delete u.g[x],u.h--))}}function ks(u,v,x,I){for(var $=0;$<u.length;++$){var K=u[$];if(!K.da&&K.listener==v&&K.capture==!!x&&K.ha==I)return $}return-1}var Pi="closure_lm_"+(1e6*Math.random()|0),Mo={};function gl(u,v,x,I,$){if(Array.isArray(v)){for(var K=0;K<v.length;K++)gl(u,v[K],x,I,$);return null}return x=wl(x),u&&u[ze]?u.K(v,x,p(I)?!!I.capture:!1,$):yl(u,v,x,!1,I,$)}function yl(u,v,x,I,$,K){if(!v)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,qe=Lo(u);if(qe||(u[Pi]=qe=new Xr(u)),x=qe.add(v,x,I,oe,K),x.proxy)return x;if(I=Au(),x.proxy=I,I.src=u,I.listener=x,u.addEventListener)Pe||($=oe),$===void 0&&($=!1),u.addEventListener(v.toString(),I,$);else if(u.attachEvent)u.attachEvent(Zr(v.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Au(){function u(x){return v.call(u.src,u.listener,x)}const v=vl;return u}function Oo(u,v,x,I,$){if(Array.isArray(v))for(var K=0;K<v.length;K++)Oo(u,v[K],x,I,$);else I=p(I)?!!I.capture:!!I,x=wl(x),u&&u[ze]?(u=u.i,v=String(v).toString(),v in u.g&&(K=u.g[v],x=ks(K,x,I,$),-1<x&&(Ot(K[x]),Array.prototype.splice.call(K,x,1),K.length==0&&(delete u.g[v],u.h--)))):u&&(u=Lo(u))&&(v=u.g[v.toString()],u=-1,v&&(u=ks(v,x,I,$)),(x=-1<u?v[u]:null)&&Jr(x))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ze])Do(v.i,u);else{var x=u.type,I=u.proxy;v.removeEventListener?v.removeEventListener(x,I,u.capture):v.detachEvent?v.detachEvent(Zr(x),I):v.addListener&&v.removeListener&&v.removeListener(I),(x=Lo(v))?(Do(x,u),x.h==0&&(x.src=null,v[Pi]=null)):Ot(u)}}}function Zr(u){return u in Mo?Mo[u]:Mo[u]="on"+u}function vl(u,v){if(u.da)u=!0;else{v=new Re(v,this);var x=u.listener,I=u.ha||u.src;u.fa&&Jr(u),u=x.call(I,v)}return u}function Lo(u){return u=u[Pi],u instanceof Xr?u:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(u){return typeof u=="function"?u:(u[Vo]||(u[Vo]=function(v){return u.handleEvent(v)}),u[Vo])}function Ct(){J.call(this),this.i=new Xr(this),this.M=this,this.F=null}k(Ct,J),Ct.prototype[ze]=!0,Ct.prototype.removeEventListener=function(u,v,x,I){Oo(this,u,v,x,I)};function At(u,v){var x,I=u.F;if(I)for(x=[];I;I=I.F)x.push(I);if(u=u.M,I=v.type||v,typeof v=="string")v=new we(v,u);else if(v instanceof we)v.target=v.target||u;else{var $=v;v=new we(I,u),D(v,$)}if($=!0,x)for(var K=x.length-1;0<=K;K--){var oe=v.g=x[K];$=es(oe,I,!0,v)&&$}if(oe=v.g=u,$=es(oe,I,!0,v)&&$,$=es(oe,I,!1,v)&&$,x)for(K=0;K<x.length;K++)oe=v.g=x[K],$=es(oe,I,!1,v)&&$}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var x=u.g[v],I=0;I<x.length;I++)Ot(x[I]);delete u.g[v],u.h--}}this.F=null},Ct.prototype.K=function(u,v,x,I){return this.i.add(String(u),v,!1,x,I)},Ct.prototype.L=function(u,v,x,I){return this.i.add(String(u),v,!0,x,I)};function es(u,v,x,I){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,K=0;K<v.length;++K){var oe=v[K];if(oe&&!oe.da&&oe.capture==x){var qe=oe.listener,Pt=oe.ha||oe.src;oe.fa&&Do(u.i,oe),$=qe.call(Pt,I)!==!1&&$}}return $&&!I.defaultPrevented}function _l(u,v,x){if(typeof u=="function")x&&(u=E(u,x));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(u,v||0)}function Cs(u){u.g=_l(()=>{u.g=null,u.i&&(u.i=!1,Cs(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Ri extends J{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(u){J.call(this),this.h=u,this.g={}}k(Ni,J);var xl=[];function El(u){ae(u.g,function(v,x){this.g.hasOwnProperty(x)&&Jr(v)},u),u.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),El(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bl=d.JSON.stringify,Tl=d.JSON.parse,Il=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Di(){}Di.prototype.h=null;function jo(u){return u.h||(u.h=u.i())}function Fo(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){we.call(this,"d")}k(kr,we);function Uo(){we.call(this,"c")}k(Uo,we);var Cr={},Sl=null;function Mi(){return Sl=Sl||new Ct}Cr.La="serverreachability";function kl(u){we.call(this,Cr.La,u)}k(kl,we);function ts(u){const v=Mi();At(v,new kl(v))}Cr.STAT_EVENT="statevent";function Cl(u,v){we.call(this,Cr.STAT_EVENT,u),this.stat=v}k(Cl,we);function mt(u){const v=Mi();At(v,new Cl(v,u))}Cr.Ma="timingevent";function Bo(u,v){we.call(this,Cr.Ma,u),this.size=v}k(Bo,we);function ar(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function Li(u,v,x,I,$,K){u.info(function(){if(u.g)if(K)for(var oe="",qe=K.split("&"),Pt=0;Pt<qe.length;Pt++){var Ve=qe[Pt].split("=");if(1<Ve.length){var Lt=Ve[0];Ve=Ve[1];var _t=Lt.split("_");oe=2<=_t.length&&_t[1]=="type"?oe+(Lt+"="+Ve+"&"):oe+(Lt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+v+`
`+x+`
`+oe})}function zo(u,v,x,I,$,K,oe){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+v+`
`+x+`
`+K+" "+oe})}function lr(u,v,x,I){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bf(u,x)+(I?" "+I:"")})}function Al(u,v){u.info(function(){return"TIMEOUT: "+v})}Oi.prototype.info=function(){};function Bf(u,v){if(!u.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var I=x[u];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return bl(x)}catch{return v}}var $o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cr;function Vi(){}k(Vi,Di),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},cr=new Vi;function ur(u,v,x,I){this.j=u,this.i=v,this.l=x,this.R=I||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ru}function Ru(){this.i=null,this.g="",this.h=!1}var Pl={},Ho={};function Wo(u,v,x){u.L=1,u.v=Ds(Dn(v)),u.m=x,u.P=!0,Rl(u,null)}function Rl(u,v){u.F=Date.now(),Xe(u),u.A=Dn(u.v);var x=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Os(x.i,"t",I),u.C=0,x=u.j.J,u.h=new Ru,u.g=Qu(u.j,x?v:null,!u.m),0<u.O&&(u.M=new Ri(E(u.Y,u,u.g),u.O)),v=u.U,x=u.g,I=u.ca;var $="readystatechange";Array.isArray($)||($&&(xl[0]=$.toString()),$=xl);for(var K=0;K<$.length;K++){var oe=gl(x,$[K],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),ts(),Li(u.i,u.u,u.A,u.l,u.R,u.m)}ur.prototype.ca=function(u){u=u.target;const v=this.M;v&&bn(u)==3?v.j():this.Y(u)},ur.prototype.Y=function(u){try{if(u==this.g)e:{const _t=bn(this.g);var v=this.g.Ba();const Gn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Vl(this.g)))){this.J||_t!=4||v==7||(v==8||0>=Gn?ts(3):ts(2)),ji(this);var x=this.g.Z();this.X=x;t:if(Nu(this)){var I=Vl(this.g);u="";var $=I.length,K=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),As(this);var oe="";break t}this.h.i=new d.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,u+=this.h.i.decode(I[v],{stream:!(K&&v==$-1)});I.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=x==200,zo(this.i,this.u,this.A,this.l,this.R,_t,x),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Pt=this.g;if((qe=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(qe)){var Ve=qe;break t}}Ve=null}if(x=Ve)lr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nl(this,x);else{this.o=!1,this.s=3,mt(12),Wn(this),As(this);break e}}if(this.P){x=!0;let On;for(;!this.J&&this.C<oe.length;)if(On=zf(this,oe),On==Ho){_t==4&&(this.s=4,mt(14),x=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Pl){this.s=4,mt(15),lr(this.i,this.l,oe,"[Invalid Chunk]"),x=!1;break}else lr(this.i,this.l,On,null),Nl(this,On);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),x=!1),this.o=this.o&&x,!x)lr(this.i,this.l,oe,"[Invalid Chunked Response]"),Wn(this),As(this);else if(0<oe.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Fl(Lt),Lt.M=!0,mt(11))}}else lr(this.i,this.l,oe,null),Nl(this,oe);_t==4&&Wn(this),this.o&&!this.J&&(_t==4?na(this.j,this):(this.o=!1,Xe(this)))}else Xo(this.g),x==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Wn(this),As(this)}}}catch{}};function Nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zf(u,v){var x=u.C,I=v.indexOf(`
`,x);return I==-1?Ho:(x=Number(v.substring(x,I)),isNaN(x)?Pl:(I+=1,I+x>v.length?Ho:(v=v.slice(I,I+x),u.C=I+x,v)))}ur.prototype.cancel=function(){this.J=!0,Wn(this)};function Xe(u){u.S=Date.now()+u.I,Du(u,u.I)}function Du(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ar(E(u.ba,u),v)}function ji(u){u.B&&(d.clearTimeout(u.B),u.B=null)}ur.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Al(this.i,this.A),this.L!=2&&(ts(),mt(17)),Wn(this),this.s=2,As(this)):Du(this,this.S-u)};function As(u){u.j.G==0||u.J||na(u.j,u)}function Wn(u){ji(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,El(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Nl(u,v){try{var x=u.j;if(x.G!=0&&(x.g==u||hn(x.h,u))){if(!u.K&&hn(x.h,u)&&x.G==3){try{var I=x.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)ta(x),mr(x);else break e;ea(x),mt(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=ar(E(x.Za,x),6e3));if(1>=Ou(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else os(x,11)}else if((u.K||x.g==u)&&ta(x),!G(v))for($=x.Da.g.parse(v),v=0;v<$.length;v++){let Ve=$[v];if(x.T=Ve[0],Ve=Ve[1],x.G==2)if(Ve[0]=="c"){x.K=Ve[1],x.ia=Ve[2];const Lt=Ve[3];Lt!=null&&(x.la=Lt,x.j.info("VER="+x.la));const _t=Ve[4];_t!=null&&(x.Aa=_t,x.j.info("SVER="+x.Aa));const Gn=Ve[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(I=1.5*Gn,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const On=u.g;if(On){const Wi=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var K=I.h;K.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Dl(K,K.h),K.h=null))}if(I.D){const sa=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(I.ya=sa,Ke(I.I,I.D,sa))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var oe=u;if(I.qa=Ku(I,I.J?I.ia:null,I.W),oe.K){Lu(I.h,oe);var qe=oe,Pt=I.L;Pt&&(qe.I=Pt),qe.B&&(ji(qe),Xe(qe)),I.g=oe}else Hi(I);0<x.i.length&&Nr(x)}else Ve[0]!="stop"&&Ve[0]!="close"||os(x,7);else x.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?os(x,7):Ht(x):Ve[0]!="noop"&&x.l&&x.l.ta(Ve),x.v=0)}}ts(4)}catch{}}var Mu=class{constructor(u,v){this.g=u,this.map=v}};function Fi(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ou(u){return u.h?1:u.g?u.g.size:0}function hn(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Dl(u,v){u.g?u.g.add(v):u.h=v}function Lu(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Fi.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const x of u.g.values())v=v.concat(x.D);return v}return N(u.i)}function qo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var v=[],x=u.length,I=0;I<x;I++)v.push(u[I]);return v}v=[],x=0;for(I in u)v[x++]=u[I];return v}function Go(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var v=[];u=u.length;for(var x=0;x<u;x++)v.push(x);return v}v=[],x=0;for(const I in u)v[x++]=I;return v}}}function Ps(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var x=Go(u),I=qo(u),$=I.length,K=0;K<$;K++)v.call(void 0,I[K],x&&x[K],u)}var Ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $f(u,v){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var I=u[x].indexOf("="),$=null;if(0<=I){var K=u[x].substring(0,I);$=u[x].substring(I+1)}else K=u[x];v(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ns(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ns){this.h=u.h,Bi(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.s),this.l=u.l;var v=u.i,x=new Ar;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),Ns(this,x),this.m=u.m}else u&&(v=String(u).match(Ui))?(this.h=!1,Bi(this,v[1]||"",!0),this.o=Me(v[2]||""),this.g=Me(v[3]||"",!0),Rs(this,v[4]),this.l=Me(v[5]||"",!0),Ns(this,v[6]||"",!0),this.m=Me(v[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}ns.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Ms(v,Ko,!0),":");var x=this.g;return(x||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ms(v,Ko,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ms(x,x.charAt(0)=="/"?Uu:Fu,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ms(x,Ml)),u.join("")};function Dn(u){return new ns(u)}function Bi(u,v,x){u.j=x?Me(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Ns(u,v,x){v instanceof Ar?(u.i=v,Pr(u.i,u.h)):(x||(v=Ms(v,Bu)),u.i=new Ar(v,u.h))}function Ke(u,v,x){u.i.set(v,x)}function Ds(u){return Ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ms(u,v,x){return typeof u=="string"?(u=encodeURI(u).replace(v,ju),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ju(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ko=/[#\/\?@]/g,Fu=/[#\?:]/g,Uu=/[#\?]/g,Bu=/[#\?@]/g,Ml=/#/g;function Ar(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function $t(u){u.g||(u.g=new Map,u.h=0,u.i&&$f(u.i,function(v,x){u.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}t=Ar.prototype,t.add=function(u,v){$t(this),this.i=null,u=qn(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(v),this.h+=1,this};function dr(u,v){$t(u),v=qn(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function hr(u,v){return $t(u),v=qn(u,v),u.g.has(v)}t.forEach=function(u,v){$t(this),this.g.forEach(function(x,I){x.forEach(function($){u.call(v,$,I,this)},this)},this)},t.na=function(){$t(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let I=0;I<v.length;I++){const $=u[I];for(let K=0;K<$.length;K++)x.push(v[I])}return x},t.V=function(u){$t(this);let v=[];if(typeof u=="string")hr(this,u)&&(v=v.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)v=v.concat(u[x])}return v},t.set=function(u,v){return $t(this),this.i=null,u=qn(this,u),hr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Os(u,v,x){dr(u,v),0<x.length&&(u.i=null,u.g.set(qn(u,v),N(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var I=v[x];const K=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var $=K;oe[I]!==""&&($+="="+encodeURIComponent(String(oe[I]))),u.push($)}}return this.i=u.join("&")};function qn(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Pr(u,v){v&&!u.j&&($t(u),u.i=null,u.g.forEach(function(x,I){var $=I.toLowerCase();I!=$&&(dr(this,I),Os(this,$,x))},u)),u.j=v}function Hf(u,v){const x=new Oi;if(d.Image){const I=new Image;I.onload=T(En,x,"TestLoadImage: loaded",!0,v,I),I.onerror=T(En,x,"TestLoadImage: error",!1,v,I),I.onabort=T(En,x,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(En,x,"TestLoadImage: timeout",!1,v,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else v(!1)}function zu(u,v){const x=new Oi,I=new AbortController,$=setTimeout(()=>{I.abort(),En(x,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:I.signal}).then(K=>{clearTimeout($),K.ok?En(x,"TestPingServer: ok",!0,v):En(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),En(x,"TestPingServer: error",!1,v)})}function En(u,v,x,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(x)}catch{}}function Wf(){this.g=new Il}function $u(u,v,x){const I=x||"";try{Ps(u,function($,K){let oe=$;p($)&&(oe=bl($)),v.push(I+K+"="+encodeURIComponent(oe))})}catch($){throw v.push(I+"type="+encodeURIComponent("_badmap")),$}}function rs(u){this.l=u.Ub||null,this.j=u.eb||!1}k(rs,Di),rs.prototype.g=function(){return new zi(this.l,this.j)},rs.prototype.i=(function(u){return function(){return u}})({});function zi(u,v){Ct.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(zi,Ct),t=zi.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,pr(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?fr(this):pr(this),this.readyState==3&&Hu(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,fr(this))},t.Qa=function(u){this.g&&(this.response=u,fr(this))},t.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,pr(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=v.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ss(u){let v="";return ae(u,function(x,I){v+=I,v+=":",v+=x,v+=`\r
`}),v}function Ls(u,v,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=ss(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Ke(u,v,x))}function it(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(it,Ct);var qf=/^https?$/i,Ol=["POST","PUT"];t=it.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cr.g(),this.v=this.o?jo(this.o):jo(cr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(K){$i(this,K);return}if(u=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)x.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const K of I.keys())x.set(K,I.get(K));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),$=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ol,v,void 0))||I||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){$i(this,K)}};function $i(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Qo(u),Mn(u)}function Qo(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),Mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mn(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ll(this):this.bb())},t.bb=function(){Ll(this)};function Ll(u){if(u.h&&typeof l<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)_l(u.Ea,0,u);else if(At(u,"readystatechange"),bn(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var I;if(I=oe===0){var $=String(u.D).match(Ui)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),I=!qf.test($?$.toLowerCase():"")}x=I}if(x)At(u,"complete"),At(u,"success");else{u.m=6;try{var K=2<bn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Qo(u)}}finally{Mn(u)}}}}function Mn(u,v){if(u.g){Yo(u);const x=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||At(u,"ready");try{x.onreadystatechange=I}catch{}}}function Yo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Tl(v)}};function Vl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xo(u){const v={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(G(u[I]))continue;var x=V(u[I]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=v[$]||[];v[$]=K,K.push(x)}M(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(u,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||v}function jl(u){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,u),this.cb=Rr("retryDelaySeedMs",1e4,u),this.Wa=Rr("forwardChannelMaxRetries",2,u),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(u&&u.concurrentRequestLimit),this.Da=new Wf,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jl.prototype,t.la=8,t.G=1,t.connect=function(u,v,x,I){mt(0),this.W=u,this.H=v||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=Ku(this,null,this.W),Nr(this)};function Ht(u){if(Jo(u),u.G==3){var v=u.U++,x=Dn(u.I);if(Ke(x,"SID",u.K),Ke(x,"RID",v),Ke(x,"TYPE","terminate"),is(u,x),v=new ur(u,u.j,v),v.L=2,v.v=Ds(Dn(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=v.v,x=!0),x||(v.g=Qu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xe(v)}Gu(u)}function mr(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Jo(u){mr(u),u.u&&(d.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Nr(u){if(!Nn(u.h)&&!u.s){u.s=!0;var v=u.Ga;Se||le(),se||(Se(),se=!0),ge.add(v,u),u.B=0}}function Gf(u,v){return Ou(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ar(E(u.Ga,u,v),qu(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new ur(this,this.j,u);let K=this.o;if(this.S&&(K?(K=S(K),D(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=Vs(this,$,v),x=Dn(this.I),Ke(x,"RID",u),Ke(x,"CVER",22),this.D&&Ke(x,"X-HTTP-Session-Id",this.D),is(this,x),K&&(this.O?v="headers="+encodeURIComponent(String(ss(K)))+"&"+v:this.m&&Ls(x,this.m,K)),Dl(this.h,$),this.Ua&&Ke(x,"TYPE","init"),this.P?(Ke(x,"$req",v),Ke(x,"SID","null"),$.T=!0,Wo($,x,null)):Wo($,x,v),this.G=2}}else this.G==3&&(u?Zo(this,u):this.i.length==0||Nn(this.h)||Zo(this))};function Zo(u,v){var x;v?x=v.l:x=u.U++;const I=Dn(u.I);Ke(I,"SID",u.K),Ke(I,"RID",x),Ke(I,"AID",u.T),is(u,I),u.m&&u.o&&Ls(I,u.m,u.o),x=new ur(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Vs(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dl(u.h,x),Wo(x,I,v)}function is(u,v){u.H&&ae(u.H,function(x,I){Ke(v,I,x)}),u.l&&Ps({},function(x,I){Ke(v,I,x)})}function Vs(u,v,x){x=Math.min(u.i.length,x);var I=u.l?E(u.l.Na,u.l,u):null;e:{var $=u.i;let K=-1;for(;;){const oe=["count="+x];K==-1?0<x?(K=$[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let qe=!0;for(let Pt=0;Pt<x;Pt++){let Ve=$[Pt].g;const Lt=$[Pt].map;if(Ve-=K,0>Ve)K=Math.max(0,$[Pt].g-100),qe=!1;else try{$u(Lt,oe,"req"+Ve+"_")}catch{I&&I(Lt)}}if(qe){I=oe.join("&");break e}}}return u=u.i.splice(0,x),v.D=u,I}function Hi(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;Se||le(),se||(Se(),se=!0),ge.add(v,u),u.v=0}}function ea(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ar(E(u.Fa,u),qu(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ar(E(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),mr(this),Wu(this))};function Fl(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Wu(u){u.g=new ur(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=Dn(u.qa);Ke(v,"RID","rpc"),Ke(v,"SID",u.K),Ke(v,"AID",u.T),Ke(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ke(v,"TO",u.ja),Ke(v,"TYPE","xmlhttp"),is(u,v),u.m&&u.o&&Ls(v,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=Ds(Dn(v)),x.m=null,x.P=!0,Rl(x,u)}t.Za=function(){this.C!=null&&(this.C=null,mr(this),ea(this),mt(19))};function ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function na(u,v){var x=null;if(u.g==v){ta(u),Fl(u),u.g=null;var I=2}else if(hn(u.h,v))x=v.D,Lu(u.h,v),I=1;else return;if(u.G!=0){if(v.o)if(I==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var $=u.B;I=Mi(),At(I,new Bo(I,x)),Nr(u)}else Hi(u);else if($=v.s,$==3||$==0&&0<v.X||!(I==1&&Gf(u,v)||I==2&&ea(u)))switch(x&&0<x.length&&(v=u.h,v.i=v.i.concat(x)),$){case 1:os(u,5);break;case 4:os(u,10);break;case 3:os(u,6);break;default:os(u,2)}}}function qu(u,v){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*v}function os(u,v){if(u.j.info("Error code "+v),v==2){var x=E(u.fb,u),I=u.Xa;const $=!I;I=new ns(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Bi(I,"https"),Ds(I),$?Hf(I.toString(),x):zu(I.toString(),x)}else mt(2);u.G=0,u.l&&u.l.sa(v),Gu(u),Jo(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Gu(u){if(u.G=0,u.ka=[],u.l){const v=Vu(u.h);(v.length!=0||u.i.length!=0)&&(C(u.ka,v),C(u.ka,u.i),u.h.i.length=0,N(u.i),u.i.length=0),u.l.ra()}}function Ku(u,v,x){var I=x instanceof ns?Dn(x):new ns(x);if(I.g!="")v&&(I.g=v+"."+I.g),Rs(I,I.s);else{var $=d.location;I=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var K=new ns(null);I&&Bi(K,I),v&&(K.g=v),$&&Rs(K,$),x&&(K.l=x),I=K}return x=u.D,v=u.ya,x&&v&&Ke(I,x,v),Ke(I,"VER",u.la),is(u,I),I}function Qu(u,v,x){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new it(new rs({eb:x})):new it(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ul(){}t=Ul.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ra(){}ra.prototype.g=function(u,v){return new fn(u,v)};function fn(u,v){Ct.call(this),this.g=new jl(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!G(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Dr(this)}k(fn,Ct),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ht(this.g)},fn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=bl(u),u=x);v.i.push(new Mu(v.Ya++,u)),v.G==3&&Nr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ht(this.g),delete this.g,fn.aa.N.call(this)};function Yu(u){kr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const x in v){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}k(Yu,kr);function Xu(){Uo.call(this),this.status=1}k(Xu,Uo);function Dr(u){this.g=u}k(Dr,Ul),Dr.prototype.ua=function(){At(this.g,"a")},Dr.prototype.ta=function(u){At(this.g,new Yu(u))},Dr.prototype.sa=function(u){At(this.g,new Xu)},Dr.prototype.ra=function(){At(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,aI=function(){return new ra},oI=function(){return Mi()},iI=Cr,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$o.NO_ERROR=0,$o.TIMEOUT=8,$o.HTTP_ERROR=6,mh=$o,Pu.COMPLETE="complete",sI=Pu,Fo.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,yc=Fo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,rI=it}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let ll="10.14.0";const _o=new ly("@firebase/firestore");function hc(){return _o.logLevel}function me(t,...e){if(_o.logLevel<=Oe.DEBUG){const n=e.map(r0);_o.debug(`Firestore (${ll}): ${t}`,...n)}}function Is(t,...e){if(_o.logLevel<=Oe.ERROR){const n=e.map(r0);_o.error(`Firestore (${ll}): ${t}`,...n)}}function Ga(t,...e){if(_o.logLevel<=Oe.WARN){const n=e.map(r0);_o.warn(`Firestore (${ll}): ${t}`,...n)}}function r0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ke(t="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+t;throw Is(e),new Error(e)}function Ge(t,e){t||ke()}function Ae(t,e){return t}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class lI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class m4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g4{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new pi,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pi)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new lI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new sn(e)}}class y4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class v4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new y4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new w4(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=x4(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function Ka(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Mt(0,0))}static max(){return new Ce(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $c{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),l=n.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends $c{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends $c{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}function b4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new xi(s,_e.empty(),e)}function T4(t){return new xi(t.readTime,t.key,-1)}class xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xi(Ce.min(),_e.empty(),-1)}static max(){return new xi(Ce.max(),_e.empty(),-1)}}function I4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}const S4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function mu(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==S4)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&n()}),(f=>r(f)))})),l=!0,a===s&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((s=>s?ne.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((y=>{l[p]=y,++d,d===a&&r(l)}),(y=>s(y)))}}))}static doWhile(e,n){return new ne(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function C4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gu(t){return t.name==="IndexedDbTransactionError"}class s0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}s0.oe=-1;function mf(t){return t==null}function Lh(t){return t===0&&1/t==-1/0}function A4(t){return typeof t=="number"&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function IE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jd(this.root,e,this.comparator,!0)}}class Jd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class SE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Xt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class dI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dI("Invalid base64 string: "+a):a}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const P4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=P4.exec(t);if(Ge(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xo(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}function i0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function o0(t){const e=t.mapValue.fields.__previous_value__;return i0(e)?o0(e):e}function Hc(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class R4{constructor(e,n,r,s,a,l,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}const Zd={mapValue:{}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i0(t)?4:D4(t)?9007199254740991:N4(t)?10:11:ke()}function Qr(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ei(s.timestampValue),d=Ei(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return xo(s.bytesValue).isEqual(xo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return vt(s.geoPointValue.latitude)===vt(a.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return vt(s.integerValue)===vt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=vt(s.doubleValue),d=vt(a.doubleValue);return l===d?Lh(l)===Lh(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(IE(l)!==IE(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Qr(l[f],d[f])))return!1;return!0})(t,e);default:return ke()}}function qc(t,e){return(t.values||[]).find((n=>Qr(n,e)))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=vt(a.integerValue||a.doubleValue),f=vt(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return kE(t.timestampValue,e.timestampValue);case 4:return kE(Hc(t),Hc(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=xo(a),f=xo(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let p=0;p<d.length&&p<f.length;p++){const y=Be(d[p],f[p]);if(y!==0)return y}return Be(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Be(vt(a.latitude),vt(l.latitude));return d!==0?d:Be(vt(a.longitude),vt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var d,f,p,y;const _=a.fields||{},E=l.fields||{},T=(d=_.value)===null||d===void 0?void 0:d.arrayValue,k=(f=E.value)===null||f===void 0?void 0:f.arrayValue,N=Be(((p=T?.values)===null||p===void 0?void 0:p.length)||0,((y=k?.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:CE(T,k)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Zd.mapValue&&l===Zd.mapValue)return 0;if(a===Zd.mapValue)return 1;if(l===Zd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=l.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=Be(f[_],y[_]);if(E!==0)return E;const T=Qa(d[f[_]],p[y[_]]);if(T!==0)return T}return Be(f.length,y.length)})(t.mapValue,e.mapValue);default:throw ke()}}function kE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ei(t),r=Ei(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function CE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Qa(n[s],r[s]);if(a)return a}return Be(n.length,r.length)}function Ya(t){return Vg(t)}function Vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return xo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Vg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Vg(n.fields[l])}`;return s+"}"})(t.mapValue):ke()}function AE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jg(t){return!!t&&"integerValue"in t}function a0(t){return!!t&&"arrayValue"in t}function PE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function N4(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Sc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Yt.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}l?r[d.lastSegment()]=Sc(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Pn(Sc(this.value))}}function hI(t){const e=[];return Ao(t.fields,((n,r)=>{const s=new Yt([n]);if(gh(r)){const a=hI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Fn(e)}class on{constructor(e,n,r,s,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new on(e,0,Ce.min(),Ce.min(),Ce.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,s){return new on(e,1,n,Ce.min(),r,s,0)}static newNoDocument(e,n){return new on(e,2,n,Ce.min(),Ce.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ce.min(),Ce.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function NE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),n.key):r=Qa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function DE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function M4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fI{}class Tt extends fI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new L4(e,n,r):n==="array-contains"?new F4(e,r):n==="in"?new U4(e,r):n==="not-in"?new B4(e,r):n==="array-contains-any"?new z4(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V4(e,r):new j4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends fI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ir(e,n)}matches(e){return pI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pI(t){return t.op==="and"}function mI(t){return O4(t)&&pI(t)}function O4(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Fg(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(mI(t))return t.filters.map((e=>Fg(e))).join(",");{const e=t.filters.map((n=>Fg(n))).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof Tt?(function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Qr(r.value,s.value)})(t,e):t instanceof Ir?(function(r,s){return s instanceof Ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&gI(l,s.filters[d])),!0):!1})(t,e):void ke()}function yI(t){return t instanceof Tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`})(t):t instanceof Ir?(function(n){return n.op.toString()+" {"+n.getFilters().map(yI).join(" ,")+"}"})(t):"Filter"}class L4 extends Tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class V4 extends Tt{constructor(e,n){super(e,"in",n),this.keys=vI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class j4 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=vI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class F4 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a0(n)&&qc(n.arrayValue,this.value)}}class U4 extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class B4 extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}}class z4 extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qc(this.value.arrayValue,r)))}}class $4{constructor(e,n=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function ME(t,e=null,n=[],r=[],s=null,a=null,l=null){return new $4(t,e,n,r,s,a,l)}function l0(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ya(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ya(r))).join(",")),e.ue=n}return e.ue}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!M4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DE(t.startAt,e.startAt)&&DE(t.endAt,e.endAt)}function Ug(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class cl{constructor(e,n=null,r=[],s=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H4(t,e,n,r,s,a,l,d){return new cl(t,e,n,r,s,a,l,d)}function gf(t){return new cl(t)}function OE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wI(t){return t.collectionGroup!==null}function kc(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Xt(Yt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Gc(a,r))})),n.has(Yt.keyField().canonicalString())||e.ce.push(new Gc(Yt.keyField(),r))}return e.ce}function qr(t){const e=Ae(t);return e.le||(e.le=W4(e,kc(t))),e.le}function W4(t,e){if(t.limitType==="F")return ME(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Gc(s.field,a)}));const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return ME(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bg(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jh(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yf(t,e){return c0(qr(t),qr(e))&&t.limitType===e.limitType}function _I(t){return`${l0(qr(t))}|lt:${t.limitType}`}function ka(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>yI(s))).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Ya(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Ya(s))).join(",")),`Target(${r})`})(qr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of kc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,f){const p=NE(l,d,f);return l.inclusive?p<=0:p<0})(r.startAt,kc(r),s)||r.endAt&&!(function(l,d,f){const p=NE(l,d,f);return l.inclusive?p>=0:p>0})(r.endAt,kc(r),s))})(t,e)}function q4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xI(t){return(e,n)=>{let r=!1;for(const s of kc(t)){const a=G4(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function G4(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(a,l,d){const f=l.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Qa(f,p):ke()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return uI(this.inner)}size(){return this.innerSize}}const K4=new ut(_e.comparator);function Ss(){return K4}const EI=new ut(_e.comparator);function vc(...t){let e=EI;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=EI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ho(){return Cc()}function TI(){return Cc()}function Cc(){return new ul((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Q4=new ut(_e.comparator),Y4=new Xt(_e.comparator);function De(...t){let e=Y4;for(const n of t)e=e.add(n);return e}const X4=new Xt(Be);function J4(){return X4}function u0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function II(t){return{integerValue:""+t}}function Z4(t,e){return A4(e)?II(e):u0(t,e)}class wf{constructor(){this._=void 0}}function eF(t,e,n){return t instanceof Kc?(function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&i0(a)&&(a=o0(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):t instanceof Qc?kI(t,e):t instanceof Yc?CI(t,e):(function(s,a){const l=SI(s,a),d=LE(l)+LE(s.Pe);return jg(l)&&jg(s.Pe)?II(d):u0(s.serializer,d)})(t,e)}function tF(t,e,n){return t instanceof Qc?kI(t,e):t instanceof Yc?CI(t,e):n}function SI(t,e){return t instanceof Fh?(function(r){return jg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Kc extends wf{}class Qc extends wf{constructor(e){super(),this.elements=e}}function kI(t,e){const n=AI(e);for(const r of t.elements)n.some((s=>Qr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Yc extends wf{constructor(e){super(),this.elements=e}}function CI(t,e){let n=AI(e);for(const r of t.elements)n=n.filter((s=>!Qr(s,r)));return{arrayValue:{values:n}}}class Fh extends wf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LE(t){return vt(t.integerValue||t.doubleValue)}function AI(t){return a0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class nF{constructor(e,n){this.field=e,this.transform=n}}function rF(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Qc&&s instanceof Qc||r instanceof Yc&&s instanceof Yc?Ka(r.elements,s.elements,Qr):r instanceof Fh&&s instanceof Fh?Qr(r.Pe,s.Pe):r instanceof Kc&&s instanceof Kc})(t.transform,e.transform)}class sF{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function PI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d0(t.key,sr.none()):new yu(t.key,t.data,sr.none());{const n=t.data,r=Pn.empty();let s=new Xt(Yt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ci(t.key,r,new Fn(s.toArray()),sr.none())}}function iF(t,e,n){t instanceof yu?(function(s,a,l){const d=s.value.clone(),f=jE(s.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ci?(function(s,a,l){if(!yh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=jE(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(RI(s)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Ac(t,e,n,r){return t instanceof yu?(function(a,l,d,f){if(!yh(a.precondition,l))return d;const p=a.value.clone(),y=FE(a.fieldTransforms,f,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ci?(function(a,l,d,f){if(!yh(a.precondition,l))return d;const p=FE(a.fieldTransforms,f,l),y=l.data;return y.setAll(RI(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,d){return yh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function oF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=SI(r.transform,s||null);a!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,a))}return n||null}function VE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ka(r,s,((a,l)=>rF(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends _f{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ci extends _f{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function RI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jE(t,e,n){const r=new Map;Ge(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,tF(l,d,n[s]))}return r}function FE(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,eF(a,l,e))}return r}class d0 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aF extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&iF(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TI();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(s.key)?null:d;const f=PI(l,d);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),De())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,((n,r)=>VE(n,r)))&&Ka(this.baseMutations,e.baseMutations,((n,r)=>VE(n,r)))}}class h0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length);let s=(function(){return Q4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new h0(e,n,r,s)}}class cF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uF{constructor(e,n){this.count=e,this.unchangedNames=n}}var Et,je;function dF(t){switch(t){default:return ke();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function NI(t){if(t===void 0)return Is("GRPC error has no .code"),X.UNKNOWN;switch(t){case Et.OK:return X.OK;case Et.CANCELLED:return X.CANCELLED;case Et.UNKNOWN:return X.UNKNOWN;case Et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Et.INTERNAL:return X.INTERNAL;case Et.UNAVAILABLE:return X.UNAVAILABLE;case Et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Et.NOT_FOUND:return X.NOT_FOUND;case Et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Et.ABORTED:return X.ABORTED;case Et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Et.DATA_LOSS:return X.DATA_LOSS;default:return ke()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function hF(){return new TextEncoder}const fF=new mo([4294967295,4294967295],0);function UE(t){const e=hF().encode(t),n=new nI;return n.update(e),new Uint8Array(n.digest())}function BE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mo([n,r],0),new mo([s,a],0)]}class f0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(mo.fromNumber(r)));return s.compare(fF)===1&&(s=new mo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=UE(e),[r,s]=BE(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new f0(a,s,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.Ie===0)return;const n=UE(e),[r,s]=BE(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,s,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xf{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(Ce.min(),s,new ut(Be),Ss(),De())}}class vu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,De(),De(),De())}}class vh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class DI{constructor(e,n){this.targetId=e,this.me=n}}class MI{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zE{constructor(){this.fe=0,this.ge=HE(),this.pe=Jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke()}})),new vu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=HE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ss(),this.qe=$E(),this.Qe=new ut(Be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(Ug(a))if(r===0){const l=new _e(a.path);this.Ue(n,l,on.newNoDocument(l,Ce.min()))}else Ge(r===1);else{const l=this.Ye(n);if(l!==r){const d=this.Ze(e),f=d?this.Xe(d,e,l):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,d;try{l=xo(r).toUint8Array()}catch(f){if(f instanceof dI)return Ga("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new f0(l,s,a)}catch(f){return Ga(f instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Le.tt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const d=this.Je(l);if(d){if(a.current&&Ug(d.target)){const f=new _e(d.target.path);this.ke.get(f)!==null||this.it(l,f)||this.Ue(l,f,on.newNoDocument(f,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=De();this.qe.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const s=new xf(e,n,this.Qe,this.ke,r);return this.ke=Ss(),this.qe=$E(),this.Qe=new ut(Be),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zE),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function $E(){return new ut(_e.comparator)}function HE(){return new ut(_e.comparator)}const mF={asc:"ASCENDING",desc:"DESCENDING"},gF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yF={and:"AND",or:"OR"};class vF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zg(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wF(t,e){return Uh(t,e.toTimestamp())}function Gr(t){return Ge(!!t),Ce.fromTimestamp((function(n){const r=Ei(n);return new Mt(r.seconds,r.nanos)})(t))}function p0(t,e){return $g(t,e).canonicalString()}function $g(t,e){const n=(function(s){return new rt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function LI(t){const e=rt.fromString(t);return Ge(BI(e)),e}function Hg(t,e){return p0(t.databaseId,e.path)}function $m(t,e){const n=LI(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(jI(n))}function VI(t,e){return p0(t.databaseId,e)}function _F(t){const e=LI(t);return e.length===4?rt.emptyPath():jI(e)}function Wg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jI(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WE(t,e,n){return{name:Hg(t,e),fields:n.value.mapValue.fields}}function xF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,y){return p.useProto3Json?(Ge(y===void 0||typeof y=="string"),Jt.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Jt.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(p){const y=p.code===void 0?X.UNKNOWN:NI(p.code);return new ue(y,p.message||"")})(l);n=new MI(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$m(t,r.document.name),a=Gr(r.document.updateTime),l=r.document.createTime?Gr(r.document.createTime):Ce.min(),d=new Pn({mapValue:{fields:r.document.fields}}),f=on.newFoundDocument(s,a,l,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new vh(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$m(t,r.document),a=r.readTime?Gr(r.readTime):Ce.min(),l=on.newNoDocument(s,a),d=r.removedTargetIds||[];n=new vh([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$m(t,r.document),a=r.removedTargetIds||[];n=new vh([],a,s,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new uF(s,a),d=r.targetId;n=new DI(d,l)}}return n}function EF(t,e){let n;if(e instanceof yu)n={update:WE(t,e.key,e.value)};else if(e instanceof d0)n={delete:Hg(t,e.key)};else if(e instanceof Ci)n={update:WE(t,e.key,e.data),updateMask:RF(e.fieldMask)};else{if(!(e instanceof aF))return ke();n={verify:Hg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Kc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Fh)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw ke()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:wF(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()})(t,e.precondition)),n}function bF(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map((n=>(function(s,a){let l=s.updateTime?Gr(s.updateTime):Gr(a);return l.isEqual(Ce.min())&&(l=Gr(a)),new sF(l,s.transformResults||[])})(n,e)))):[]}function TF(t,e){return{documents:[VI(t,e.path)]}}function IF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VI(t,s);const a=(function(p){if(p.length!==0)return UI(Ir.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Ca(E.field),direction:CF(E.dir)}})(y)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=zg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:s}}function SF(t){let e=_F(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const E=FI(_);return E instanceof Ir&&mI(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((E=>(function(k){return new Gc(Aa(k.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,mf(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(_){const E=!!_.before,T=_.values||[];return new Vh(T,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,T=_.values||[];return new Vh(T,E)})(n.endAt)),H4(e,s,l,a,d,"F",f,p)}function kF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(n.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Aa(n.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(n.unaryFilter.field);return Tt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(t):t.fieldFilter!==void 0?(function(n){return Tt.create(Aa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ir.create(n.compositeFilter.filters.map((r=>FI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}})(n.compositeFilter.op))})(t):ke()}function CF(t){return mF[t]}function AF(t){return gF[t]}function PF(t){return yF[t]}function Ca(t){return{fieldPath:t.canonicalString()}}function Aa(t){return Yt.fromServerFormat(t.fieldPath)}function UI(t){return t instanceof Tt?(function(n){if(n.op==="=="){if(RE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:AF(n.op),value:n.value}}})(t):t instanceof Ir?(function(n){const r=n.getFilters().map((s=>UI(s)));return r.length===1?r[0]:{compositeFilter:{op:PF(n.op),filters:r}}})(t):ke()}function RF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class li{constructor(e,n,r,s,a=Ce.min(),l=Ce.min(),d=Jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NF{constructor(e){this.ct=e}}function DF(t){const e=SF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jh(e,e.limit,"L"):e}class MF{constructor(){this.un=new OF}addToCollectionParentIndex(e,n){return this.un.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(xi.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class OF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xt(rt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xt(rt.comparator)).toArray()}}class Xa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xa(0)}static kn(){return new Xa(-1)}}class LF{constructor(){this.changes=new ul((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Ac(r.mutation,s,Fn.empty(),Mt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,De()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=De()){const s=ho();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=vc();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,De())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,s){let a=Ss();const l=Cc(),d=(function(){return Cc()})();return n.forEach(((f,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Ci)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Ac(y.mutation,p,y.mutation.getFieldMask(),Mt.now())):l.set(p.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,y)=>l.set(p,y))),n.forEach(((p,y)=>{var _;return d.set(p,new VF(y,(_=l.get(p))!==null&&_!==void 0?_:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new ut(((l,d)=>l-d)),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let y=r.get(f)||Fn.empty();y=d.applyToLocalView(p,y),r.set(f,y);const _=(s.get(d.batchId)||De()).add(f);s=s.insert(d.batchId,_)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,y=f.value,_=TI();y.forEach((E=>{if(!a.has(E)){const T=PI(n.get(E),r.get(E));T!==null&&_.set(E,T),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ne.resolve(ho());let d=-1,f=a;return l.next((p=>ne.forEach(p,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,De()))).next((y=>({batchId:d,changes:bI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let s=vc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=vc();return this.indexManager.getCollectionParents(e,a).next((d=>ne.forEach(d,(f=>{const p=(function(_,E){return new cl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((y=>{y.forEach(((_,E)=>{l=l.insert(_,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((f,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,on.newInvalidDocument(y)))}));let d=vc();return l.forEach(((f,p)=>{const y=a.get(f);y!==void 0&&Ac(y.mutation,p,Fn.empty(),Mt.now()),vf(n,p)&&(d=d.insert(f,p))})),d}))}}class FF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ne.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Gr(s.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:DF(s.bundledQuery),readTime:Gr(s.readTime)}})(n)),ne.resolve()}}class UF{constructor(){this.overlays=new ut(_e.comparator),this.Ir=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return ne.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.ht(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=ho(),a=n.length+1,l=new _e(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ut(((p,y)=>p-y));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=ho(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ho(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,y)=>d.set(p,y))),!(d.size()>=s)););return ne.resolve(d)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cF(n,r));let a=this.Ir.get(n);a===void 0&&(a=De(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}class BF{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class m0{constructor(){this.Tr=new Xt(Ut.Er),this.dr=new Xt(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new _e(new rt([])),r=new Ut(n,e),s=new Ut(n,e+1),a=[];return this.dr.forEachInRange([r,s],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new rt([])),r=new Ut(n,e),s=new Ut(n,e+1);let a=De();return this.dr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||_e.comparator(e.key,n.key)}}class zF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xt(Ut.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lF(a,n,r,s);this.mutationQueue.push(l);for(const d of s)this.br=this.br.add(new Ut(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),s=new Ut(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],(l=>{const d=this.Dr(l.wr);a.push(d)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xt(Be);return n.forEach((s=>{const a=new Ut(s,0),l=new Ut(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(d=>{r=r.add(d.wr)}))})),ne.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const l=new Ut(new _e(a),0);let d=new Xt(Be);return this.br.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.wr)),!0)}),l),ne.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ne.forEach(n.mutations,(s=>{const a=new Ut(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Ut(n,0),s=this.br.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $F{constructor(e){this.Mr=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():on.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Ss();const l=n.path,d=new _e(l.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||I4(T4(y),r)<=0||(s.has(y.key)||vf(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,s){ke()}Or(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HF(this)}getSize(e){return ne.resolve(this.size)}}class HF extends LF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class WF{constructor(e){this.persistence=e,this.Nr=new ul((n=>l0(n)),c0),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new m0,this.targetCount=0,this.kr=Xa.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Kn(n),ne.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ne.waitFor(a).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Br.containsKey(n))}}class qF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new s0(0),this.Kr=!1,this.Kr=!0,this.$r=new BF,this.referenceDelegate=e(this),this.Ur=new WF(this),this.indexManager=new MF,this.remoteDocumentCache=(function(s){return new $F(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new NF(n),this.Gr=new FF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new GF(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((a=>this.referenceDelegate.jr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Hr(e,n){return ne.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class GF extends k4{constructor(e){super(),this.currentSequenceNumber=e}}class g0{constructor(e){this.persistence=e,this.Jr=new m0,this.Yr=null}static Zr(e){return new g0(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(r=>{const s=_e.fromPath(r);return this.ei(e,s).next((a=>{a||n.removeEntry(s,Ce.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ne.or([()=>ne.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class y0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=De(),s=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new y0(e,n.fromCache,r,s)}}class KF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return hP()?8:C4(un())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new KF;return this.Xi(e,n,l).next((d=>{if(a.result=d,this.zi)return this.es(e,n,l,d.size)}))})).next((()=>a.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(hc()<=Oe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(hc()<=Oe.DEBUG&&me("QueryEngine","Query:",ka(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(hc()<=Oe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):ne.resolve())}Yi(e,n){if(OE(n))return ne.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=jh(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=De(...a);return this.Ji.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.ts(n,d);return this.ns(n,p,l,f.readTime)?this.Yi(e,jh(n,null,"F")):this.rs(e,p,n,f)}))))})))))}Zi(e,n,r,s){return OE(n)||s.isEqual(Ce.min())?ne.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,s)?ne.resolve(null):(hc()<=Oe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ka(n)),this.rs(e,l,n,b4(s,-1)).next((d=>d)))}))}ts(e,n){let r=new Xt(xI(e));return n.forEach(((s,a)=>{vf(e,a)&&(r=r.add(a))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return hc()<=Oe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ka(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}class YF{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ut(Be),this._s=new ul((a=>l0(a)),c0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function XF(t,e,n,r){return new YF(t,e,n,r)}async function zI(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=De();for(const p of s){l.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){d.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next((p=>({hs:p,removedBatchIds:l,addedBatchIds:d})))}))}))}function JF(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,y){const _=p.batch,E=_.keys();let T=ne.resolve();return E.forEach((k=>{T=T.next((()=>y.getEntry(f,k))).next((N=>{const C=p.docVersions.get(k);Ge(C!==null),N.version.compareTo(C)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),y.addEntry(N)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=De();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function $I(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function ZF(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const d=[];e.targetChanges.forEach(((y,_)=>{const E=s.get(_);if(!E)return;d.push(n.Ur.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Ur.addMatchingKeys(a,y.addedDocuments,_))));let T=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),s=s.insert(_,T),(function(N,C,z){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,T,y)&&d.push(n.Ur.updateTargetData(a,T))}));let f=Ss(),p=De();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(e6(a,l,e.documentUpdates).next((y=>{f=y.Ps,p=y.Is}))),!r.isEqual(Ce.min())){const y=n.Ur.getLastRemoteSnapshotVersion(a).next((_=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return ne.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.os=s,a)))}function e6(t,e,n){let r=De(),s=De();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ss();return n.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{Ps:l,Is:s}}))}function t6(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function n6(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((a=>a?(s=a,ne.resolve(s)):n.Ur.allocateTargetId(r).next((l=>(s=new li(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function qg(t,e,n){const r=Ae(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!gu(l))throw l;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function qE(t,e,n){const r=Ae(t);let s=Ce.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,y){const _=Ae(f),E=_._s.get(y);return E!==void 0?ne.resolve(_.os.get(E)):_.Ur.getTargetData(p,y)})(r,l,qr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?s:Ce.min(),n?a:De()))).next((d=>(r6(r,q4(e),d),{documents:d,Ts:a})))))}function r6(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class GE{constructor(){this.activeTargetIds=J4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s6{constructor(){this.so=new GE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new GE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i6{_o(e){}shutdown(){}}class KE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function Hm(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const o6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const rn="WebChannelConnection";class l6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,l){const d=Hm(),f=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,a,l),this.No(n,f,p,s).then((y=>(me("RestConnection",`Received RPC '${n}' ${d}: `,y),y)),(y=>{throw Ga("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",f,"request:",s),y}))}Lo(n,r,s,a,l,d){return this.Mo(n,r,s,a,l)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),s&&s.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const s=o6[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=Hm();return new Promise(((l,d)=>{const f=new rI;f.setWithCredentials(!0),f.listenOnce(sI.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case mh.NO_ERROR:const y=f.getResponseJson();me(rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case mh.TIMEOUT:me(rn,`RPC '${e}' ${a} timed out`),d(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const _=f.getStatus();if(me(rn,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E?.error;if(T&&T.status&&T.message){const k=(function(C){const z=C.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(z)>=0?z:X.UNKNOWN})(T.status);d(new ue(k,T.message))}else d(new ue(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ue(X.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(rn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(s);me(rn,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",p,r,15)}))}Bo(e,n,r){const s=Hm(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=aI(),d=oI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=a.join("");me(rn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=l.createWebChannel(y,f);let E=!1,T=!1;const k=new a6({Io:C=>{T?me(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(me(rn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),me(rn,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},To:()=>_.close()}),N=(C,z,G)=>{C.listen(z,(F=>{try{G(F)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return N(_,yc.EventType.OPEN,(()=>{T||(me(rn,`RPC '${e}' stream ${s} transport opened.`),k.yo())})),N(_,yc.EventType.CLOSE,(()=>{T||(T=!0,me(rn,`RPC '${e}' stream ${s} transport closed`),k.So())})),N(_,yc.EventType.ERROR,(C=>{T||(T=!0,Ga(rn,`RPC '${e}' stream ${s} transport errored:`,C),k.So(new ue(X.UNAVAILABLE,"The operation could not be completed")))})),N(_,yc.EventType.MESSAGE,(C=>{var z;if(!T){const G=C.data[0];Ge(!!G);const F=G,Y=F.error||((z=F[0])===null||z===void 0?void 0:z.error);if(Y){me(rn,`RPC '${e}' stream ${s} received error:`,Y);const te=Y.status;let ae=(function(A){const D=Et[A];if(D!==void 0)return NI(D)})(te),M=Y.message;ae===void 0&&(ae=X.INTERNAL,M="Unknown error status: "+te+" with message "+Y.message),T=!0,k.So(new ue(ae,M)),_.close()}else me(rn,`RPC '${e}' stream ${s} received:`,G),k.bo(G)}})),N(d,iI.STAT_EVENT,(C=>{C.stat===Lg.PROXY?me(rn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Lg.NOPROXY&&me(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.wo()}),0),k}}function Wm(){return typeof document<"u"?document:null}function Ef(t){return new vF(t,!0)}class HI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class WI{constructor(e,n,r,s,a,l,d,f){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new HI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c6 extends WI{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xF(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?Gr(l.readTime):Ce.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wg(this.serializer),n.addTarget=(function(a,l){let d;const f=l.target;if(d=Ug(f)?{documents:TF(a,f)}:{query:IF(a,f)._t},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=OI(a,l.resumeToken);const p=zg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Uh(a,l.snapshotVersion.toTimestamp());const p=zg(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=kF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wg(this.serializer),n.removeTarget=e,this.a_(n)}}class u6 extends WI{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=bF(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>EF(this.serializer,r)))};this.a_(n)}}class d6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,$g(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(X.UNKNOWN,a.toString())}))}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Lo(e,$g(n,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(X.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class h6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Is(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class f6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Po(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const p=Ae(f);p.L_.add(4),await wu(p),p.q_.set("Unknown"),p.L_.delete(4),await bf(p)})(this))}))})),this.q_=new h6(r,s)}}async function bf(t){if(Po(t))for(const e of t.B_)await e(!0)}async function wu(t){for(const e of t.B_)await e(!1)}function qI(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),x0(n)?_0(n):dl(n).r_()&&w0(n,e))}function v0(t,e){const n=Ae(t),r=dl(n);n.N_.delete(e),r.r_()&&GI(n,e),n.N_.size===0&&(r.r_()?r.o_():Po(n)&&n.q_.set("Unknown"))}function w0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).A_(e)}function GI(t,e){t.Q_.xe(e),dl(t).R_(e)}function _0(t){t.Q_=new pF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.q_.v_()}function x0(t){return Po(t)&&!dl(t).n_()&&t.N_.size>0}function Po(t){return Ae(t).L_.size===0}function KI(t){t.Q_=void 0}async function p6(t){t.q_.set("Online")}async function m6(t){t.N_.forEach(((e,n)=>{w0(t,e)}))}async function g6(t,e){KI(t),x0(t)?(t.q_.M_(e),_0(t)):t.q_.set("Unknown")}async function y6(t,e,n){if(t.q_.set("Online"),e instanceof MI&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.N_.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.N_.delete(d),s.Q_.removeTarget(d))})(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bh(t,r)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof DI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await $I(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.Q_.rt(l);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(p);y&&a.N_.set(p,y.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,p)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Jt.EMPTY_BYTE_STRING,y.snapshotVersion)),GI(a,f);const _=new li(y.target,f,p,y.sequenceNumber);w0(a,_)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await Bh(t,r)}}async function Bh(t,e,n){if(!gu(e))throw e;t.L_.add(1),await wu(t),t.q_.set("Offline"),n||(n=()=>$I(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bf(t)}))}function QI(t,e){return e().catch((n=>Bh(t,n,e)))}async function Tf(t){const e=Ae(t),n=bi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v6(e);)try{const s=await t6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,w6(e,s)}catch(s){await Bh(e,s)}YI(e)&&XI(e)}function v6(t){return Po(t)&&t.O_.length<10}function w6(t,e){t.O_.push(e);const n=bi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YI(t){return Po(t)&&!bi(t).n_()&&t.O_.length>0}function XI(t){bi(t).start()}async function _6(t){bi(t).p_()}async function x6(t){const e=bi(t);for(const n of t.O_)e.m_(n.mutations)}async function E6(t,e,n){const r=t.O_.shift(),s=h0.from(r,e,n);await QI(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Tf(t)}async function b6(t,e){e&&bi(t).V_&&await(async function(r,s){if((function(l){return dF(l)&&l!==X.ABORTED})(s.code)){const a=r.O_.shift();bi(r).s_(),await QI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Tf(r)}})(t,e),YI(t)&&XI(t)}async function QE(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Po(n);n.L_.add(3),await wu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bf(n)}async function T6(t,e){const n=Ae(t);e?(n.L_.delete(2),await bf(n)):e||(n.L_.add(2),await wu(n),n.q_.set("Unknown"))}function dl(t){return t.K_||(t.K_=(function(n,r,s){const a=Ae(n);return a.w_(),new c6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:p6.bind(null,t),Ro:m6.bind(null,t),mo:g6.bind(null,t),d_:y6.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),x0(t)?_0(t):t.q_.set("Unknown")):(await t.K_.stop(),KI(t))}))),t.K_}function bi(t){return t.U_||(t.U_=(function(n,r,s){const a=Ae(n);return a.w_(),new u6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_6.bind(null,t),mo:b6.bind(null,t),f_:x6.bind(null,t),g_:E6.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Tf(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class E0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,d=new E0(e,n,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(Is("AsyncQueue",`${e}: ${t}`),gu(t))return new ue(X.UNAVAILABLE,`${e}: ${t}`);throw t}class Ua{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Ua(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class YE{constructor(){this.W_=new ut(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ja{constructor(e,n,r,s,a,l,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new Ja(e,n,Ua.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class I6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class S6{constructor(){this.queries=XE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ae(n),a=s.queries;s.queries=XE(),a.forEach(((l,d)=>{for(const f of d.j_)f.onError(r)}))})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function XE(){return new ul((t=>_I(t)),yf)}async function JI(t,e){const n=Ae(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new I6,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const d=b0(l,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&T0(n)}async function ZI(t,e){const n=Ae(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k6(t,e){const n=Ae(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const d of l.j_)d.X_(s)&&(r=!0);l.z_=s}}r&&T0(n)}function C6(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function T0(t){t.Y_.forEach((e=>{e.next()}))}var Gg,JE;(JE=Gg||(Gg={})).ea="default",JE.Cache="cache";class eS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gg.Cache}}class tS{constructor(e){this.key=e}}class nS{constructor(e){this.key=e}}class A6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=xI(e),this.Ra=new Ua(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new YE,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const E=s.get(y),T=vf(this.query,_)?_:null,k=!!E&&this.mutatedKeys.has(E.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;E&&T?E.data.isEqual(T.data)?k!==N&&(r.track({type:3,doc:T}),C=!0):this.ga(E,T)||(r.track({type:2,doc:T}),C=!0,(f&&this.Aa(T,f)>0||p&&this.Aa(T,p)<0)&&(d=!0)):!E&&T?(r.track({type:0,doc:T}),C=!0):E&&!T&&(r.track({type:1,doc:E}),C=!0,(f||p)&&(d=!0)),C&&(T?(l=l.add(T),a=N?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{Ra:l,fa:r,ns:d,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((y,_)=>(function(T,k){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return N(T)-N(k)})(y.type,_.type)||this.Aa(y.doc,_.doc))),this.pa(r),s=s!=null&&s;const d=n&&!s?this.ya():[],f=this.da.size===0&&this.current&&!s?1:0,p=f!==this.Ea;return this.Ea=f,l.length!==0||p?{snapshot:new Ja(this.query,e.Ra,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new nS(r))})),this.da.forEach((r=>{e.has(r)||n.push(new tS(r))})),n}ba(e){this.Ta=e.Ts,this.da=De();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ja.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class P6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R6{constructor(e){this.key=e,this.va=!1}}class N6{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new ul((d=>_I(d)),yf),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(_e.comparator),this.Na=new Map,this.La=new m0,this.Ba={},this.ka=new Map,this.qa=Xa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function D6(t,e,n=!0){const r=lS(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await rS(r,e,n,!0),s}async function M6(t,e){const n=lS(t);await rS(n,e,!0,!1)}async function rS(t,e,n,r){const s=await n6(t.localStore,qr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await O6(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&qI(t.remoteStore,s),d}async function O6(t,e,n,r,s){t.Ka=(_,E,T)=>(async function(N,C,z,G){let F=C.view.ma(z);F.ns&&(F=await qE(N.localStore,C.query,!1).then((({documents:M})=>C.view.ma(M,F))));const Y=G&&G.targetChanges.get(C.targetId),te=G&&G.targetMismatches.get(C.targetId)!=null,ae=C.view.applyChanges(F,N.isPrimaryClient,Y,te);return eb(N,C.targetId,ae.wa),ae.snapshot})(t,_,E,T);const a=await qE(t.localStore,e,!0),l=new A6(e,a.Ts),d=l.ma(a.documents),f=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(d,t.isPrimaryClient,f);eb(t,n,p.wa);const y=new P6(e,n,l);return t.Fa.set(e,y),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function L6(t,e,n){const r=Ae(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter((l=>!yf(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&v0(r.remoteStore,s.targetId),Kg(r,s.targetId)})).catch(mu)):(Kg(r,s.targetId),await qg(r.localStore,s.targetId,!0))}async function V6(t,e){const n=Ae(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v0(n.remoteStore,r.targetId))}async function j6(t,e,n){const r=W6(t);try{const s=await(function(l,d){const f=Ae(l),p=Mt.now(),y=d.reduce(((T,k)=>T.add(k.key)),De());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let k=Ss(),N=De();return f.cs.getEntries(T,y).next((C=>{k=C,k.forEach(((z,G)=>{G.isValidDocument()||(N=N.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,k))).next((C=>{_=C;const z=[];for(const G of d){const F=oF(G,_.get(G.key).overlayedDocument);F!=null&&z.push(new Ci(G.key,F,hI(F.value.mapValue),sr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,z,d)})).next((C=>{E=C;const z=C.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(T,C.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:bI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,f){let p=l.Ba[l.currentUser.toKey()];p||(p=new ut(Be)),p=p.insert(d,f),l.Ba[l.currentUser.toKey()]=p})(r,s.batchId,n),await _u(r,s.changes),await Tf(r.remoteStore)}catch(s){const a=b0(s,"Failed to persist write");n.reject(a)}}async function sS(t,e){const n=Ae(t);try{const r=await ZF(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Na.get(a);l&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.va=!0:s.modifiedDocuments.size>0?Ge(l.va):s.removedDocuments.size>0&&(Ge(l.va),l.va=!1))})),await _u(n,r,e)}catch(r){await mu(r)}}function ZE(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((a,l)=>{const d=l.view.Z_(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const f=Ae(l);f.onlineState=d;let p=!1;f.queries.forEach(((y,_)=>{for(const E of _.j_)E.Z_(d)&&(p=!0)})),p&&T0(f)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F6(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let l=new ut(_e.comparator);l=l.insert(a,on.newNoDocument(a,Ce.min()));const d=De().add(a),f=new xf(Ce.min(),new Map,new ut(Be),l,d);await sS(r,f),r.Oa=r.Oa.remove(a),r.Na.delete(e),I0(r)}else await qg(r.localStore,e,!1).then((()=>Kg(r,e,n))).catch(mu)}async function U6(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await JF(n.localStore,e);oS(n,r,null),iS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,s)}catch(s){await mu(s)}}async function B6(t,e,n){const r=Ae(t);try{const s=await(function(l,d){const f=Ae(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return f.mutationQueue.lookupMutationBatch(p,d).next((_=>(Ge(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>f.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);oS(r,e,n),iS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,s)}catch(s){await mu(s)}}function iS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function oS(t,e,n){const r=Ae(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||aS(t,r)}))}function aS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(v0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),I0(t))}function eb(t,e,n){for(const r of n)r instanceof tS?(t.La.addReference(r.key,e),z6(t,r)):r instanceof nS?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||aS(t,r.key)):ke()}function z6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),I0(t))}function I0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new R6(n)),t.Oa=t.Oa.insert(n,r),qI(t.remoteStore,new li(qr(gf(n.path)),r,"TargetPurposeLimboResolution",s0.oe))}}async function _u(t,e,n){const r=Ae(t),s=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,f)=>{l.push(r.Ka(f,e,n).then((p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n?.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=y0.Wi(f.targetId,p);a.push(_)}})))})),await Promise.all(l),r.Ca.d_(s),await(async function(f,p){const y=Ae(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ne.forEach(p,(E=>ne.forEach(E.$i,(T=>y.persistence.referenceDelegate.addReference(_,E.targetId,T))).next((()=>ne.forEach(E.Ui,(T=>y.persistence.referenceDelegate.removeReference(_,E.targetId,T)))))))))}catch(_){if(!gu(_))throw _;me("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const T=y.os.get(E),k=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(k);y.os=y.os.insert(E,N)}}})(r.localStore,a))}async function $6(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await zI(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((d=>{d.forEach((f=>{f.reject(new ue(X.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.hs)}}function H6(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return De().add(r.key);{let s=De();const a=n.Ma.get(e);if(!a)return s;for(const l of a){const d=n.Fa.get(l);s=s.unionWith(d.view.Va)}return s}}function lS(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F6.bind(null,e),e.Ca.d_=k6.bind(null,e.eventManager),e.Ca.$a=C6.bind(null,e.eventManager),e}function W6(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B6.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XF(this.persistence,new QF,e.initialUser,this.serializer)}Ga(e){return new qF(g0.Zr,this.serializer)}Wa(e){return new s6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$6.bind(null,this.syncEngine),await T6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S6})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(function(a){return new l6(a)})(e.databaseInfo);return(function(a,l,d,f){return new d6(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,d){return new f6(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZE(this.syncEngine,n,0)),(function(){return KE.D()?new KE:new i6})())}createSyncEngine(e,n){return(function(s,a,l,d,f,p,y){const _=new N6(s,a,l,d,f,p);return y&&(_.Qa=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=Ae(s);me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await wu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qg.provider={build:()=>new Qg};class cS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class q6{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=sn.UNAUTHENTICATED,this.clientId=cI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{me("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(me("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await zI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await G6(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>QE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>QE(e.remoteStore,s))),t._onlineComponents=e}async function G6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await qm(t,new zh)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await qm(t,new zh);return t._offlineComponents}async function uS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await tb(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await tb(t,new Qg))),t._onlineComponents}function K6(t){return uS(t).then((e=>e.syncEngine))}async function Yg(t){const e=await uS(t),n=e.eventManager;return n.onListen=D6.bind(null,e.syncEngine),n.onUnlisten=L6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V6.bind(null,e.syncEngine),n}function Q6(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,p){const y=new cS({next:E=>{y.Za(),l.enqueueAndForget((()=>ZI(a,_)));const T=E.docs.has(d);!T&&E.fromCache?p.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&E.fromCache&&f&&f.source==="server"?p.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new eS(gf(d.path),y,{includeMetadataChanges:!0,_a:!0});return JI(a,_)})(await Yg(t),t.asyncQueue,e,n,r))),r.promise}function dS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const nb=new Map;function hS(t,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y6(t,e,n,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rb(t){if(!_e.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sb(t){if(_e.isDocumentKey(t))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function If(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=If(t);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function X6(t,e){if(e<=0)throw new ue(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class ib{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new p4;switch(r.type){case"firstParty":return new v4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=nb.get(n);r&&(me("ComponentProvider","Removing Datastore"),nb.delete(n),r.terminate())})(this),Promise.resolve()}}function J6(t,e,n,r={}){var s;const a=(t=ir(t,Sf))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=sn.MOCK_USER;else{d=x1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new sn(p)}t._authCredentials=new m4(new lI(d,f))}}class Ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class mi extends Ai{constructor(e,n,r){super(e,n,gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new _e(e))}withConverter(e){return new mi(this.firestore,e,this._path)}}function Ba(t,e,...n){if(t=Qe(t),hS("collection","path",e),t instanceof Sf){const r=rt.fromString(e,...n);return sb(r),new mi(t,null,r)}{if(!(t instanceof cn||t instanceof mi))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return sb(r),new mi(t.firestore,null,r)}}function er(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=cI.newId()),hS("doc","path",e),t instanceof Sf){const r=rt.fromString(e,...n);return rb(r),new cn(t,null,new _e(r))}{if(!(t instanceof cn||t instanceof mi))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return rb(r),new cn(t.firestore,t instanceof mi?t.converter:null,new _e(r))}}class ob{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new HI(this,"async_queue_retry"),this.Vu=()=>{const r=Wm();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new pi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gu(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d})(r);throw Is("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=E0.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(s),s}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ab(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends Sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ob,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ob(e),this._firestoreClient=void 0,await e}}}function Z6(t,e){const n=typeof t=="object"?t:sf(),r=typeof t=="string"?t:"(default)",s=su(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=ay("firestore");a&&J6(s,...a)}return s}function S0(t){if(t._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e3(t),t._firestoreClient}function e3(t){var e,n,r;const s=t._freezeSettings(),a=(function(d,f,p,y){return new R4(d,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,dS(y.experimentalLongPollingOptions),y.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new q6(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}})(t._componentsProvider))}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(Jt.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Za(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cf{constructor(e){this._methodName=e}}class k0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}class C0{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}}const t3=/^__.*__$/;class n3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class fS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class A0{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new A0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(pS(this.Cu)&&t3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class r3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Qu(e,n,r,s=!1){return new A0({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Af(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new r3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mS(t,e,n,r,s,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);R0("Data must be an object, but it was:",l,r);const d=gS(r,l);let f,p;if(a.merge)f=new Fn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const E=Xg(e,_,n);if(!l.contains(E))throw new ue(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);vS(y,E)||y.push(E)}f=new Fn(y),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new n3(new Pn(d),f,p)}class Pf extends Cf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class P0 extends Cf{_toFieldTransform(e){return new nF(e.path,new Kc)}isEqual(e){return e instanceof P0}}function s3(t,e,n,r){const s=t.Qu(1,e,n);R0("Data must be an object, but it was:",s,r);const a=[],l=Pn.empty();Ao(r,((f,p)=>{const y=N0(e,f,n);p=Qe(p);const _=s.Nu(y);if(p instanceof Pf)a.push(y);else{const E=xu(p,_);E!=null&&(a.push(y),l.set(y,E))}}));const d=new Fn(a);return new fS(l,d,s.fieldTransforms)}function i3(t,e,n,r,s,a){const l=t.Qu(1,e,n),d=[Xg(e,r,n)],f=[s];if(a.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Xg(e,a[E])),f.push(a[E+1]);const p=[],y=Pn.empty();for(let E=d.length-1;E>=0;--E)if(!vS(p,d[E])){const T=d[E];let k=f[E];k=Qe(k);const N=l.Nu(T);if(k instanceof Pf)p.push(T);else{const C=xu(k,N);C!=null&&(p.push(T),y.set(T,C))}}const _=new Fn(p);return new fS(y,_,l.fieldTransforms)}function o3(t,e,n,r=!1){return xu(n,t.Qu(r?4:3,e))}function xu(t,e){if(yS(t=Qe(t)))return R0("Unsupported field value:",e,t),gS(t,e);if(t instanceof Cf)return(function(r,s){if(!pS(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let f=xu(d,s.Lu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,s){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Z4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Mt.fromDate(r);return{timestampValue:Uh(s.serializer,a)}}if(r instanceof Mt){const a=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,a)}}if(r instanceof k0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:OI(s.serializer,r._byteString)};if(r instanceof cn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:p0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof C0)return(function(l,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return u0(d.serializer,f)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${If(r)}`)})(t,e)}function gS(t,e){const n={};return uI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,s)=>{const a=xu(s,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function yS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof k0||t instanceof Za||t instanceof cn||t instanceof Cf||t instanceof C0)}function R0(t,e,n){if(!yS(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=If(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xg(t,e,n){if((e=Qe(e))instanceof kf)return e._internalPath;if(typeof e=="string")return N0(t,e);throw $h("Field path arguments must be of type string or ",t,!1,void 0,n)}const a3=new RegExp("[~\\*/\\[\\]]");function N0(t,e,n){if(e.search(a3)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $h(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ue(X.INVALID_ARGUMENT,d+t+f)}function vS(t,e){return t.some((n=>n.isEqual(e)))}class wS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l3 extends wS{data(){return super.data()}}function Rf(t,e){return typeof e=="string"?N0(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}function c3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class M0 extends D0{}function lb(t,e,...n){let r=[];e instanceof D0&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof O0)).length,d=a.filter((f=>f instanceof Nf)).length;if(l>1||l>0&&d>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Nf extends M0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nf(e,n,r)}_apply(e){const n=this._parse(e);return _S(e._query,n),new Ai(e.firestore,e.converter,Bg(e._query,n))}_parse(e){const n=Af(e.firestore);return(function(a,l,d,f,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){fb(_,y);const T=[];for(const k of _)T.push(hb(f,a,k));E={arrayValue:{values:T}}}else E=hb(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||fb(_,y),E=o3(d,l,_,y==="in"||y==="not-in");return Tt.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cb(t,e,n){const r=e,s=Rf("where",t);return Nf._create(s,r,n)}class O0 extends D0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const f of d)_S(l,f),l=Bg(l,f)})(e._query,n),new Ai(e.firestore,e.converter,Bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L0 extends M0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new L0(e,n)}_apply(e){const n=(function(s,a,l){if(s.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(a,l)})(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new cl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function ub(t,e="asc"){const n=e,r=Rf("orderBy",t);return L0._create(r,n)}class V0 extends M0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new V0(e,n,r)}_apply(e){return new Ai(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function db(t){return X6("limit",t),V0._create("limit",t,"F")}function hb(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wI(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AE(t,new _e(r))}if(n instanceof cn)return AE(t,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(n)}.`)}function fb(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _S(t,e){const n=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class u3{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((l=>vt(l.doubleValue)));return new C0(a)}convertGeoPoint(e){return new k0(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=o0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ge(BI(r));const s=new Wc(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return s.isEqual(n)||Is(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function xS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ES extends wS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wh extends ES{data(e={}){return super.data(e)}}class d3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _c(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wh(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const f=new wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new _c(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new wh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new _c(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),y=l.indexOf(d.doc.key)),{type:h3(d.type),doc:f,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function pb(t){t=ir(t,cn);const e=ir(t.firestore,Ti);return Q6(S0(e),t._key).then((n=>TS(e,t,n)))}class bS extends u3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function f3(t,e,n){t=ir(t,cn);const r=ir(t.firestore,Ti),s=xS(t.converter,e,n);return Mf(r,[mS(Af(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,sr.none())])}function lo(t,e,n,...r){t=ir(t,cn);const s=ir(t.firestore,Ti),a=Af(s);let l;return l=typeof(e=Qe(e))=="string"||e instanceof kf?i3(a,"updateDoc",t._key,e,n,r):s3(a,"updateDoc",t._key,e),Mf(s,[l.toMutation(t._key,sr.exists(!0))])}function p3(t){return Mf(ir(t.firestore,Ti),[new d0(t._key,sr.none())])}function Df(t,e){const n=ir(t.firestore,Ti),r=er(t),s=xS(t.converter,e);return Mf(n,[mS(Af(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then((()=>r))}function mb(t,...e){var n,r,s;t=Qe(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ab(e[l])||(a=e[l],l++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ab(e[l])){const _=e[l];e[l]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[l+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let f,p,y;if(t instanceof cn)p=ir(t.firestore,Ti),y=gf(t._key.path),f={next:_=>{e[l]&&e[l](TS(p,t,_))},error:e[l+1],complete:e[l+2]};else{const _=ir(t,Ai);p=ir(_.firestore,Ti),y=_._query;const E=new bS(p);f={next:T=>{e[l]&&e[l](new d3(p,E,_,T))},error:e[l+1],complete:e[l+2]},c3(t._query)}return(function(E,T,k,N){const C=new cS(N),z=new eS(T,C,k);return E.asyncQueue.enqueueAndForget((async()=>JI(await Yg(E),z))),()=>{C.Za(),E.asyncQueue.enqueueAndForget((async()=>ZI(await Yg(E),z)))}})(S0(p),y,d,f)}function Mf(t,e){return(function(r,s){const a=new pi;return r.asyncQueue.enqueueAndForget((async()=>j6(await K6(r),s,a))),a.promise})(S0(t),e)}function TS(t,e,n){const r=n.docs.get(e._key),s=new bS(t);return new ES(t,s,e._key,r,new _c(n.hasPendingWrites,n.fromCache),e.converter)}function j0(){return new P0("serverTimestamp")}(function(e,n=!0){(function(s){ll=s})(ko),yi(new xs("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Ti(new g4(r.getProvider("auth-internal")),new _4(r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(p.options.projectId,y)})(l,s),l);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),nr(TE,"4.7.3",e),nr(TE,"4.7.3","esm2017")})();var m3="firebase",g3="10.14.1";nr(m3,g3,"app");const IS="firebasestorage.googleapis.com",SS="storageBucket",y3=120*1e3,v3=600*1e3;class pt extends Sr{constructor(e,n,r=0){super(Gm(e),`Firebase Storage: ${n} (${Gm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Gm(t){return"storage/"+t}function F0(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function w3(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _3(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function x3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function E3(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function b3(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function T3(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I3(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function S3(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function k3(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C3(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SS+"' property when initializing the app?")}function A3(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P3(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function R3(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jg(t){return new pt(ft.INVALID_ARGUMENT,t)}function kS(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function N3(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fc(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}class Un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Un.makeFromUrl(e,n)}catch{return new Un(e,"")}if(r.path==="")return r;throw k3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${y}/b/${s}/o${E}`,"i"),k={bucket:1,path:3},N=n===IS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",z=new RegExp(`^https?://${N}/${s}/${C}`,"i"),F=[{regex:d,indices:f,postModify:a},{regex:T,indices:k,postModify:p},{regex:z,indices:{bucket:1,path:2},postModify:p}];for(let Y=0;Y<F.length;Y++){const te=F[Y],ae=te.regex.exec(e);if(ae){const M=ae[te.indices.bucket];let S=ae[te.indices.path];S||(S=""),r=new Un(M,S),te.postModify(r);break}}if(r==null)throw S3(e);return r}}class D3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function M3(t,e,n){let r=1,s=null,a=null,l=!1,d=0;function f(){return d===2}let p=!1;function y(...C){p||(p=!0,e.apply(null,C))}function _(C){s=setTimeout(()=>{s=null,t(T,f())},C)}function E(){a&&clearTimeout(a)}function T(C,...z){if(p){E();return}if(C){E(),y.call(null,C,...z);return}if(f()||l){E(),y.call(null,C,...z);return}r<64&&(r*=2);let F;d===1?(d=2,F=0):F=(r+Math.random())*1e3,_(F)}let k=!1;function N(C){k||(k=!0,E(),!p&&(s!==null?(C||(d=2),clearTimeout(s),_(0)):C||(d=1)))}return _(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function O3(t){t(!1)}function L3(t){return t!==void 0}function V3(t){return typeof t=="object"&&!Array.isArray(t)}function U0(t){return typeof t=="string"||t instanceof String}function gb(t){return B0()&&t instanceof Blob}function B0(){return typeof Blob<"u"}function yb(t,e,n,r){if(r<e)throw Jg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jg(`Invalid value for '${t}'. Expected ${n} or less.`)}function z0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(go||(go={}));function j3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}class F3{constructor(e,n,r,s,a,l,d,f,p,y,_,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,k)=>{this.resolve_=T,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new th(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===go.NO_ERROR,f=a.getStatus();if(!d||j3(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===go.ABORT;r(!1,new th(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new th(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());L3(f)?a(f):a()}catch(f){l(f)}else if(d!==null){const f=F0();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(s.canceled){const f=this.appDelete_?kS():I3();l(f)}else{const f=T3();l(f)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=M3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function U3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function H3(t,e,n,r,s,a,l=!0){const d=CS(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return z3(p,e),U3(p,n),B3(p,a),$3(p,r),new F3(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}function W3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q3(...t){const e=W3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(B0())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function G3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function K3(t){if(typeof atob>"u")throw R3("base-64");return atob(t)}const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function Q3(t,e){switch(t){case Br.RAW:return new Km(AS(e));case Br.BASE64:case Br.BASE64URL:return new Km(PS(t,e));case Br.DATA_URL:return new Km(X3(e),J3(e))}throw F0()}function AS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Y3(t){let e;try{e=decodeURIComponent(t)}catch{throw Pc(Br.DATA_URL,"Malformed data URL.")}return AS(e)}function PS(t,e){switch(t){case Br.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Pc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Pc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=K3(e)}catch(s){throw s.message.includes("polyfill")?s:Pc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class RS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pc(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Z3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function X3(t){const e=new RS(t);return e.base64?PS(Br.BASE64,e.rest):Y3(e.rest)}function J3(t){return new RS(t).contentType}function Z3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}class ii{constructor(e,n){let r=0,s="";gb(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(gb(this.data_)){const r=this.data_,s=G3(r,e,n);return s===null?null:new ii(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ii(r,!0)}}static getBlob(...e){if(B0()){const n=e.map(r=>r instanceof ii?r.data_:r);return new ii(q3.apply(null,n))}else{const n=e.map(l=>U0(l)?Q3(Br.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)s[a++]=l[d]}),new ii(s,!0)}}uploadData(){return this.data_}}function NS(t){let e;try{e=JSON.parse(t)}catch{return null}return V3(e)?e:null}function eU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function nU(t,e){return e}class gn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||nU}}let nh=null;function rU(t){return!U0(t)||t.length<2?t:DS(t)}function MS(){if(nh)return nh;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(a,l){return rU(l)}const n=new gn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new gn("size");return s.xform=r,t.push(s),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),nh=t,nh}function sU(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Un(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function iU(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return sU(r,t),r}function OS(t,e,n){const r=NS(e);return r===null?null:iU(t,r,n)}function oU(t,e,n,r){const s=NS(e);if(s===null||!U0(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const y=t.bucket,_=t.fullPath,E="/b/"+l(y)+"/o/"+l(_),T=z0(E,n,r),k=CS({alt:"media",token:p});return T+k})[0]}function aU(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class LS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function VS(t){if(!t)throw F0()}function lU(t,e){function n(r,s){const a=OS(t,s,e);return VS(a!==null),a}return n}function cU(t,e){function n(r,s){const a=OS(t,s,e);return VS(a!==null),oU(a,s,t.host,t._protocol)}return n}function jS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=E3():s=x3():n.getStatus()===402?s=_3(t.bucket):n.getStatus()===403?s=b3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function uU(t){const e=jS(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=w3(t.path)),a.serverResponse=s.serverResponse,a}return n}function dU(t,e,n){const r=e.fullServerUrl(),s=z0(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,d=new LS(s,a,cU(t,n),l);return d.errorHandler=uU(e),d}function hU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function fU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hU(null,e)),r}function pU(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let Y=0;Y<2;Y++)F=F+Math.random().toString().slice(2);return F}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const p=fU(e,r,s),y=aU(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",T=ii.getBlob(_,r,E);if(T===null)throw A3();const k={name:p.fullPath},N=z0(a,t.host,t._protocol),C="POST",z=t.maxUploadRetryTime,G=new LS(N,C,lU(t,n),z);return G.urlParams=k,G.headers=l,G.body=T.uploadData(),G.errorHandler=jS(e),G}class mU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw fc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gU extends mU{initXhr(){this.xhr_.responseType="text"}}function FS(){return new gU}class bo{constructor(e,n){this._service=e,n instanceof Un?this._location=n:this._location=Un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bo(e,n)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DS(this._location.path)}get storage(){return this._service}get parent(){const e=eU(this._location.path);if(e===null)return null;const n=new Un(this._location.bucket,e);return new bo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N3(e)}}function yU(t,e,n){t._throwIfRoot("uploadBytes");const r=pU(t.storage,t._location,MS(),new ii(e,!0),n);return t.storage.makeRequestWithTokens(r,FS).then(s=>({metadata:s,ref:t}))}function vU(t){t._throwIfRoot("getDownloadURL");const e=dU(t.storage,t._location,MS());return t.storage.makeRequestWithTokens(e,FS).then(n=>{if(n===null)throw P3();return n})}function wU(t,e){const n=tU(t._location.path,e),r=new Un(t._location.bucket,n);return new bo(t.storage,r)}function _U(t){return/^[A-Za-z]+:\/\//.test(t)}function xU(t,e){return new bo(t,e)}function US(t,e){if(t instanceof $0){const n=t;if(n._bucket==null)throw C3();const r=new bo(n,n._bucket);return e!=null?US(r,e):r}else return e!==void 0?wU(t,e):t}function EU(t,e){if(e&&_U(e)){if(t instanceof $0)return xU(t,e);throw Jg("To use ref(service, url), the first argument must be a Storage instance.")}else return US(t,e)}function vb(t,e){const n=e?.[SS];return n==null?null:Un.makeFromBucketSpec(n,t)}function bU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:x1(s,t.app.options.projectId))}class $0{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=IS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y3,this._maxUploadRetryTime=v3,this._requests=new Set,s!=null?this._bucket=Un.makeFromBucketSpec(s,this._host):this._bucket=vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new D3(kS());{const l=H3(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const wb="@firebase/storage",_b="0.13.2";const BS="storage";function TU(t,e,n){return t=Qe(t),yU(t,e,n)}function IU(t){return t=Qe(t),vU(t)}function SU(t,e){return t=Qe(t),EU(t,e)}function kU(t=sf(),e){t=Qe(t);const r=su(t,BS).getImmediate({identifier:e}),s=ay("storage");return s&&CU(r,...s),r}function CU(t,e,n,r={}){bU(t,e,n,r)}function AU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $0(n,r,s,e,ko)}function PU(){yi(new xs(BS,AU,"PUBLIC").setMultipleInstances(!0)),nr(wb,_b,""),nr(wb,_b,"esm2017")}PU();const RU="type.googleapis.com/google.protobuf.Int64Value",NU="type.googleapis.com/google.protobuf.UInt64Value";function zS(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Zg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Zg(e));if(typeof t=="function"||typeof t=="object")return zS(t,e=>Zg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Hh(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case RU:case NU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Hh(e)):typeof t=="function"||typeof t=="object"?zS(t,e=>Hh(e)):t}const H0="functions";const xb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class za extends Sr{constructor(e,n,r){super(`${H0}/${e}`,n||""),this.details=r}}function DU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function MU(t,e){let n=DU(t),r=n,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!xb[l])return new za("internal","internal");n=xb[l],r=l}const d=a.message;typeof d=="string"&&(r=d),s=a.details,s!==void 0&&(s=Hh(s))}}catch{}return n==="ok"?null:new za(n,r,s)}class OU{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}const ey="us-central1";function LU(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new za("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class VU{constructor(e,n,r,s,a=ey,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new OU(n,r,s),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(a);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=ey}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function jU(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function FU(t,e,n){return(r=>BU(t,e,r,{}))}async function UU(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function BU(t,e,n,r){const s=t._url(e);return zU(t,s,n,r)}async function zU(t,e,n,r){n=Zg(n);const s={data:n},a={},l=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const d=r.timeout||7e4,f=LU(d),p=await Promise.race([UU(e,s,a,t.fetchImpl),f.promise,t.cancelAllRequests]);if(f.cancel(),!p)throw new za("cancelled","Firebase Functions instance was deleted.");const y=MU(p.status,p.json);if(y)throw y;if(!p.json)throw new za("internal","Response is not valid JSON object.");let _=p.json.data;if(typeof _>"u"&&(_=p.json.result),typeof _>"u")throw new za("internal","Response is missing data field.");return{data:Hh(_)}}const Eb="@firebase/functions",bb="0.11.8";const $U="auth-internal",HU="app-check-internal",WU="messaging-internal";function qU(t,e){const n=(r,{instanceIdentifier:s})=>{const a=r.getProvider("app").getImmediate(),l=r.getProvider($U),d=r.getProvider(WU),f=r.getProvider(HU);return new VU(a,l,d,f,s,t)};yi(new xs(H0,n,"PUBLIC").setMultipleInstances(!0)),nr(Eb,bb,e),nr(Eb,bb,"esm2017")}function $S(t=sf(),e=ey){const r=su(Qe(t),H0).getImmediate({identifier:e}),s=ay("functions");return s&&GU(r,...s),r}function GU(t,e,n){jU(Qe(t),e,n)}function KU(t,e,n){return FU(Qe(t),e)}qU(fetch.bind(self));const QU={apiKey:"AIzaSyBz9Waj-ImxLCDJd6QKunGyE-Xlm2qJXA0",authDomain:"gen-lang-client-0587114750.firebaseapp.com",projectId:"gen-lang-client-0587114750",storageBucket:"gen-lang-client-0587114750.firebasestorage.app",messagingSenderId:"367332219460",appId:"1:367332219460:web:485e99997b6e8f6681710d"},Of=T1(QU),Kt=Z6(Of),YU=kU(Of);$S(Of,"us-central1");const Rc=UD(Of);SN(Rc,Z1).catch(t=>console.error("Error en persistencia Auth:",t));const XU=async(t,e,n,r={})=>{try{return(await Df(Ba(Kt,"clinical_events"),{userId:t,type:e,value:n,metadata:r,timestamp:j0()})).id}catch(s){throw console.error("Error aadiendo evento clnico: ",s),s}},yn={async login(t,e){return await IN(Rc,t.toLowerCase().trim(),e)},async register(t,e,n="Usuario"){const r=await TN(Rc,t.toLowerCase().trim(),e),s=r.user.uid,a={id:s,firstName:n,lastName:"",email:t.toLowerCase().trim(),role:"USER",subscription_tier:"BASE",ia_credits:3,daily_ia_usage:0,streak:0,createdAt:new Date().toISOString(),insulinRatioSchedule:[{startTime:"08:00",ratio:15},{startTime:"14:00",ratio:15},{startTime:"21:00",ratio:15}],clinicalConfig:{diabetesType:"Type 1",insulinSensitivityFactor:50,targetGlucose:100},aiMemory:"Iniciando fase de observacin metablica.",memory:{patterns:{highGlucoseTriggers:[],effectiveCorrections:[],notableEvents:[]},preferences:{dietaryRestrictions:[],favoriteSafeFoods:[]},aiNotes:"Sincronizado con el Bio-Core."},glucoseUnitPreference:"mg/dL"};return await f3(er(Kt,"users",s),a,{merge:!0}),r},async logout(){try{await PN(Rc),window.location.href="/"}catch(t){console.error("Error al cerrar sesin:",t)}},async getUserProfile(t){const e=er(Kt,"users",t);try{const n=await pb(e);return n.exists()?{id:n.id,...n.data()}:null}catch{return null}},async updateUser(t){const e=er(Kt,"users",t.id),{id:n,...r}=t;await lo(e,{...r,updatedAt:new Date().toISOString()})},async checkAnalysisLimit(t){const e=er(Kt,"users",t),r=(await pb(e)).data();if(r?.subscription_tier!=="PRO"&&(r?.daily_ia_usage||0)>=3)throw new Error("Has agotado tus anlisis diarios gratuitos.")},async saveHistoryEntry(t,e){const n=Ba(Kt,"ingestas");return await Df(n,{...e,userId:t,createdAt:j0(),date:new Date().toISOString()})},async deleteHistoryEntry(t){await p3(er(Kt,"ingestas",t))},subscribeToHistory(t,e){const n=lb(Ba(Kt,"ingestas"),cb("userId","==",t),ub("createdAt","desc"),db(50));return mb(n,r=>{e(r.docs.map(s=>({id:s.id,...s.data()})))},r=>console.error(r))},subscribeToHba1cHistory(t,e){const n=lb(Ba(Kt,"hba1c_logs"),cb("userId","==",t),ub("date","desc"),db(20));return mb(n,r=>{e(r.docs.map(s=>({id:s.id,...s.data()})))},r=>console.error(r))},async trackIAUsage(t,e,n){const r=er(Kt,"users",t);await lo(r,{daily_ia_usage:e+1,last_ia_usage_date:n})}},JU=({onClose:t,onLoginSuccess:e})=>{const[n,r]=j.useState(!1),[s,a]=j.useState(""),[l,d]=j.useState(""),[f,p]=j.useState(!1),[y,_]=j.useState(null),E=k=>{switch(k){case"auth/user-not-found":return"Identidad no localizada en el registro clnico.";case"auth/wrong-password":return"Fallo en la verificacin de credenciales de acceso.";case"auth/invalid-email":return"Formato de identificador digital no reconocido.";case"auth/weak-password":return"Protocolo de seguridad insuficiente: mnimo 6 caracteres.";case"auth/email-already-in-use":return"Este registro ya se encuentra activo en el ecosistema.";default:return"Interrupcin en el protocolo de sincronizacin segura."}},T=async k=>{k.preventDefault(),p(!0),_(null);try{n?await yn.register(s,l):await yn.login(s,l),e(),t()}catch(N){_(E(N.code))}finally{p(!1)}};return g.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-end sm:items-center justify-center p-0 sm:p-4 animate-in fade-in duration-500",children:[g.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-md",onClick:t}),g.jsxs("div",{className:"relative bg-white w-full max-w-[480px] rounded-t-[3.5rem] sm:rounded-[4rem] shadow-2xl overflow-hidden border border-white animate-in slide-in-from-bottom-10 duration-700",children:[g.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-blue-600/10 rounded-full blur-[100px]"}),g.jsx("div",{className:"absolute -bottom-24 -right-24 w-80 h-80 bg-emerald-500/10 rounded-full blur-[100px]"}),g.jsx("button",{onClick:t,className:"absolute top-8 right-8 p-3 text-slate-400 hover:text-slate-900 transition-all z-20 bg-slate-50 rounded-full active:scale-90",children:g.jsx(uu,{size:20})}),g.jsxs("div",{className:"p-10 sm:p-14 relative z-10",children:[g.jsxs("header",{className:"mb-10 text-center sm:text-left",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-50 text-blue-600 text-[10px] font-black uppercase tracking-[0.3em] mb-6",children:[g.jsx(vi,{size:14,className:"animate-pulse"})," Acceso de precisin"]}),g.jsxs("h2",{className:"text-5xl font-[1000] text-slate-900 tracking-tighter leading-[0.85] mb-2 uppercase italic",children:[n?"Crear cuenta":"Sincronizar"," ",g.jsx("br",{}),g.jsx("span",{className:"text-blue-600",children:"Bio-perfil"})]}),g.jsx("p",{className:"text-slate-400 font-medium text-sm",children:n?"Inicia tu optimizacin metablica hoy.":"Retoma el control de tus mtricas."})]}),y&&g.jsxs("div",{className:"mb-8 p-5 bg-red-50 border border-red-100 rounded-3xl flex items-center gap-4 text-red-600 animate-in slide-in-from-left-4",children:[g.jsx(dT,{size:20,className:"shrink-0"}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest leading-tight",children:y})]}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx(FM,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-600 transition-colors",size:18}),g.jsx("input",{type:"email",required:!0,value:s,onChange:k=>a(k.target.value),placeholder:"Correo electrnico",className:"w-full bg-slate-50 border border-slate-100 rounded-3xl py-6 pl-16 pr-8 text-sm font-bold text-slate-900 outline-none focus:ring-4 ring-blue-600/5 focus:bg-white transition-all placeholder:text-slate-300"})]}),g.jsxs("div",{className:"relative group",children:[g.jsx(LM,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-blue-600 transition-colors",size:18}),g.jsx("input",{type:"password",required:!0,value:l,onChange:k=>d(k.target.value),placeholder:"Contrasea",className:"w-full bg-slate-50 border border-slate-100 rounded-3xl py-6 pl-16 pr-8 text-sm font-bold text-slate-900 outline-none focus:ring-4 ring-blue-600/5 focus:bg-white transition-all placeholder:text-slate-300"})]}),g.jsx("button",{type:"submit",disabled:f,className:"w-full bg-slate-900 text-white py-6 rounded-3xl font-bold text-lg shadow-2xl shadow-slate-200 transition-all active:scale-95 flex items-center justify-center gap-3 mt-6 group overflow-hidden",children:f?g.jsx(Wa,{className:"animate-spin",size:20}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"relative z-10",children:n?"Crear perfil clnico":"Iniciar sesin"}),g.jsx("div",{className:"bg-blue-600 p-1.5 rounded-xl group-hover:translate-x-1.5 transition-transform duration-300",children:g.jsx(wy,{size:18,strokeWidth:3})})]})})]}),g.jsx("button",{onClick:()=>{r(!n),_(null)},className:"mt-10 w-full group",children:g.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.25em] transition-colors group-hover:text-blue-600",children:[n?"Ya eres usuario?":"An no tienes acceso?",g.jsx("span",{className:"text-blue-600 ml-2 border-b-2 border-blue-600/30 pb-0.5 group-hover:border-blue-600",children:"Gestionar aqu"})]})}),g.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-50 flex items-center justify-center gap-2",children:[g.jsx(CM,{size:14,className:"text-blue-400 fill-blue-400"}),g.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Metabolism-First Design"})]})]})]})]})},ZU=({currentUser:t})=>{const[e,n]=j.useState(!1);j.useEffect(()=>{if(!localStorage.getItem("vitaflow_welcome_seen")&&t){const a=setTimeout(()=>n(!0),1e3);return()=>clearTimeout(a)}},[t]);const r=()=>{localStorage.setItem("vitaflow_welcome_seen","true"),n(!1)};return!e||!t?null:g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/40 backdrop-blur-md",children:g.jsx("div",{className:"bg-white w-full max-w-lg rounded-[3.5rem] p-10 shadow-2xl border border-white relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10 text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-xl shadow-blue-200",children:g.jsx(vT,{className:"text-white",size:40})}),g.jsxs("h2",{className:"text-4xl font-black tracking-tighter text-slate-900 italic uppercase mb-4",children:["Hola, ",g.jsx("span",{className:"text-blue-600",children:t.firstName||"Usuario"})]}),g.jsxs("p",{className:"text-slate-500 font-medium leading-relaxed mb-10",children:["Has activado tu ecosistema ",g.jsx("span",{className:"font-bold text-slate-800",children:"VitaFlow"}),"."]}),g.jsx("button",{onClick:r,className:"w-full bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[12px] tracking-[0.2em] shadow-xl",children:"Entrar a mi Ecosistema"})]})})})},eB=({currentUser:t,history:e})=>{const[n,r]=j.useState(!1),[s,a]=j.useState(""),[l,d]=j.useState("0"),[f,p]=j.useState(!1),y=new Date().toISOString().split("T")[0],_=j.useMemo(()=>e?.find(k=>k.date.startsWith(y)&&k.mealType==="desayuno"),[e,y]),E=j.useMemo(()=>{const k=new Date;return k.setDate(k.getDate()-7),(e||[]).filter(N=>new Date(N.date)>=k&&N.mealType==="desayuno"&&N.bloodGlucoseValue).sort((N,C)=>new Date(N.date).getTime()-new Date(C.date).getTime()).map(N=>({date:new Date(N.date).toLocaleDateString("es-ES",{weekday:"short"}),val:N.bloodGlucoseValue||0}))},[e]);if(!t)return null;const T=async()=>{if(!(!s||f)){p(!0);try{await yn.saveHistoryEntry(t.id,{mealType:"desayuno",bloodGlucoseValue:parseFloat(s),finalInsulinUnits:parseFloat(l),userInput:"Registro manual matutino",totalCarbs:0,isCalibrated:!1}),r(!1),a(""),d("0")}catch(k){console.error("Error al guardar:",k)}finally{p(!1)}}};return g.jsxs("div",{className:"max-w-md mx-auto p-6 pb-32 min-h-screen bg-[#FBFBFE]",children:[g.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-4xl font-[1000] text-slate-900 tracking-tight italic uppercase",children:"Vitametra"}),g.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mt-1",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric"})})]}),g.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-blue-600 to-blue-400 flex items-center justify-center text-white shadow-xl shadow-blue-100",children:g.jsx(cu,{size:24})})]}),g.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-8 rounded-[3rem] border mb-8 transition-all ${_?"bg-emerald-50 border-emerald-100":"bg-white border-slate-100 shadow-xl shadow-slate-200/50"}`,children:_?g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsx("span",{className:"text-6xl font-[1000] text-slate-900 italic tracking-tighter",children:_.bloodGlucoseValue}),g.jsx("span",{className:"text-xs uppercase font-black text-slate-300",children:"mg/dL"})]}),g.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-1.5 bg-emerald-500 text-white rounded-full text-[9px] font-black uppercase tracking-widest",children:[g.jsx(_y,{size:12,strokeWidth:3})," Sincronizado"]})]}):g.jsxs("div",{className:"space-y-6",children:[g.jsx("p",{className:"text-slate-500 text-sm font-bold leading-relaxed",children:"Tu metabolismo espera datos. Registra tu medicin en ayunas ahora."}),g.jsxs("button",{onClick:()=>r(!0),className:"w-full py-5 bg-slate-900 text-white rounded-[2rem] font-black text-xs tracking-[0.2em] flex items-center justify-center gap-3 active:scale-95 transition-transform shadow-lg shadow-slate-200",children:[g.jsx(mT,{size:18,strokeWidth:3})," REGISTRAR AHORA"]})]})}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-50 shadow-sm",children:[g.jsxs("h3",{className:"font-black text-slate-900 text-[10px] uppercase tracking-[0.2em] mb-10 flex items-center gap-3",children:[g.jsx(oM,{size:16,className:"text-blue-600"})," Tendencia Semanal"]}),E.length>0?g.jsx("div",{className:"flex items-end justify-between h-40 gap-3",children:E.map((k,N)=>g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-4",children:[g.jsx("div",{className:"w-full bg-slate-50 rounded-2xl relative flex items-end justify-center overflow-hidden h-full",children:g.jsx(It.div,{initial:{height:0},animate:{height:`${Math.min(k.val/250*100,100)}%`},className:`w-full rounded-t-xl ${k.val>180?"bg-rose-400":k.val<70?"bg-amber-400":"bg-blue-500"}`})}),g.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase italic",children:k.date})]},N))}):g.jsx("p",{className:"text-center text-slate-300 text-[9px] font-black uppercase py-10 tracking-widest",children:"Esperando flujo de datos..."})]}),g.jsx(ff,{children:n&&g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-end justify-center",children:[g.jsx(It.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md"}),g.jsxs(It.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"relative bg-white rounded-t-[4rem] w-full max-w-md p-10 shadow-2xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-10",children:[g.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase italic tracking-tighter",children:"Bio-Registro"}),g.jsx("button",{onClick:()=>r(!1),className:"p-3 bg-slate-50 rounded-2xl text-slate-400",children:g.jsx(uu,{size:20,strokeWidth:3})})]}),g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.3em] mb-4",children:"Glucosa actual (mg/dL)"}),g.jsx("input",{type:"number",value:s,onChange:k=>a(k.target.value),className:"w-full text-8xl font-[1000] text-center text-blue-600 bg-transparent outline-none italic tracking-tighter",placeholder:"000",autoFocus:!0})]}),g.jsx("button",{onClick:T,disabled:!s||f,className:"w-full bg-blue-600 text-white py-6 rounded-[2.5rem] font-black text-xs tracking-[0.3em] shadow-xl shadow-blue-200 disabled:opacity-30 active:scale-95 transition-all",children:f?"CIFRANDO...":"CONFIRMAR BIO-REGISTRO"})]})]})})]})},Tb=({currentUser:t,history:e=[],onStartClick:n})=>t?g.jsx(eB,{currentUser:t,history:e}):g.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden font-sans selection:bg-blue-100",children:[g.jsxs("div",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-full h-[800px] pointer-events-none -z-10",children:[g.jsx("div",{className:"absolute top-[5%] left-[-10%] w-[40%] h-[40%] bg-blue-400/5 blur-[120px] rounded-full"}),g.jsx("div",{className:"absolute top-[10%] right-[-5%] w-[30%] h-[30%] bg-emerald-300/5 blur-[100px] rounded-full"})]}),g.jsx("section",{className:"relative pt-32 pb-20 px-6 max-w-7xl mx-auto",children:g.jsxs("div",{className:"text-center",children:[g.jsxs(It.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-slate-50 border border-slate-200 mb-8",children:[g.jsx(vi,{size:14,className:"text-blue-500"}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500",children:"Arquitectura de Inteligencia Metablica"})]}),g.jsxs(It.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-6xl md:text-[110px] font-[1000] tracking-tight text-slate-900 leading-[0.85] mb-10 italic uppercase",children:["Tu biologa, ",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-blue-500 to-emerald-500 bg-clip-text text-transparent",children:"en perfecto rango."})]}),g.jsxs(It.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-400 font-medium mb-12 leading-relaxed",children:["Vitametra sincroniza la potencia de nuestra ",g.jsx("span",{className:"text-slate-900",children:"IA Bio-Generativa"})," con tus mtricas en tiempo real para un control glucmico sin fricciones."]}),g.jsxs(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[g.jsxs("button",{onClick:n,className:"group relative w-full sm:w-auto bg-slate-900 text-white px-10 py-5 rounded-2xl font-bold text-lg overflow-hidden transition-all hover:scale-[1.02] active:scale-95 shadow-xl shadow-blue-200/50",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsxs("span",{className:"relative flex items-center justify-center gap-3",children:["Comenzar anlisis ",g.jsx(cf,{size:20})]})]}),g.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-white text-slate-900 px-10 py-5 rounded-2xl font-bold text-lg border border-slate-200 hover:bg-slate-50 transition-all",children:"Explorar ecosistema"})]})]})}),g.jsx("section",{className:"px-6 py-20 max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx(Qm,{icon:g.jsx(cT,{className:"text-blue-600"}),title:"Pre-Anlisis Digital",desc:"Modelado predictivo basado en redes neuronales multimodales que anticipan respuestas glucmicas.",color:"bg-blue-50"}),g.jsx(Qm,{icon:g.jsx(by,{className:"text-emerald-500"}),title:"Bio-Optimizacin",desc:"Sincronizacin exacta de tus objetivos de HbA1c con nutricin de precisin.",color:"bg-emerald-50"}),g.jsx(Qm,{icon:g.jsx(ZM,{className:"text-slate-900"}),title:"Protocolo de Datos",desc:"Privacidad de grado clnico con encriptado de extremo a extremo bajo estndares internacionales.",color:"bg-slate-100"})]})}),g.jsxs("section",{className:"py-24 bg-slate-900 text-white rounded-[3rem] mx-4 mb-10 overflow-hidden relative",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),g.jsx("div",{className:"max-w-6xl mx-auto px-10 relative z-10",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-black mb-8 leading-tight italic uppercase",children:["Ciencia Predictiva, ",g.jsx("br",{}),"Vida Real."]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(Ym,{label:"Latencia de Procesamiento",value:"< 1.1s"}),g.jsx(Ym,{label:"Precisin del Modelo",value:"98.4%"}),g.jsx(Ym,{label:"Indice de Adherencia",value:"94.2%"})]})]}),g.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-[2.5rem] p-10 border border-white/10 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center",children:g.jsx(sl,{size:24,className:"text-white fill-current"})}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-xl uppercase italic",children:"Estado: Optimizado"}),g.jsx("p",{className:"text-blue-400 text-xs font-black uppercase tracking-widest",children:"Nodos IA Activos"})]})]}),g.jsx("p",{className:"text-slate-400 leading-relaxed italic text-lg",children:'"Vitametra ha transformado mi gestin metablica de una tarea reactiva a una estrategia proactiva basada en datos reales."'})]})]})})]}),g.jsx("footer",{className:"py-12 text-center text-slate-400 text-[10px] font-black uppercase tracking-[0.4em]",children:" 2026 Vitametra Health  Precision Metabolism"})]}),Qm=({icon:t,title:e,desc:n,color:r})=>g.jsxs(It.div,{whileHover:{y:-5},className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm flex flex-col items-start transition-all",children:[g.jsx("div",{className:`w-16 h-16 ${r} rounded-2xl flex items-center justify-center mb-6`,children:ef.cloneElement(t,{size:28})}),g.jsx("h3",{className:"text-xl font-black text-slate-900 mb-3 tracking-tight italic uppercase",children:e}),g.jsx("p",{className:"text-slate-500 leading-relaxed text-sm font-bold",children:n})]}),Ym=({label:t,value:e})=>g.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-4",children:[g.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:t}),g.jsx("span",{className:"text-2xl font-[1000] italic text-blue-400",children:e})]}),tB=({history:t,onEntryClick:e})=>{const n=s=>({desayuno:{bg:"bg-orange-50",text:"text-orange-600",dot:"bg-orange-400"},almuerzo:{bg:"bg-blue-50",text:"text-blue-600",dot:"bg-blue-500"},cena:{bg:"bg-indigo-50",text:"text-indigo-600",dot:"bg-indigo-400"}})[s.toLowerCase()]||{bg:"bg-slate-50",text:"text-slate-500",dot:"bg-slate-400"},r=s=>s?s>180?{color:"text-rose-500",icon:g.jsx(cO,{size:14}),label:"Alto"}:s<70?{color:"text-amber-500",icon:g.jsx(aO,{size:14}),label:"Bajo"}:{color:"text-emerald-500",icon:g.jsx(_y,{size:14}),label:"Rango"}:null;return t.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center px-6",children:[g.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-6",children:g.jsx(pO,{size:32,className:"text-slate-200"})}),g.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase",children:"Sin registros"}),g.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Tus anlisis aparecern aqu."})]}):g.jsxs("div",{className:"max-w-md mx-auto space-y-8 pb-40 px-6 pt-10",children:[g.jsxs("header",{className:"flex items-end justify-between mb-12",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-widest mb-1",children:"Historial"}),g.jsxs("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic leading-none",children:["Mis ",g.jsx("br",{}),g.jsx("span",{className:"text-slate-300",children:"registros"})]})]}),g.jsxs("div",{className:"bg-slate-900 text-white px-4 py-2 rounded-2xl flex items-center gap-2",children:[g.jsx("span",{className:"text-xl font-black",children:t.length}),g.jsx("span",{className:"text-[9px] font-bold uppercase",children:"Total"})]})]}),g.jsx("div",{className:"space-y-4",children:t.map((s,a)=>{const l=n(s.mealType||"");return r(s.bloodGlucoseValue),g.jsxs(It.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>e?.(s),className:"group bg-white rounded-[2rem] p-5 border border-slate-50 shadow-sm hover:shadow-md transition-all cursor-pointer active:scale-[0.98]",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`px-3 py-1 rounded-full ${l.bg}`,children:g.jsx("span",{className:`text-[9px] font-bold uppercase ${l.text}`,children:s.mealType||"Comida"})}),g.jsxs("span",{className:"text-[10px] text-slate-400 font-bold flex items-center gap-1",children:[g.jsx(xy,{size:12}),new Date(s.createdAt?.seconds*1e3||s.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-16 w-16 rounded-2xl overflow-hidden bg-slate-100 shrink-0",children:g.jsx("img",{src:s.imageUrl||"https://images.unsplash.com/photo-1490645935967-10de6ba17061?q=80&w=200&auto=format&fit=crop",className:"h-full w-full object-cover",alt:""})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"text-slate-900 font-black text-lg truncate uppercase italic mb-2",children:s.foodName||"Anlisis IA"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-[7px] font-bold text-slate-400 uppercase",children:"Carbohidratos"}),g.jsxs("span",{className:"text-lg font-black text-blue-600",children:[s.totalCarbs,"g"]})]}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-[7px] font-bold text-slate-400 uppercase",children:"Insulina"}),g.jsxs("span",{className:"text-lg font-black text-slate-800",children:[s.finalInsulinUnits||s.recommendedInsulinUnits||"0","u"]})]})]})]}),g.jsx(wy,{size:18,className:"text-slate-300 group-hover:text-blue-600"})]})]},s.id||a)})})]})},nB=({currentUser:t})=>{const[e,n]=j.useState(t.aiMemory||""),[r,s]=j.useState(!1),[a,l]=j.useState(!1);j.useEffect(()=>{t.aiMemory&&n(t.aiMemory)},[t.aiMemory]);const d=async()=>{s(!0);try{await yn.updateUser({id:t.id,aiMemory:e}),l(!1)}catch(f){console.error("Error al guardar la memoria IA:",f),alert("No se pudo sincronizar la memoria con el ncleo.")}finally{s(!1)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-blue-500 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-100",children:g.jsx(cT,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-black tracking-tighter text-slate-900 uppercase leading-none",children:"Memoria Bio-Digital"}),g.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mt-1",children:"LTM (Long Term Memory)"})]})]}),!a&&g.jsx("button",{onClick:()=>l(!0),className:"p-2 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors",children:g.jsx(fT,{size:18,className:"text-slate-400"})})]}),g.jsx("div",{className:"relative",children:a?g.jsxs("div",{className:"space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[g.jsx("textarea",{value:e,onChange:f=>n(f.target.value),placeholder:"Ej: 'Suelo tener picos despus de la pasta', 'Hago ejercicio a las 19:00', 'Mi cuerpo reacciona lento a la insulina rpida'...",className:"w-full h-40 bg-slate-50 border-2 border-indigo-50 rounded-[2rem] p-6 text-sm font-medium text-slate-700 outline-none focus:border-indigo-200 focus:bg-white transition-all resize-none"}),g.jsx("button",{onClick:d,disabled:r,className:"w-full bg-indigo-600 text-white p-5 rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] flex items-center justify-center gap-3 shadow-lg shadow-indigo-100 active:scale-95 disabled:opacity-50 transition-all",children:r?g.jsx(Wa,{className:"animate-spin",size:16}):g.jsxs(g.Fragment,{children:[g.jsx(Ey,{size:16})," Consolidar Aprendizaje"]})})]}):g.jsxs("div",{onClick:()=>l(!0),className:"group cursor-pointer bg-gradient-to-br from-slate-50 to-white border border-slate-100 rounded-[2.5rem] p-7 relative overflow-hidden transition-all hover:shadow-md",children:[g.jsx("div",{className:"absolute -top-4 -right-4 text-slate-50 group-hover:text-indigo-50 transition-colors",children:g.jsx(vi,{size:80})}),e?g.jsxs("div",{className:"relative z-10",children:[g.jsxs("p",{className:"text-sm font-bold text-slate-600 leading-relaxed italic",children:['"',e,'"']}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[9px] font-black text-indigo-400 uppercase tracking-widest",children:[g.jsx(BM,{size:12})," Datos cargados en el Agente AI"]})]}):g.jsx("div",{className:"relative z-10 py-4 text-center",children:g.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sin memoria activa. Haz clic para entrenar a tu IA."})})]})}),g.jsxs("div",{className:"flex items-center gap-2 px-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em]",children:"Optimizacin metablica en tiempo real activa"})]})]})},rB=({currentUser:t,onUpdate:e})=>{const[n,r]=j.useState(!1),[s,a]=j.useState({diabetesType:t.clinicalConfig?.diabetesType||"Type 1",isf:t.clinicalConfig?.insulinSensitivityFactor||50,target:t.clinicalConfig?.targetGlucose||100,ratio:t.insulinRatioSchedule?.[0]?.ratio||15}),l=async()=>{r(!0);try{const d={id:t.id,clinicalConfig:{...t.clinicalConfig,diabetesType:s.diabetesType,insulinSensitivityFactor:s.isf,targetGlucose:s.target},insulinRatioSchedule:[{startTime:"08:00",ratio:s.ratio}]};await yn.updateUser(d),e(d),alert(" Parmetros recalibrados con xito")}catch(d){console.error(d),alert(" Error al sincronizar")}finally{r(!1)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-emerald-100",children:g.jsx(cu,{size:20})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-black tracking-tighter text-slate-900 uppercase leading-none",children:"Calibracin"}),g.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mt-1",children:"Motor Clnico"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[g.jsx("label",{className:"text-[9px] font-black uppercase text-slate-400 block mb-2 tracking-widest",children:"Condicin"}),g.jsxs("select",{value:s.diabetesType,onChange:d=>a({...s,diabetesType:d.target.value}),className:"w-full bg-white p-3 rounded-xl font-bold text-slate-700 outline-none border border-slate-200",children:[g.jsx("option",{value:"Type 1",children:"Tipo 1"}),g.jsx("option",{value:"Type 2",children:"Tipo 2"}),g.jsx("option",{value:"LADA",children:"LADA"})]})]}),g.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:["Ratio (1U:",s.ratio,"g)"]}),g.jsx("span",{className:"text-lg font-black text-blue-600",children:s.ratio})]}),g.jsx("input",{type:"range",min:"1",max:"40",value:s.ratio,onChange:d=>a({...s,ratio:parseInt(d.target.value)}),className:"w-full accent-blue-600"})]}),g.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest",children:["Sensibilidad (",s.isf,")"]}),g.jsx("span",{className:"text-lg font-black text-emerald-600",children:s.isf})]}),g.jsx("input",{type:"range",min:"10",max:"200",step:"5",value:s.isf,onChange:d=>a({...s,isf:parseInt(d.target.value)}),className:"w-full accent-emerald-500"})]}),g.jsx("button",{onClick:l,disabled:n,className:"w-full bg-slate-900 text-white p-5 rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] flex items-center justify-center gap-3 transition-all active:scale-95 disabled:opacity-50",children:n?"Guardando...":g.jsxs(g.Fragment,{children:[g.jsx(Ey,{size:16})," Aplicar Cambios"]})})]})]})},sB=[{id:"sedentary",label:"Sedentario",description:"Poco o nada de ejercicio.",multiplier:"1.2x",icon:g.jsx(QD,{size:20})},{id:"light",label:"Ligero",description:"Ejercicio 1-3 das/semana.",multiplier:"1.375x",icon:g.jsx(ZD,{size:20})},{id:"moderate",label:"Moderado",description:"Intenso 3-5 das/semana.",multiplier:"1.55x",icon:g.jsx(sl,{size:20})},{id:"active",label:"Muy Activo",description:"Entrenamiento diario.",multiplier:"1.725x",icon:g.jsx(TM,{size:20})},{id:"athlete",label:"Atleta Pro",description:"Esfuerzo fsico extremo.",multiplier:"1.9x",icon:g.jsx(dO,{size:20})}],iB=({selectedId:t,onSelect:e})=>g.jsx("div",{className:"grid gap-3 w-full max-w-md mx-auto",children:sB.map(n=>g.jsxs("button",{onClick:()=>e(n.id),className:`flex items-center gap-4 p-5 rounded-[2rem] border-2 transition-all active:scale-[0.98] ${t===n.id?"bg-metra-blue border-metra-blue text-white shadow-lg":"bg-slate-50 border-transparent text-metra-dark"}`,children:[g.jsx("div",{className:`p-3 rounded-2xl ${t===n.id?"bg-white/20":"bg-white text-metra-blue"}`,children:n.icon}),g.jsxs("div",{className:"flex-1 text-left",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-black uppercase text-[10px] tracking-widest",children:n.label}),g.jsx("span",{className:"text-[9px] font-black opacity-60",children:n.multiplier})]}),g.jsx("p",{className:"text-[10px] font-bold opacity-70",children:n.description})]})]},n.id))}),oB=({targetWeight:t,targetHba1c:e,onUpdate:n,unit:r})=>g.jsxs("div",{className:"w-full space-y-8 animate-in fade-in slide-in-from-bottom-4",children:[g.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-metra-blue",children:g.jsx(gT,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso Objetivo"}),g.jsxs("p",{className:"text-xl font-[1000] text-metra-dark italic uppercase tracking-tighter",children:[t," kg"]})]})]}),g.jsx("input",{type:"range",min:"40",max:"150",value:t,onChange:s=>n({targetWeight:Number(s.target.value)}),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-metra-blue"}),g.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[g.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:"40kg"}),g.jsx("span",{className:"text-[9px] font-black text-slate-300 uppercase",children:"150kg"})]})]}),g.jsxs("div",{className:"bg-metra-dark p-6 rounded-[2.5rem] shadow-xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-metra-blue/10 blur-3xl rounded-full"}),g.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[g.jsx("div",{className:"p-3 bg-white/10 rounded-2xl text-metra-blue backdrop-blur-md",children:g.jsx(hT,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-white/40 uppercase tracking-widest",children:"HbA1c Objetivo"}),g.jsxs("p",{className:"text-xl font-[1000] text-white italic uppercase tracking-tighter",children:[e,"%"]})]})]}),g.jsx("input",{type:"range",min:"4.0",max:"9.0",step:"0.1",value:e,onChange:s=>n({targetHba1c:Number(s.target.value)}),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer accent-metra-blue relative z-10"}),g.jsxs("div",{className:"flex justify-between mt-2 px-1 relative z-10",children:[g.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"4.0%"}),g.jsx("span",{className:"text-[9px] font-black text-white/20 uppercase",children:"9.0%"})]})]})]}),aB=({currentUser:t,onUpdateUser:e})=>{const[n,r]=j.useState(!1),[s,a]=j.useState(!1),[l,d]=j.useState(null),[f,p]=j.useState(t.insulinRatioSchedule||[{startTime:"06:00",ratio:15},{startTime:"13:00",ratio:15},{startTime:"20:00",ratio:15}]),y=async C=>{const z=C.target.files?.[0];if(!(!z||!t?.id)){r(!0);try{const G=SU(YU,`avatars/${t.id}`);await TU(G,z);const F=await IU(G);await lo(er(Kt,"users",t.id),{photoURL:F}),e({photoURL:F})}catch(G){console.error("Error subiendo Bio-Avatar:",G)}finally{r(!1)}}},_=async()=>{a(!0);try{const C=er(Kt,"users",t.id);await lo(C,{insulinRatioSchedule:f,updatedAt:new Date().toISOString()}),e({insulinRatioSchedule:f})}catch(C){console.error("Error guardando parmetros:",C)}finally{a(!1)}},E=(C,z)=>{const G=[...f];G[C].ratio=Number(z),p(G)},T=async C=>{e({activityLevel:C});const z=er(Kt,"users",t.id);await lo(z,{activityLevel:C}),setTimeout(()=>d(null),300)},k=async C=>{e({glucoseUnitPreference:C});const z=er(Kt,"users",t.id);await lo(z,{glucoseUnitPreference:C}),d(null)},N=async C=>{e(C);const z=er(Kt,"users",t.id);await lo(z,C)};return g.jsxs("div",{className:"min-h-screen bg-[#FBFBFE] pb-40",children:[g.jsxs("header",{className:"relative pt-20 pb-12 px-6 bg-white rounded-b-[4rem] shadow-[0_20px_50px_rgba(0,0,0,0.02)] overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 blur-[100px] rounded-full -mr-32 -mt-32 opacity-60"}),g.jsxs("div",{className:"relative flex flex-col items-center",children:[g.jsxs(It.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative",children:[g.jsx("div",{className:"w-32 h-32 rounded-[3rem] p-1 bg-gradient-to-tr from-blue-500 to-emerald-400 shadow-2xl",children:g.jsx("div",{className:"w-full h-full rounded-[2.8rem] bg-white overflow-hidden flex items-center justify-center border-4 border-white",children:n?g.jsx(Wa,{className:"animate-spin text-blue-500",size:32}):t?.photoURL?g.jsx("img",{src:t.photoURL,alt:"Bio-Profile",className:"w-full h-full object-cover"}):g.jsx(yT,{size:48,className:"text-slate-200"})})}),g.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-slate-900 text-white p-3 rounded-2xl shadow-xl border-4 border-white cursor-pointer hover:scale-110 active:scale-90 transition-all",children:[g.jsx(uT,{size:18,strokeWidth:2.5}),g.jsx("input",{type:"file",className:"hidden",onChange:y})]})]}),g.jsxs("h2",{className:"mt-8 text-4xl font-[1000] tracking-tighter text-slate-900 italic uppercase leading-none",children:[t?.firstName||"Usuario"," ",g.jsx("span",{className:"text-blue-600 italic",children:"PRO"})]}),g.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 rounded-full shadow-lg shadow-blue-100",children:[g.jsx(EM,{size:12,className:"text-blue-400"}),g.jsx("span",{className:"text-[9px] font-black text-white uppercase tracking-[0.2em]",children:"Bio-Core Identity Active"})]})]})]}),g.jsxs("main",{className:"px-6 mt-10 space-y-10",children:[g.jsxs("section",{className:"bg-white p-8 rounded-[3rem] border border-slate-50 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-xl",children:g.jsx(vi,{size:20})}),g.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Memoria Cognitiva IA"})]}),g.jsx(nB,{currentUser:t})]}),g.jsxs("section",{className:"space-y-6",children:[g.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] ml-4",children:"Parmetros de Calibracin"}),g.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-50 shadow-[0_8px_30px_rgba(0,0,0,0.02)] overflow-hidden",children:[g.jsx(Xm,{icon:g.jsx(cu,{className:"text-blue-600"}),label:"Esfuerzo Diario",value:t.activityLevel||"Sin definir",onClick:()=>d("activity")}),g.jsx(Xm,{icon:g.jsx(by,{className:"text-emerald-500"}),label:"Objetivos Clnicos",value:`${t.targetWeight||70}kg  ${t.targetHba1c||5.5}%`,onClick:()=>d("goals")}),g.jsx(Xm,{icon:g.jsx(hT,{className:"text-rose-500"}),label:"Unidades Mdicas",value:t.glucoseUnitPreference,onClick:()=>d("units"),isLast:!0})]})]}),g.jsx("section",{className:"bg-white p-8 rounded-[3rem] border border-slate-50 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:g.jsx(rB,{currentUser:t,onUpdate:C=>e(C)})}),g.jsxs("section",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between px-4",children:[g.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Cronologa de Ratios"}),g.jsx(gT,{size:16,className:"text-slate-300"})]}),g.jsx("div",{className:"bg-white rounded-[3.5rem] p-4 border border-slate-50 shadow-[0_8px_30px_rgba(0,0,0,0.02)]",children:f.map((C,z)=>g.jsxs("div",{className:`flex items-center justify-between p-6 ${z!==f.length-1?"border-b border-slate-50":""}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center text-blue-600 border border-slate-100",children:g.jsx(xy,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Inicio Segmento"}),g.jsx("span",{className:"text-lg font-black text-slate-900 italic tracking-tighter",children:C.startTime})]})]}),g.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-2xl border border-slate-100",children:[g.jsx("input",{type:"number",value:C.ratio,onChange:G=>E(z,G.target.value),className:"w-16 bg-white border-none rounded-xl py-3 text-center font-black text-blue-600 shadow-sm outline-none text-xl"}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase mr-3 italic",children:"g/ui"})]})]},z))})]}),g.jsxs("div",{className:"space-y-4 pt-6",children:[g.jsxs("button",{onClick:_,disabled:s,className:"group relative w-full bg-slate-900 text-white p-6 rounded-[2.5rem] font-black uppercase text-[11px] tracking-[0.3em] overflow-hidden transition-all hover:scale-[1.02] active:scale-95 shadow-2xl shadow-blue-200",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("span",{className:"relative flex items-center justify-center gap-3",children:s?g.jsx(Wa,{className:"animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(hg,{size:20,className:"text-blue-400"})," Sincronizar Bio-Core"]})})]}),g.jsxs("button",{onClick:()=>yn.logout(),className:"w-full flex items-center justify-center gap-3 p-6 text-rose-500 font-black text-[11px] uppercase tracking-[0.3em] rounded-[2.5rem] border border-transparent hover:bg-rose-50 transition-all",children:[g.jsx(pT,{size:18})," Finalizar Sesin Segura"]})]})]}),g.jsxs("footer",{className:"py-20 text-center opacity-30",children:[g.jsx(sl,{size:20,fill:"currentColor",className:"mx-auto mb-4 text-slate-400"}),g.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.6em]",children:"Vitametra Engine v4.2.0  2026"})]}),g.jsx(ff,{children:l&&g.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-end justify-center",children:[g.jsx(It.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/40 backdrop-blur-xl",onClick:()=>d(null)}),g.jsxs(It.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-lg bg-white rounded-t-[4rem] p-10 shadow-2xl pb-16",children:[g.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full mx-auto mb-10"}),g.jsxs("div",{className:"flex justify-between items-center mb-10",children:[g.jsxs("h3",{className:"text-2xl font-[1000] text-slate-900 uppercase italic tracking-tighter",children:[l==="activity"&&"Bio-Actividad",l==="units"&&"Sistema Mdica",l==="goals"&&"Metas Clnicas"]}),g.jsx("button",{onClick:()=>d(null),className:"p-3 bg-slate-50 rounded-full text-slate-400 hover:text-slate-900 transition-colors",children:g.jsx(uu,{size:24,strokeWidth:3})})]}),g.jsxs("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:[l==="activity"&&g.jsx(iB,{selectedId:t.activityLevel,onSelect:T}),l==="units"&&g.jsx("div",{className:"grid gap-4",children:["mg/dL","mmol/L"].map(C=>g.jsxs("button",{onClick:()=>k(C),className:`p-8 rounded-[2.5rem] border-2 flex justify-between items-center transition-all ${t.glucoseUnitPreference===C?"bg-blue-600 border-blue-600 text-white shadow-xl scale-[1.02]":"bg-slate-50 border-transparent text-slate-800 hover:bg-slate-100"}`,children:[g.jsx("span",{className:"font-black text-lg uppercase tracking-widest",children:C}),t.glucoseUnitPreference===C&&g.jsx(hg,{size:24})]},C))}),l==="goals"&&g.jsx(oB,{targetWeight:t.targetWeight||70,targetHba1c:t.targetHba1c||5.5,onUpdate:N,unit:t.glucoseUnitPreference})]})]})]})})]})},Xm=({icon:t,label:e,value:n,onClick:r,isLast:s})=>g.jsxs("button",{onClick:r,className:`w-full flex items-center justify-between p-7 hover:bg-slate-50 transition-all ${s?"":"border-b border-slate-50"}`,children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-50",children:ef.cloneElement(t,{size:20})}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:e}),g.jsx("p",{className:"text-sm font-extrabold text-slate-800 uppercase tracking-tight",children:n})]})]}),g.jsx(wy,{size:20,className:"text-slate-200"})]}),lB=()=>g.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),cB=({onLoginSuccess:t})=>{const e=tu(),[n,r]=j.useState(1),[s,a]=j.useState(!1),[l,d]=j.useState(null),[f,p]=j.useState({firstName:"",email:"",password:"",diabetesType:"Type 1",country:"Chile",ratio:10,isf:50,targetGlucose:110}),y=()=>{if(n===1&&(!f.firstName||!f.email||!f.password)){d("Completa los datos de acceso.");return}d(null),r(T=>T+1)},_=()=>r(T=>T-1),E=async T=>{T.preventDefault(),a(!0),d(null);try{const C={id:(await yn.register(f.email,f.password,f.firstName)).user.uid,firstName:f.firstName,lastName:"",email:f.email.toLowerCase().trim(),role:"USER",subscription_tier:"BASE",ia_credits:3,daily_ia_usage:0,streak:0,createdAt:new Date().toISOString(),insulinRatioSchedule:[{startTime:"08:00",ratio:Number(f.ratio)}],clinicalConfig:{diabetesType:f.diabetesType,insulinSensitivityFactor:Number(f.isf),targetGlucose:Number(f.targetGlucose)},memory:{patterns:{highGlucoseTriggers:[],effectiveCorrections:[],notableEvents:[]},preferences:{dietaryRestrictions:[],favoriteSafeFoods:[]},aiNotes:"Protocolo VitaFlow activado. Esperando primeros datos."}};await yn.updateUser(C),t&&t(C),setTimeout(()=>e("/dashboard"),500)}catch(k){d(k.message||"Error al activar el perfil."),r(1)}finally{a(!1)}};return g.jsxs("div",{className:"min-h-screen bg-[#F2F2F7] px-6 py-12 font-sans antialiased text-slate-900",children:[g.jsx("div",{className:"max-w-md mx-auto mb-10 flex gap-2 justify-center",children:[1,2,3].map(T=>g.jsx("div",{className:`h-1 w-16 rounded-full transition-all duration-500 ${n>=T?"bg-blue-600":"bg-slate-200"}`},T))}),g.jsxs("div",{className:"max-w-xl mx-auto",children:[l&&g.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-100 text-red-600 rounded-2xl text-xs font-bold text-center animate-bounce",children:l}),n===1&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-20 h-20 bg-white rounded-[2.5rem] shadow-xl flex items-center justify-center mx-auto mb-6",children:g.jsx(vT,{className:"text-blue-600",size:32})}),g.jsxs("h1",{className:"text-4xl font-[1000] tracking-tighter italic uppercase",children:["Vita",g.jsx("span",{className:"text-blue-600",children:"Flow"})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-5",children:[g.jsx("input",{value:f.firstName,onChange:T=>p({...f,firstName:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Tu Nombre"}),g.jsx("input",{value:f.email,onChange:T=>p({...f,email:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Email"}),g.jsx("input",{type:"password",value:f.password,onChange:T=>p({...f,password:T.target.value}),className:"w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none",placeholder:"Contrasea"}),g.jsxs("button",{onClick:y,className:"w-full bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[11px] tracking-widest flex items-center justify-center gap-3",children:["Siguiente ",g.jsx(cf,{size:18})]})]})]}),n===2&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-[2rem] shadow-xl flex items-center justify-center mx-auto mb-6 text-white",children:g.jsx(cu,{size:32})}),g.jsx("h2",{className:"text-3xl font-[1000] tracking-tighter italic uppercase",children:"Calibracin"})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-6",children:[g.jsxs("select",{value:f.diabetesType,onChange:T=>p({...f,diabetesType:T.target.value}),className:"w-full p-4 bg-slate-50 rounded-2xl font-bold text-xs",children:[g.jsx("option",{value:"Type 1",children:"Tipo 1"}),g.jsx("option",{value:"Type 2",children:"Tipo 2"}),g.jsx("option",{value:"LADA",children:"LADA"})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"text-[9px] font-black uppercase text-slate-400 block mb-2 text-center tracking-widest",children:["Ratio Insulina (1U : ",f.ratio,"g Carbos)"]}),g.jsx("input",{type:"range",min:"1",max:"40",value:f.ratio,onChange:T=>p({...f,ratio:parseInt(T.target.value)}),className:"w-full accent-blue-600"})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:_,className:"p-6 bg-slate-100 rounded-[2rem] text-slate-400 font-black",children:g.jsx(dM,{size:20})}),g.jsx("button",{onClick:y,className:"flex-1 bg-black text-white p-6 rounded-[2rem] font-black uppercase text-[11px] tracking-widest",children:"Configurar Meta"})]})]})]}),n===3&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-[2rem] shadow-xl flex items-center justify-center mx-auto mb-6 text-white",children:g.jsx(by,{size:32})}),g.jsx("h2",{className:"text-3xl font-[1000] tracking-tighter italic uppercase",children:"Meta"})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-2xl space-y-6",children:[g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] text-center",children:[g.jsx("input",{type:"number",value:f.targetGlucose,onChange:T=>p({...f,targetGlucose:parseInt(T.target.value)}),className:"w-full bg-transparent text-center text-5xl font-[1000] text-blue-600 outline-none"}),g.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"mg/dL Objetivo"})]}),g.jsx("button",{onClick:E,disabled:s,className:"w-full bg-blue-600 text-white p-6 rounded-[2rem] font-[1000] uppercase text-[12px] tracking-widest shadow-xl shadow-blue-200",children:s?g.jsx(lB,{}):"Activar mi VitaFlow"})]})]})]})]})};function HS(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function uB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ib(t,e){return t.get(HS(t,e))}function dB(t,e,n){uB(t,e),e.set(t,n)}function hB(t,e,n){return t.set(HS(t,e),n),n}const fB=100,ve={},pB=()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus()},mB=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{pB(),e()},fB),window.scrollTo(n,r)}),WS="swal2-",gB=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Q=gB.reduce((t,e)=>(t[e]=WS+e,t),{}),yB=["success","warning","info","question","error"],Wh=yB.reduce((t,e)=>(t[e]=WS+e,t),{}),qS="SweetAlert2:",W0=t=>t.charAt(0).toUpperCase()+t.slice(1),_n=t=>{console.warn(`${qS} ${typeof t=="object"?t.join(" "):t}`)},Ro=t=>{console.error(`${qS} ${t}`)},Sb=[],vB=t=>{Sb.includes(t)||(Sb.push(t),_n(t))},GS=(t,e=null)=>{vB(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Lf=t=>typeof t=="function"?t():t,q0=t=>t&&typeof t.toPromise=="function",Eu=t=>q0(t)?t.toPromise():Promise.resolve(t),G0=t=>t&&Promise.resolve(t)===t,xn=()=>document.body.querySelector(`.${Q.container}`),bu=t=>{const e=xn();return e?e.querySelector(t):null},zn=t=>bu(`.${t}`),We=()=>zn(Q.popup),hl=()=>zn(Q.icon),wB=()=>zn(Q["icon-content"]),KS=()=>zn(Q.title),K0=()=>zn(Q["html-container"]),QS=()=>zn(Q.image),Q0=()=>zn(Q["progress-steps"]),Vf=()=>zn(Q["validation-message"]),Yr=()=>bu(`.${Q.actions} .${Q.confirm}`),fl=()=>bu(`.${Q.actions} .${Q.cancel}`),No=()=>bu(`.${Q.actions} .${Q.deny}`),_B=()=>zn(Q["input-label"]),pl=()=>bu(`.${Q.loader}`),Tu=()=>zn(Q.actions),YS=()=>zn(Q.footer),jf=()=>zn(Q["timer-progress-bar"]),Y0=()=>zn(Q.close),xB=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,X0=()=>{const t=We();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,l)=>{const d=parseInt(a.getAttribute("tabindex")||"0"),f=parseInt(l.getAttribute("tabindex")||"0");return d>f?1:d<f?-1:0}),r=t.querySelectorAll(xB),s=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(s))].filter(a=>Rn(a))},J0=()=>_s(document.body,Q.shown)&&!_s(document.body,Q["toast-shown"])&&!_s(document.body,Q["no-backdrop"]),Ff=()=>{const t=We();return t?_s(t,Q.toast):!1},EB=()=>{const t=We();return t?t.hasAttribute("data-loading"):!1},$n=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),s=r.querySelector("head");s&&Array.from(s.childNodes).forEach(l=>{t.appendChild(l)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},_s=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},bB=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(Q).includes(n)&&!Object.values(Wh).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Bn=(t,e,n)=>{if(bB(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){_n(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}He(t,r)}},Uf=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Q.popup} > .${Q[e]}`);case"checkbox":return t.querySelector(`.${Q.popup} > .${Q.checkbox} input`);case"radio":return t.querySelector(`.${Q.popup} > .${Q.radio} input:checked`)||t.querySelector(`.${Q.popup} > .${Q.radio} input:first-child`);case"range":return t.querySelector(`.${Q.popup} > .${Q.range} input`);default:return t.querySelector(`.${Q.popup} > .${Q.input}`)}},XS=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},JS=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(s=>{n?s.classList.add(r):s.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},He=(t,e)=>{JS(t,e,!0)},or=(t,e)=>{JS(t,e,!1)},ci=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const s=n[r];if(s instanceof HTMLElement&&_s(s,e))return s}},yo=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Bt=(t,e="flex")=>{t&&(t.style.display=e)},dn=t=>{t&&(t.style.display="none")},Z0=(t,e="block")=>{t&&new MutationObserver(()=>{Iu(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},kb=(t,e,n,r)=>{const s=t.querySelector(e);s&&s.style.setProperty(n,r)},Iu=(t,e,n="flex")=>{e?Bt(t,n):dn(t)},Rn=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),TB=()=>!Rn(Yr())&&!Rn(No())&&!Rn(fl()),ty=t=>t.scrollHeight>t.clientHeight,IB=(t,e)=>{let n=t;for(;n&&n!==e;){if(ty(n))return!0;n=n.parentElement}return!1},ZS=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},ev=(t,e=!1)=>{const n=jf();n&&Rn(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},SB=()=>{const t=jf();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},kB=()=>typeof window>"u"||typeof document>"u",CB=`
 <div aria-labelledby="${Q.title}" aria-describedby="${Q["html-container"]}" class="${Q.popup}" tabindex="-1">
   <button type="button" class="${Q.close}"></button>
   <ul class="${Q["progress-steps"]}"></ul>
   <div class="${Q.icon}"></div>
   <img class="${Q.image}" />
   <h2 class="${Q.title}" id="${Q.title}"></h2>
   <div class="${Q["html-container"]}" id="${Q["html-container"]}"></div>
   <input class="${Q.input}" id="${Q.input}" />
   <input type="file" class="${Q.file}" />
   <div class="${Q.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Q.select}" id="${Q.select}"></select>
   <div class="${Q.radio}"></div>
   <label class="${Q.checkbox}">
     <input type="checkbox" id="${Q.checkbox}" />
     <span class="${Q.label}"></span>
   </label>
   <textarea class="${Q.textarea}" id="${Q.textarea}"></textarea>
   <div class="${Q["validation-message"]}" id="${Q["validation-message"]}"></div>
   <div class="${Q.actions}">
     <div class="${Q.loader}"></div>
     <button type="button" class="${Q.confirm}"></button>
     <button type="button" class="${Q.deny}"></button>
     <button type="button" class="${Q.cancel}"></button>
   </div>
   <div class="${Q.footer}"></div>
   <div class="${Q["timer-progress-bar-container"]}">
     <div class="${Q["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),AB=()=>{const t=xn();return t?(t.remove(),or([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0):!1},io=()=>{ve.currentInstance&&ve.currentInstance.resetValidationMessage()},PB=()=>{const t=We();if(!t)return;const e=ci(t,Q.input),n=ci(t,Q.file),r=t.querySelector(`.${Q.range} input`),s=t.querySelector(`.${Q.range} output`),a=ci(t,Q.select),l=t.querySelector(`.${Q.checkbox} input`),d=ci(t,Q.textarea);e&&(e.oninput=io),n&&(n.onchange=io),a&&(a.onchange=io),l&&(l.onchange=io),d&&(d.oninput=io),r&&s&&(r.oninput=()=>{io(),s.value=r.value},r.onchange=()=>{io(),s.value=r.value})},RB=t=>{if(typeof t=="string"){const e=document.querySelector(t);if(!e)throw new Error(`Target element "${t}" not found`);return e}return t},NB=t=>{const e=We();e&&(e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true"))},DB=t=>{window.getComputedStyle(t).direction==="rtl"&&(He(xn(),Q.rtl),ve.isRTL=!0)},MB=t=>{const e=AB();if(kB()){Ro("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=Q.container,e&&He(n,Q["no-transition"]),$n(n,CB),n.dataset.swal2Theme=t.theme;const r=RB(t.target||"body");r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),NB(t),DB(r),PB()},tv=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?OB(t,e):t&&$n(e,t)},OB=(t,e)=>{"jquery"in t?LB(e,t):$n(e,t.toString())},LB=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},VB=(t,e)=>{const n=Tu(),r=pl();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?dn(n):Bt(n),Bn(n,e,"actions"),jB(n,r,e),$n(r,e.loaderHtml||""),Bn(r,e,"loader"))};function jB(t,e,n){const r=Yr(),s=No(),a=fl();!r||!s||!a||(Zm(r,"confirm",n),Zm(s,"deny",n),Zm(a,"cancel",n),FB(r,s,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(s,r)):(t.insertBefore(a,e),t.insertBefore(s,e),t.insertBefore(r,e))))}function FB(t,e,n,r){if(!r.buttonsStyling){or([t,e,n],Q.styled);return}He([t,e,n],Q.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Jm(t),Jm(e),Jm(n)}function Jm(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Zm(t,e,n){const r=W0(e);Iu(t,n[`show${r}Button`],"inline-block"),$n(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=Q[e],Bn(t,n,`${e}Button`)}const UB=(t,e)=>{const n=Y0();n&&($n(n,e.closeButtonHtml||""),Bn(n,e,"closeButton"),Iu(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},BB=(t,e)=>{const n=xn();n&&(zB(n,e.backdrop),$B(n,e.position),HB(n,e.grow),Bn(n,e,"container"))};function zB(t,e){typeof e=="string"?t.style.background=e:e||He([document.documentElement,document.body],Q["no-backdrop"])}function $B(t,e){e&&(e in Q?He(t,Q[e]):(_n('The "position" parameter is not valid, defaulting to "center"'),He(t,Q.center)))}function HB(t,e){e&&He(t,Q[`grow-${e}`])}var et={innerParams:new WeakMap,domCache:new WeakMap};const WB=["input","file","range","select","radio","checkbox","textarea"],qB=(t,e)=>{const n=We();if(!n)return;const r=et.innerParams.get(t),s=!r||e.input!==r.input;WB.forEach(a=>{const l=ci(n,Q[a]);l&&(QB(a,e.inputAttributes),l.className=Q[a],s&&dn(l))}),e.input&&(s&&GB(e),YB(e))},GB=t=>{if(!t.input)return;if(!yt[t.input]){Ro(`Unexpected type of input! Expected ${Object.keys(yt).join(" | ")}, got "${t.input}"`);return}const e=ek(t.input);if(!e)return;const n=yt[t.input](e,t);Bt(e),t.inputAutoFocus&&setTimeout(()=>{XS(n)})},KB=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},QB=(t,e)=>{const n=We();if(!n)return;const r=Uf(n,t);if(r){KB(r);for(const s in e)r.setAttribute(s,e[s])}},YB=t=>{if(!t.input)return;const e=ek(t.input);e&&Bn(e,t,"input")},nv=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Su=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),s=Q["input-label"];r.setAttribute("for",t.id),r.className=s,typeof n.customClass=="object"&&He(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},ek=t=>{const e=We();if(e)return ci(e,Q[t]||Q.input)},qh=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:G0(e)||_n(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},yt={};yt.text=yt.email=yt.password=yt.number=yt.tel=yt.url=yt.search=yt.date=yt["datetime-local"]=yt.time=yt.week=yt.month=(t,e)=>{const n=t;return qh(n,e.inputValue),Su(n,n,e),nv(n,e),n.type=e.input,n};yt.file=(t,e)=>{const n=t;return Su(n,n,e),nv(n,e),n};yt.range=(t,e)=>{const n=t,r=n.querySelector("input"),s=n.querySelector("output");return r&&(qh(r,e.inputValue),r.type=e.input,Su(r,t,e)),s&&qh(s,e.inputValue),t};yt.select=(t,e)=>{const n=t;if(n.textContent="",e.inputPlaceholder){const r=document.createElement("option");$n(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,n.appendChild(r)}return Su(n,n,e),n};yt.radio=t=>{const e=t;return e.textContent="",t};yt.checkbox=(t,e)=>{const n=We();if(!n)throw new Error("Popup not found");const r=Uf(n,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!e.inputValue;const a=t.querySelector("span");if(a){const l=e.inputPlaceholder||e.inputLabel;l&&$n(a,l)}return r};yt.textarea=(t,e)=>{const n=t;qh(n,e.inputValue),nv(n,e),Su(n,n,e);const r=s=>parseInt(window.getComputedStyle(s).marginLeft)+parseInt(window.getComputedStyle(s).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const s=We();if(!s)return;const a=parseInt(window.getComputedStyle(s).width),l=()=>{if(!document.body.contains(n))return;const d=n.offsetWidth+r(n),f=We();f&&(d>a?f.style.width=`${d}px`:yo(f,"width",e.width))};new MutationObserver(l).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const XB=(t,e)=>{const n=K0();n&&(Z0(n),Bn(n,e,"htmlContainer"),e.html?(tv(e.html,n),Bt(n,"block")):e.text?(n.textContent=e.text,Bt(n,"block")):dn(n),qB(t,e))},JB=(t,e)=>{const n=YS();n&&(Z0(n),Iu(n,!!e.footer,"block"),e.footer&&tv(e.footer,n),Bn(n,e,"footer"))},ZB=(t,e)=>{const n=et.innerParams.get(t),r=hl();if(!r)return;if(n&&e.icon===n.icon){Ab(r,e),Cb(r,e);return}if(!e.icon&&!e.iconHtml){dn(r);return}if(e.icon&&Object.keys(Wh).indexOf(e.icon)===-1){Ro(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),dn(r);return}Bt(r),Ab(r,e),Cb(r,e),He(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tk)},Cb=(t,e)=>{for(const[n,r]of Object.entries(Wh))e.icon!==n&&or(t,r);He(t,e.icon&&Wh[e.icon]),n9(t,e),tk(),Bn(t,e,"icon")},tk=()=>{const t=We();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},e9=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,t9=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ab=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=Pb(e.iconHtml):e.icon==="success"?(r=e9(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=t9:e.icon&&(r=Pb({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&$n(t,r)},n9=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])kb(t,n,"background-color",e.iconColor);kb(t,".swal2-success-ring","border-color",e.iconColor)}},Pb=t=>`<div class="${Q["icon-content"]}">${t}</div>`,r9=(t,e)=>{const n=QS();if(n){if(!e.imageUrl){dn(n);return}Bt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),yo(n,"width",e.imageWidth),yo(n,"height",e.imageHeight),n.className=Q.image,Bn(n,e,"image")}};let rv=!1,nk=0,rk=0,sk=0,ik=0;const s9=t=>{t.addEventListener("mousedown",Gh),document.body.addEventListener("mousemove",Kh),t.addEventListener("mouseup",Qh),t.addEventListener("touchstart",Gh),document.body.addEventListener("touchmove",Kh),t.addEventListener("touchend",Qh)},i9=t=>{t.removeEventListener("mousedown",Gh),document.body.removeEventListener("mousemove",Kh),t.removeEventListener("mouseup",Qh),t.removeEventListener("touchstart",Gh),document.body.removeEventListener("touchmove",Kh),t.removeEventListener("touchend",Qh)},Gh=t=>{const e=We();if(!e)return;const n=hl();if(t.target===e||n&&n.contains(t.target)){rv=!0;const r=ok(t);nk=r.clientX,rk=r.clientY,sk=parseInt(e.style.insetInlineStart)||0,ik=parseInt(e.style.insetBlockStart)||0,He(e,"swal2-dragging")}},Kh=t=>{const e=We();if(e&&rv){let{clientX:n,clientY:r}=ok(t);const s=n-nk;e.style.insetInlineStart=`${sk+(ve.isRTL?-s:s)}px`,e.style.insetBlockStart=`${ik+(r-rk)}px`}},Qh=()=>{const t=We();rv=!1,or(t,"swal2-dragging")},ok=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},o9=(t,e)=>{const n=xn(),r=We();if(!(!n||!r)){if(e.toast){yo(n,"width",e.width),r.style.width="100%";const s=pl();s&&r.insertBefore(s,hl())}else yo(r,"width",e.width);yo(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),dn(Vf()),a9(r,e),e.draggable&&!e.toast?(He(r,Q.draggable),s9(r)):(or(r,Q.draggable),i9(r))}},a9=(t,e)=>{const n=e.showClass||{};t.className=`${Q.popup} ${Rn(t)?n.popup:""}`,e.toast?(He([document.documentElement,document.body],Q["toast-shown"]),He(t,Q.toast)):He(t,Q.modal),Bn(t,e,"popup"),typeof e.customClass=="string"&&He(t,e.customClass),e.icon&&He(t,Q[`icon-${e.icon}`])},l9=(t,e)=>{const n=Q0();if(!n)return;const{progressSteps:r,currentProgressStep:s}=e;if(!r||r.length===0||s===void 0){dn(n);return}Bt(n),n.textContent="",s>=r.length&&_n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,l)=>{const d=c9(a);if(n.appendChild(d),l===s&&He(d,Q["active-progress-step"]),l!==r.length-1){const f=u9(e);n.appendChild(f)}})},c9=t=>{const e=document.createElement("li");return He(e,Q["progress-step"]),$n(e,t),e},u9=t=>{const e=document.createElement("li");return He(e,Q["progress-step-line"]),t.progressStepsDistance&&yo(e,"width",t.progressStepsDistance),e},d9=(t,e)=>{const n=KS();n&&(Z0(n),Iu(n,!!(e.title||e.titleText),"block"),e.title&&tv(e.title,n),e.titleText&&(n.innerText=e.titleText),Bn(n,e,"title"))},ak=(t,e)=>{var n;o9(t,e),BB(t,e),l9(t,e),ZB(t,e),r9(t,e),d9(t,e),UB(t,e),XB(t,e),VB(t,e),JB(t,e);const r=We();typeof e.didRender=="function"&&r&&e.didRender(r),(n=ve.eventEmitter)===null||n===void 0||n.emit("didRender",r)},h9=()=>Rn(We()),lk=()=>{var t;return(t=Yr())===null||t===void 0?void 0:t.click()},f9=()=>{var t;return(t=No())===null||t===void 0?void 0:t.click()},p9=()=>{var t;return(t=fl())===null||t===void 0?void 0:t.click()},ml=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ck=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const e=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",e,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},m9=(t,e,n)=>{if(ck(t),!e.toast){const r=a=>y9(e,a,n);t.keydownHandler=r;const s=e.keydownListenerCapture?window:We();if(s){t.keydownTarget=s,t.keydownListenerCapture=e.keydownListenerCapture;const a=r;t.keydownTarget.addEventListener("keydown",a,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},ny=(t,e)=>{var n;const r=X0();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=We())===null||n===void 0||n.focus()},uk=["ArrowRight","ArrowDown"],g9=["ArrowLeft","ArrowUp"],y9=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?v9(e,t):e.key==="Tab"?w9(e):[...uk,...g9].includes(e.key)?_9(e.key):e.key==="Escape"&&x9(e,t,n)))},v9=(t,e)=>{if(!Lf(e.allowEnterKey))return;const n=We();if(!n||!e.input)return;const r=Uf(n,e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;lk(),t.preventDefault()}},w9=t=>{const e=t.target,n=X0();let r=-1;for(let s=0;s<n.length;s++)if(e===n[s]){r=s;break}t.shiftKey?ny(r,-1):ny(r,1),t.stopPropagation(),t.preventDefault()},_9=t=>{const e=Tu(),n=Yr(),r=No(),s=fl();if(!e||!n||!r||!s)return;const a=[n,r,s];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=uk.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let f=0;f<e.children.length;f++){if(d=d[l],!d)return;if(d instanceof HTMLButtonElement&&Rn(d))break}d instanceof HTMLButtonElement&&d.focus()}},x9=(t,e,n)=>{t.preventDefault(),Lf(e.allowEscapeKey)&&n(ml.esc)};var el={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const E9=()=>{const t=xn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},dk=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},hk=typeof window<"u"&&!!window.GestureEvent,b9=()=>{if(hk&&!_s(document.body,Q.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,He(document.body,Q.iosfix),T9()}},T9=()=>{const t=xn();if(!t)return;let e;t.ontouchstart=n=>{e=I9(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},I9=t=>{const e=t.target,n=xn(),r=K0();return!n||!r||S9(t)||k9(t)?!1:e===n||!ty(n)&&e instanceof HTMLElement&&!IB(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(ty(r)&&r.contains(e))},S9=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),k9=t=>t.touches&&t.touches.length>1,C9=()=>{if(_s(document.body,Q.iosfix)){const t=parseInt(document.body.style.top,10);or(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},A9=()=>{const t=document.createElement("div");t.className=Q["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let $a=null;const P9=t=>{$a===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&($a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${$a+A9()}px`)},R9=()=>{$a!==null&&(document.body.style.paddingRight=`${$a}px`,$a=null)};function fk(t,e,n,r){Ff()?Rb(t,r):(mB(n).then(()=>Rb(t,r)),ck(ve)),hk?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),J0()&&(R9(),C9(),dk()),N9()}function N9(){or([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function ui(t){t=M9(t);const e=el.swalPromiseResolve.get(this),n=D9(this);this.isAwaitingPromise?t.isDismissed||(ku(this),e(t)):n&&e(t)}const D9=t=>{const e=We();if(!e)return!1;const n=et.innerParams.get(t);if(!n||_s(e,n.hideClass.popup))return!1;or(e,n.showClass.popup),He(e,n.hideClass.popup);const r=xn();return or(r,n.showClass.backdrop),He(r,n.hideClass.backdrop),O9(t,e,n),!0};function pk(t){const e=el.swalPromiseReject.get(this);ku(this),e&&e(t)}const ku=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,et.innerParams.get(t)||t._destroy())},M9=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),O9=(t,e,n)=>{var r;const s=xn(),a=ZS(e);typeof n.willClose=="function"&&n.willClose(e),(r=ve.eventEmitter)===null||r===void 0||r.emit("willClose",e),a&&s?L9(t,e,s,!!n.returnFocus,n.didClose):s&&fk(t,s,!!n.returnFocus,n.didClose)},L9=(t,e,n,r,s)=>{ve.swalCloseEventFinishedCallback=fk.bind(null,t,n,r,s);const a=function(l){if(l.target===e){var d;(d=ve.swalCloseEventFinishedCallback)===null||d===void 0||d.call(ve),delete ve.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},Rb=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ve.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},tl=t=>{let e=We();if(e||new Ha,e=We(),!e)return;const n=pl();Ff()?dn(hl()):V9(e,t),Bt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},V9=(t,e)=>{const n=Tu(),r=pl();!n||!r||(!e&&Rn(Yr())&&(e=Yr()),Bt(n),e&&(dn(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),He([t,n],Q.loading))},j9=(t,e)=>{e.input==="select"||e.input==="radio"?$9(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(q0(e.inputValue)||G0(e.inputValue))&&(tl(Yr()),H9(t,e))},F9=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return U9(n);case"radio":return B9(n);case"file":return z9(n);default:return e.inputAutoTrim?n.value.trim():n.value}},U9=t=>t.checked?1:0,B9=t=>t.checked?t.value:null,z9=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,$9=(t,e)=>{const n=We();if(!n)return;const r=s=>{e.input==="select"?W9(n,Yh(s),e):e.input==="radio"&&q9(n,Yh(s),e)};q0(e.inputOptions)||G0(e.inputOptions)?(tl(Yr()),Eu(e.inputOptions).then(s=>{t.hideLoading(),r(s)})):typeof e.inputOptions=="object"?r(e.inputOptions):Ro(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},H9=(t,e)=>{const n=t.getInput();n&&(dn(n),Eu(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,Bt(n),n.focus(),t.hideLoading()}).catch(r=>{Ro(`Error in inputValue promise: ${r}`),n.value="",Bt(n),n.focus(),t.hideLoading()}))};function W9(t,e,n){const r=ci(t,Q.select);if(!r)return;const s=(a,l,d)=>{const f=document.createElement("option");f.value=d,$n(f,l),f.selected=mk(d,n.inputValue),a.appendChild(f)};e.forEach(a=>{const l=a[0],d=a[1];if(Array.isArray(d)){const f=document.createElement("optgroup");f.label=l,f.disabled=!1,r.appendChild(f),d.forEach(p=>s(f,p[1],p[0]))}else s(r,d,l)}),r.focus()}function q9(t,e,n){const r=ci(t,Q.radio);if(!r)return;e.forEach(a=>{const l=a[0],d=a[1],f=document.createElement("input"),p=document.createElement("label");f.type="radio",f.name=Q.radio,f.value=l,mk(l,n.inputValue)&&(f.checked=!0);const y=document.createElement("span");$n(y,d),y.className=Q.label,p.appendChild(f),p.appendChild(y),r.appendChild(p)});const s=r.querySelectorAll("input");s.length&&s[0].focus()}const Yh=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let s=n;typeof s=="object"&&(s=Yh(s)),e.push([r,s])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Yh(r)),e.push([n,r])}),e},mk=(t,e)=>!!e&&e!==null&&e!==void 0&&e.toString()===t.toString(),G9=t=>{const e=et.innerParams.get(t);t.disableButtons(),e.input?gk(t,"confirm"):iv(t,!0)},K9=t=>{const e=et.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?gk(t,"deny"):sv(t,!1)},Q9=(t,e)=>{t.disableButtons(),e(ml.cancel)},gk=(t,e)=>{const n=et.innerParams.get(t);if(!n.input){Ro(`The "input" parameter is needed to be set when using returnInputValueOn${W0(e)}`);return}const r=t.getInput(),s=F9(t,n);n.inputValidator?Y9(t,s,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?sv(t,s):iv(t,s)},Y9=(t,e,n)=>{const r=et.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Eu(r.inputValidator(e,r.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?sv(t,e):iv(t,e)})},sv=(t,e)=>{const n=et.innerParams.get(t);n.showLoaderOnDeny&&tl(No()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Eu(n.preDeny(e,n.validationMessage))).then(s=>{s===!1?(t.hideLoading(),ku(t)):t.close({isDenied:!0,value:typeof s>"u"?e:s})}).catch(s=>yk(t,s))):t.close({isDenied:!0,value:e})},Nb=(t,e)=>{t.close({isConfirmed:!0,value:e})},yk=(t,e)=>{t.rejectPromise(e)},iv=(t,e)=>{const n=et.innerParams.get(t);n.showLoaderOnConfirm&&tl(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Eu(n.preConfirm(e,n.validationMessage))).then(s=>{Rn(Vf())||s===!1?(t.hideLoading(),ku(t)):Nb(t,typeof s>"u"?e:s)}).catch(s=>yk(t,s))):Nb(t,e)};function Xh(){const t=et.innerParams.get(this);if(!t)return;const e=et.domCache.get(this);dn(e.loader),Ff()?t.icon&&Bt(hl()):X9(e),or([e.popup,e.actions],Q.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const X9=t=>{const e=t.loader.getAttribute("data-button-to-replace"),n=e?t.popup.getElementsByClassName(e):[];n.length?Bt(n[0],"inline-block"):TB()&&dn(t.actions)};function vk(){const t=et.innerParams.get(this),e=et.domCache.get(this);return e?Uf(e.popup,t.input):null}function wk(t,e,n){const r=et.domCache.get(t);e.forEach(s=>{r[s].disabled=n})}function _k(t,e){const n=We();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${Q.radio}"]`);for(let s=0;s<r.length;s++)r[s].disabled=e}else t.disabled=e}function xk(){wk(this,["confirmButton","denyButton","cancelButton"],!1)}function Ek(){wk(this,["confirmButton","denyButton","cancelButton"],!0)}function bk(){_k(this.getInput(),!1)}function Tk(){_k(this.getInput(),!0)}function Ik(t){const e=et.domCache.get(this),n=et.innerParams.get(this);$n(e.validationMessage,t),e.validationMessage.className=Q["validation-message"],n.customClass&&n.customClass.validationMessage&&He(e.validationMessage,n.customClass.validationMessage),Bt(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Q["validation-message"]),XS(r),He(r,Q.inputerror))}function Sk(){const t=et.domCache.get(this);t.validationMessage&&dn(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),or(e,Q.inputerror))}const di={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},J9=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Z9={allowEnterKey:void 0},ez=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kk=t=>Object.prototype.hasOwnProperty.call(di,t),Ck=t=>J9.indexOf(t)!==-1,Ak=t=>Z9[t],tz=t=>{kk(t)||_n(`Unknown parameter "${t}"`)},nz=t=>{ez.includes(t)&&_n(`The parameter "${t}" is incompatible with toasts`)},rz=t=>{const e=Ak(t);e&&GS(t,e)},Pk=t=>{t.backdrop===!1&&t.allowOutsideClick&&_n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&_n(`Invalid theme "${t.theme}"`);for(const e in t)tz(e),t.toast&&nz(e),rz(e)};function Rk(t){const e=xn(),n=We(),r=et.innerParams.get(this);if(!n||_s(n,r.hideClass.popup)){_n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const s=sz(t),a=Object.assign({},r,s);Pk(a),e&&(e.dataset.swal2Theme=a.theme),ak(this,a),et.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sz=t=>{const e={};return Object.keys(t).forEach(n=>{if(Ck(n)){const r=t;e[n]=r[n]}else _n(`Invalid parameter to update: ${n}`)}),e};function Nk(){var t;const e=et.domCache.get(this),n=et.innerParams.get(this);if(!n){Dk(this);return}e.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),(t=ve.eventEmitter)===null||t===void 0||t.emit("didDestroy"),iz(this)}const iz=t=>{Dk(t),delete t.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},Dk=t=>{t.isAwaitingPromise?(eg(et,t),t.isAwaitingPromise=!0):(eg(el,t),eg(et,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},eg=(t,e)=>{for(const n in t)t[n].delete(e)};var oz=Object.freeze({__proto__:null,_destroy:Nk,close:ui,closeModal:ui,closePopup:ui,closeToast:ui,disableButtons:Ek,disableInput:Tk,disableLoading:Xh,enableButtons:xk,enableInput:bk,getInput:vk,handleAwaitingPromise:ku,hideLoading:Xh,rejectPromise:pk,resetValidationMessage:Sk,showValidationMessage:Ik,update:Rk});const az=(t,e,n)=>{t.toast?lz(t,e,n):(uz(e),dz(e),hz(t,e,n))},lz=(t,e,n)=>{e.popup.onclick=()=>{t&&(cz(t)||t.timer||t.input)||n(ml.close)}},cz=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Jh=!1;const uz=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Jh=!0)}}},dz=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Jh=!0)}}},hz=(t,e,n)=>{e.container.onclick=r=>{if(Jh){Jh=!1;return}r.target===e.container&&Lf(t.allowOutsideClick)&&n(ml.backdrop)}},fz=t=>typeof t=="object"&&t.jquery,Db=t=>t instanceof Element||fz(t),pz=t=>{const e={};return typeof t[0]=="object"&&!Db(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const s=t[r];typeof s=="string"||Db(s)?e[n]=s:s!==void 0&&Ro(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof s}`)}),e};function mz(...t){return new this(...t)}function gz(t){class e extends this{_main(r,s){return super._main(r,Object.assign({},t,s))}}return e}const yz=()=>ve.timeout&&ve.timeout.getTimerLeft(),Mk=()=>{if(ve.timeout)return SB(),ve.timeout.stop()},Ok=()=>{if(ve.timeout){const t=ve.timeout.start();return ev(t),t}},vz=()=>{const t=ve.timeout;return t&&(t.running?Mk():Ok())},wz=t=>{if(ve.timeout){const e=ve.timeout.increase(t);return ev(e,!0),e}},_z=()=>!!(ve.timeout&&ve.timeout.isRunning());let Mb=!1;const ry={};function xz(t="data-swal-template"){ry[t]=this,Mb||(document.body.addEventListener("click",Ez),Mb=!0)}const Ez=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in ry){const r=e.getAttribute&&e.getAttribute(n);if(r){ry[n].fire({template:r});return}}};class bz{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...s)=>{this.removeListener(e,r),n.apply(this,s)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(s){console.error(s)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),s=r.indexOf(n);s>-1&&r.splice(s,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ve.eventEmitter=new bz;const Tz=(t,e)=>{ve.eventEmitter&&ve.eventEmitter.on(t,e)},Iz=(t,e)=>{ve.eventEmitter&&ve.eventEmitter.once(t,e)},Sz=(t,e)=>{if(ve.eventEmitter){if(!t){ve.eventEmitter.reset();return}e?ve.eventEmitter.removeListener(t,e):ve.eventEmitter.removeAllListeners(t)}};var kz=Object.freeze({__proto__:null,argsToParams:pz,bindClickHandler:xz,clickCancel:p9,clickConfirm:lk,clickDeny:f9,enableLoading:tl,fire:mz,getActions:Tu,getCancelButton:fl,getCloseButton:Y0,getConfirmButton:Yr,getContainer:xn,getDenyButton:No,getFocusableElements:X0,getFooter:YS,getHtmlContainer:K0,getIcon:hl,getIconContent:wB,getImage:QS,getInputLabel:_B,getLoader:pl,getPopup:We,getProgressSteps:Q0,getTimerLeft:yz,getTimerProgressBar:jf,getTitle:KS,getValidationMessage:Vf,increaseTimer:wz,isDeprecatedParameter:Ak,isLoading:EB,isTimerRunning:_z,isUpdatableParameter:Ck,isValidParameter:kk,isVisible:h9,mixin:gz,off:Sz,on:Tz,once:Iz,resumeTimer:Ok,showLoading:tl,stopTimer:Mk,toggleTimer:vz});class Cz{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Lk=["swal-title","swal-html","swal-footer"],Az=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return Vz(n),Object.assign(Pz(n),Rz(n),Nz(n),Dz(n),Mz(n),Oz(n),Lz(n,Lk))},Pz=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{To(r,["name","value"]);const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(s in di&&typeof di[s]=="boolean"?e[s]=a!=="false":s in di&&typeof di[s]=="object"?e[s]=JSON.parse(a):e[s]=a)}),e},Rz=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const s=r.getAttribute("name"),a=r.getAttribute("value");!s||!a||(e[s]=new Function(`return ${a}`)())}),e},Nz=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{To(r,["type","color","aria-label"]);const s=r.getAttribute("type");if(!(!s||!["confirm","cancel","deny"].includes(s))){if(e[`${s}ButtonText`]=r.innerHTML,e[`show${W0(s)}Button`]=!0,r.hasAttribute("color")){const a=r.getAttribute("color");a!==null&&(e[`${s}ButtonColor`]=a)}if(r.hasAttribute("aria-label")){const a=r.getAttribute("aria-label");a!==null&&(e[`${s}ButtonAriaLabel`]=a)}}}),e},Dz=t=>{const e={},n=t.querySelector("swal-image");return n&&(To(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},Mz=t=>{const e={},n=t.querySelector("swal-icon");return n&&(To(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},Oz=t=>{const e={},n=t.querySelector("swal-input");n&&(To(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(s=>{To(s,["value"]);const a=s.getAttribute("value");if(!a)return;const l=s.innerHTML;e.inputOptions[a]=l})),e},Lz=(t,e)=>{const n={};for(const r in e){const s=e[r],a=t.querySelector(s);a&&(To(a,[]),n[s.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},Vz=t=>{const e=Lk.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||_n(`Unrecognized element <${r}>`)})},To=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&_n([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Vk=10,jz=t=>{var e,n;const r=xn(),s=We();if(!r||!s)return;typeof t.willOpen=="function"&&t.willOpen(s),(e=ve.eventEmitter)===null||e===void 0||e.emit("willOpen",s);const l=window.getComputedStyle(document.body).overflowY;if(Bz(r,s,t),setTimeout(()=>{Fz(r,s)},Vk),J0()&&(Uz(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,l),E9()),!Ff()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const d=t.didOpen;setTimeout(()=>d(s))}(n=ve.eventEmitter)===null||n===void 0||n.emit("didOpen",s)},Zh=t=>{const e=We();if(!e||t.target!==e)return;const n=xn();n&&(e.removeEventListener("animationend",Zh),e.removeEventListener("transitionend",Zh),n.style.overflowY="auto",or(n,Q["no-transition"]))},Fz=(t,e)=>{ZS(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Zh),e.addEventListener("transitionend",Zh)):t.style.overflowY="auto"},Uz=(t,e,n)=>{b9(),e&&n!=="hidden"&&P9(n),setTimeout(()=>{t.scrollTop=0})},Bz=(t,e,n)=>{var r;(r=n.showClass)!==null&&r!==void 0&&r.backdrop&&He(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Bt(e,"grid"),setTimeout(()=>{var s;(s=n.showClass)!==null&&s!==void 0&&s.popup&&He(e,n.showClass.popup),e.style.removeProperty("opacity")},Vk)):Bt(e,"grid"),He([document.documentElement,document.body],Q.shown),n.heightAuto&&n.backdrop&&!n.toast&&He([document.documentElement,document.body],Q["height-auto"])};var Ob={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function zz(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Ob.email),t.input==="url"&&(t.inputValidator=Ob.url))}function $z(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(_n('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Hz(t){zz(t),t.showLoaderOnConfirm&&!t.preConfirm&&_n(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),$z(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),MB(t)}let Fr;var rh=new WeakMap;class wt{constructor(...e){if(dB(this,rh,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;Fr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,hB(rh,this,this._main(Fr.params))}_main(e,n={}){if(Pk(Object.assign({},n,e)),ve.currentInstance){const a=el.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:l}=ve.currentInstance;ve.currentInstance._destroy(),l||a({isDismissed:!0}),J0()&&dk()}ve.currentInstance=Fr;const r=qz(e,n);Hz(r),Object.freeze(r),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const s=Gz(Fr);return ak(Fr,r),et.innerParams.set(Fr,r),Wz(Fr,s,r)}then(e){return Ib(rh,this).then(e)}finally(e){return Ib(rh,this).finally(e)}}const Wz=(t,e,n)=>new Promise((r,s)=>{const a=l=>{t.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};el.swalPromiseResolve.set(t,r),el.swalPromiseReject.set(t,s),e.confirmButton.onclick=()=>{G9(t)},e.denyButton.onclick=()=>{K9(t)},e.cancelButton.onclick=()=>{Q9(t,a)},e.closeButton.onclick=()=>{a(ml.close)},az(n,e,a),m9(ve,n,a),j9(t,n),jz(n),Kz(ve,n,a),Qz(e,n),setTimeout(()=>{e.container.scrollTop=0})}),qz=(t,e)=>{const n=Az(t),r=Object.assign({},di,e,n,t);return r.showClass=Object.assign({},di.showClass,r.showClass),r.hideClass=Object.assign({},di.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Gz=t=>{const e={popup:We(),container:xn(),actions:Tu(),confirmButton:Yr(),denyButton:No(),cancelButton:fl(),loader:pl(),closeButton:Y0(),validationMessage:Vf(),progressSteps:Q0()};return et.domCache.set(t,e),e},Kz=(t,e,n)=>{const r=jf();dn(r),e.timer&&(t.timeout=new Cz(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&r&&(Bt(r),Bn(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ev(e.timer)})))},Qz=(t,e)=>{if(!e.toast){if(!Lf(e.allowEnterKey)){GS("allowEnterKey"),Jz();return}Yz(t)||Xz(t,e)||ny(-1,1)}},Yz=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Rn(n))return n.focus(),!0;return!1},Xz=(t,e)=>e.focusDeny&&Rn(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Rn(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Rn(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Jz=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};wt.prototype.disableButtons=Ek;wt.prototype.enableButtons=xk;wt.prototype.getInput=vk;wt.prototype.disableInput=Tk;wt.prototype.enableInput=bk;wt.prototype.hideLoading=Xh;wt.prototype.disableLoading=Xh;wt.prototype.showValidationMessage=Ik;wt.prototype.resetValidationMessage=Sk;wt.prototype.close=ui;wt.prototype.closePopup=ui;wt.prototype.closeModal=ui;wt.prototype.closeToast=ui;wt.prototype.rejectPromise=pk;wt.prototype.update=Rk;wt.prototype._destroy=Nk;Object.assign(wt,kz);Object.keys(oz).forEach(t=>{wt[t]=function(...e){if(Fr&&Fr[t])return Fr[t](...e)}});wt.DismissReason=ml;wt.version="11.26.17";const Ha=wt;Ha.default=Ha;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Zz=(t,e,n)=>`
    <!DOCTYPE html>
    <html lang="es">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; background-color: #F8FAFC; margin: 0; padding: 0; -webkit-font-smoothing: antialiased; }
        .container { max-width: 600px; margin: 20px auto; background: #ffffff; border-radius: 40px; overflow: hidden; border: 1px solid #E2E8F0; }
        .header { background-color: #007BFF; padding: 40px; text-align: center; }
        .content { padding: 40px; color: #1E293B; }
        h1 { font-size: 24px; font-weight: 900; color: #ffffff; margin: 0; text-transform: uppercase; letter-spacing: -1px; }
        h2 { font-size: 20px; font-weight: 900; color: #0F172A; margin-top: 0; }
        p { color: #64748B; line-height: 1.6; font-size: 15px; }
        .plan-card { background-color: #F1F5F9; border-radius: 24px; padding: 25px; margin: 25px 0; border: 1px solid #E2E8F0; }
        .plan-label { color: #007BFF; font-weight: 900; font-size: 10px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 5px; }
        .plan-title { font-size: 24px; font-weight: 900; color: #0F172A; }
        .button-container { text-align: center; margin-top: 30px; }
        .button { background-color: #007BFF; color: #ffffff !important; padding: 18px 35px; border-radius: 18px; text-decoration: none; font-weight: 900; display: inline-block; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
        .footer { padding: 30px; text-align: center; background-color: #F8FAFC; font-size: 10px; color: #94A3B8; text-transform: uppercase; letter-spacing: 2px; }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1>VitaMetra PRO</h1>
        </div>
        <div class="content">
          <h2>Excelente decisin, ${t}!</h2>
          <p>Tu acceso al nivel de inteligencia metablica avanzada ha sido activado con xito. Ya puedes comenzar a utilizar todas las funciones premium de la plataforma.</p>
          
          <div class="plan-card">
            <div class="plan-label">Suscripcin Activa</div>
            <div class="plan-title">${e}</div>
            <p style="margin: 8px 0 0 0; font-size: 11px; font-weight: bold; color: #94A3B8;">ID DE PAGO: #${n}</p>
          </div>

          <p>Hemos desbloqueado para ti el anlisis ilimitado, la proyeccin de HbA1c y los reportes detallados para tu mdico.</p>
          
          <div class="button-container">
            <a href="https://vitametras.com/analyzer" class="button">Ir al Analizador</a>
          </div>
        </div>
        <div class="footer">
           2026 VitaMetra Health Intelligence  Acceso Seguro
        </div>
      </div>
    </body>
    </html>
  `,e$=[{id:"monthly",title:"Starter",priceCLP:"6.990",rawPrice:6990,features:["30 Anlisis IA / mes","Reportes bsicos","IA Predictiva estndar"],icon:g.jsx(sl,{size:24}),color:"blue"},{id:"quarterly",title:"PRO",priceCLP:"16.990",rawPrice:16990,features:["IA Ilimitada 24/7","Reportes PDF Clnicos","HbA1c Proyectada","Prioridad de Procesamiento"],isPopular:!0,badge:"Mejor Valor",icon:g.jsx(nO,{size:24}),color:"blue"},{id:"annual",title:"GLOBAL",priceCLP:"59.900",rawPrice:59900,features:["Acceso Total Pro","Vnculo Mdico Directo","Dashboard Senior Pro","Soporte 1:1"],icon:g.jsx(SM,{size:24}),badge:"Ahorra 30%",color:"emerald"}],t$=({currentUser:t,onUpdateUser:e})=>{const n=tu(),[r,s]=j.useState(null),[a,l]=j.useState(!1),d=j.useRef(null);return j.useEffect(()=>!r||!window.MercadoPago?void 0:((async()=>{const p=document.getElementById("paymentBrick_container");p&&(p.innerHTML="");const _=new window.MercadoPago("APP_USR-5085620590656834-010519-75f9c2645782ba627abd3c72de22fe8a-3113708019",{locale:"es-CL"}).bricks();try{d.current=await _.create("payment","paymentBrick_container",{initialization:{amount:r.rawPrice,payer:{email:t?.email||""}},customization:{paymentMethods:{creditCard:"all",debitCard:"all",googlePay:"off",applePay:"off"},visual:{style:{theme:"flat",customVariables:{borderRadiusLarge:"32px",colorPrimary:"#2563eb"}}}},callbacks:{onSubmit:async({formData:E})=>{l(!0);try{const T=$S(),C=(await KU(T,"processPayment")({token:E.token,issuer_id:E.issuer_id,payment_method_id:E.payment_method_id,installments:E.installments,planId:r.id})).data;if(C.status==="approved"){try{const z=Zz(t.firstName||"Usuario",r.title,C.id||"N/A");await Df(Ba(Kt,"mail"),{to:t.email,message:{subject:" Acceso Concedido: VitaMetra PRO!",html:z}})}catch{}await Ha.fire({title:"SINCRO EXITOSA!",text:"Tu Bio-Core ha sido actualizado a PRO.",icon:"success",confirmButtonColor:"#2563eb",customClass:{popup:"rounded-[3rem]"}}),e&&e({...t,subscription_tier:"PRO"}),n("/analyzer")}else Ha.fire("Atencin",`Estado: ${C.status}`,"info")}catch{Ha.fire("Error","Problema con la transaccin.","error")}finally{l(!1)}},onError:E=>console.error(E)}})}catch(E){console.error(E)}})(),()=>{d.current&&(d.current.unmount(),d.current=null)}),[r,t,n,e]),g.jsxs("div",{className:"min-h-screen bg-[#FBFBFE] pb-20",children:[g.jsxs("header",{className:"pt-20 pb-12 px-6 text-center",children:[g.jsxs(It.div,{initial:{opacity:0},animate:{opacity:1},className:"inline-flex items-center gap-2 px-4 py-1.5 bg-blue-50 rounded-full mb-6",children:[g.jsx(vi,{size:14,className:"text-blue-600"}),g.jsx("span",{className:"text-[10px] font-black text-blue-700 uppercase tracking-widest",children:"Membresas Elite 2026"})]}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-[1000] text-slate-900 tracking-tighter uppercase italic leading-[0.85] mb-6",children:["Libertad ",g.jsx("br",{}),g.jsx("span",{className:"text-blue-600",children:"Metablica."})]}),g.jsx("p",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-[0.3em]",children:"IA de grado clnico para tu control"})]}),g.jsx("div",{className:"max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8",children:e$.map(f=>g.jsxs(It.div,{whileHover:{y:-10},className:`relative p-10 rounded-[3.5rem] bg-white border transition-all duration-500 ${f.isPopular?"border-blue-600 shadow-2xl shadow-blue-100 ring-4 ring-blue-50":"border-slate-100 shadow-sm"}`,children:[(f.isPopular||f.badge)&&g.jsxs("div",{className:`absolute -top-5 left-1/2 -translate-x-1/2 text-white px-8 py-2 rounded-full flex items-center gap-2 font-black text-[10px] uppercase tracking-widest shadow-xl ${f.color==="emerald"?"bg-emerald-500":"bg-blue-600"}`,children:[f.isPopular?g.jsx(wM,{size:14}):g.jsx(vi,{size:14}),f.badge||"Recomendado"]}),g.jsx("div",{className:`mb-8 w-16 h-16 rounded-2xl flex items-center justify-center ${f.color==="emerald"?"bg-emerald-50 text-emerald-600":"bg-blue-50 text-blue-600"}`,children:f.icon}),g.jsxs("div",{className:"mb-8",children:[g.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:["Vitametra ",f.title]}),g.jsxs("div",{className:"flex items-baseline gap-1",children:[g.jsxs("span",{className:"text-5xl font-[1000] tracking-tighter text-slate-900 italic",children:["$",f.priceCLP]}),g.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase italic",children:["/ ",f.id==="annual"?"ao":f.id==="quarterly"?"tri":"mes"]})]})]}),g.jsx("ul",{className:"space-y-4 mb-12 flex-grow",children:f.features.map((p,y)=>g.jsxs("li",{className:"flex items-start gap-3 text-xs font-bold text-slate-500 leading-tight",children:[g.jsx("div",{className:"mt-0.5 p-0.5 rounded-full bg-blue-50 text-blue-600",children:g.jsx(cM,{size:12,strokeWidth:4})}),p]},y))}),g.jsxs("button",{onClick:()=>s(f),className:`w-full py-6 rounded-[2rem] font-black uppercase tracking-[0.2em] text-[10px] transition-all active:scale-95 flex items-center justify-center gap-3 ${f.color==="emerald"?"bg-slate-900 text-white":"bg-blue-600 text-white shadow-xl shadow-blue-200"}`,children:["Seleccionar ",g.jsx(cf,{size:16})]})]},f.id))}),g.jsx(ff,{children:r&&g.jsxs("div",{className:"fixed inset-0 z-[3000] flex items-end sm:items-center justify-center p-4",children:[g.jsx(It.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-900/60 backdrop-blur-xl",onClick:()=>s(null)}),g.jsxs(It.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"relative w-full max-w-md bg-white rounded-[3.5rem] p-10 shadow-2xl overflow-hidden",children:[a&&g.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center backdrop-blur-sm",children:[g.jsx(Wa,{className:"w-12 h-12 text-blue-600 animate-spin mb-4"}),g.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-[0.2em]",children:"Cifrando Pago Seguro..."})]}),g.jsxs("div",{className:"flex justify-between items-start mb-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1 italic",children:"Vitametra Secure Checkout"}),g.jsx("h2",{className:"text-2xl font-[1000] text-slate-900 uppercase tracking-tighter italic",children:"Finalizar Pago"})]}),g.jsx("button",{onClick:()=>s(null),className:"p-3 bg-slate-50 rounded-2xl text-slate-400 hover:bg-rose-50 hover:text-rose-500 transition-all",children:g.jsx(uu,{size:20,strokeWidth:3})})]}),g.jsxs("div",{className:"bg-slate-50 rounded-3xl p-6 mb-8 border border-slate-100 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-blue-600",children:r.icon}),g.jsx("span",{className:"font-black text-slate-700 uppercase text-xs italic",children:r.title})]}),g.jsxs("span",{className:"font-black text-slate-900 text-lg italic",children:["$",r.priceCLP]})]}),g.jsx("div",{id:"paymentBrick_container",className:"min-h-[350px]"}),g.jsx("div",{className:"mt-8 flex flex-col items-center gap-4 border-t border-slate-50 pt-8",children:g.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[g.jsx(hg,{size:16}),g.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Encriptacin Grado Mdico AES-256"})]})})]})]})})]})};var Lb;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Lb||(Lb={}));var Vb;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Vb||(Vb={}));var jb;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(jb||(jb={}));const Fb=["user","model","function","system"];var Ub;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ub||(Ub={}));var Bb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Bb||(Bb={}));var zb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zb||(zb={}));var $b;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})($b||($b={}));var Nc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Nc||(Nc={}));var Hb;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Hb||(Hb={}));var Wb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Wb||(Wb={}));var qb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qb||(qb={}));class an extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ia extends an{constructor(e,n){super(e),this.response=n}}class jk extends an{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class gi extends an{}class Fk extends an{}const n$="https://generativelanguage.googleapis.com",r$="v1beta",s$="0.24.1",i$="genai-js";var Io;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Io||(Io={}));class o${constructor(e,n,r,s,a){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||r$;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||n$}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function a$(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${i$}/${s$}`),e.join(" ")}async function l$(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",a$(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new gi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,a]of r.entries()){if(s==="x-goog-api-key")throw new gi(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new gi(`Header name ${s} can only be set using the apiClient field`);n.append(s,a)}}return n}async function c$(t,e,n,r,s,a){const l=new o$(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},f$(a)),{method:"POST",headers:await l$(l),body:s})}}async function Cu(t,e,n,r,s,a={},l=fetch){const{url:d,fetchOptions:f}=await c$(t,e,n,r,s,a);return u$(d,f,l)}async function u$(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){d$(s,t)}return r.ok||await h$(r,t),r}function d$(t,e){let n=t;throw n.name==="AbortError"?(n=new Fk(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof jk||t instanceof gi||(n=new an(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function h$(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new jk(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function f$(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function ov(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(t.candidates[0]))throw new Ia(`${ei(t)}`,t);return p$(t)}else if(t.promptFeedback)throw new Ia(`Text not available. ${ei(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(t.candidates[0]))throw new Ia(`${ei(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Gb(t)[0]}else if(t.promptFeedback)throw new Ia(`Function call not available. ${ei(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(t.candidates[0]))throw new Ia(`${ei(t)}`,t);return Gb(t)}else if(t.promptFeedback)throw new Ia(`Function call not available. ${ei(t)}`,t)},t}function p$(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Gb(t){var e,n,r,s;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const m$=[Nc.RECITATION,Nc.SAFETY,Nc.LANGUAGE];function _h(t){return!!t.finishReason&&m$.includes(t.finishReason)}function ei(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];_h(a)&&(s+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(s+=`: ${a.finishMessage}`))}return s}function Xc(t){return this instanceof Xc?(this.v=t,this):new Xc(t)}function g$(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(E){r[E]&&(s[E]=function(T){return new Promise(function(k,N){a.push([E,T,k,N])>1||d(E,T)})})}function d(E,T){try{f(r[E](T))}catch(k){_(a[0][3],k)}}function f(E){E.value instanceof Xc?Promise.resolve(E.value.v).then(p,y):_(a[0][2],E)}function p(E){d("next",E)}function y(E){d("throw",E)}function _(E,T){E(T),a.shift(),a.length&&d(a[0][0],a[0][1])}}const Kb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function y$(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=_$(e),[r,s]=n.tee();return{stream:w$(r),response:v$(s)}}async function v$(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return ov(x$(e));e.push(s)}}function w$(t){return g$(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Xc(n.read());if(s)break;yield yield Xc(ov(r))}})}function _$(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return a();function a(){return e.read().then(({value:l,done:d})=>{if(d){if(s.trim()){r.error(new an("Failed to parse stream"));return}r.close();return}s+=l;let f=s.match(Kb),p;for(;f;){try{p=JSON.parse(f[1])}catch{r.error(new an(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(p),s=s.substring(f[0].length),f=s.match(Kb)}return a()}).catch(l=>{let d=l;throw d.stack=l.stack,d.name==="AbortError"?d=new Fk("Request aborted when reading from the stream"):d=new an("Error reading from the stream"),d})}}})}function x$(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=a.citationMetadata,n.candidates[s].groundingMetadata=a.groundingMetadata,n.candidates[s].finishReason=a.finishReason,n.candidates[s].finishMessage=a.finishMessage,n.candidates[s].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[s].content||(n.candidates[s].content={role:a.content.role||"user",parts:[]});const l={};for(const d of a.content.parts)d.text&&(l.text=d.text),d.functionCall&&(l.functionCall=d.functionCall),d.executableCode&&(l.executableCode=d.executableCode),d.codeExecutionResult&&(l.codeExecutionResult=d.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[s].content.parts.push(l)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function Uk(t,e,n,r){const s=await Cu(e,Io.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return y$(s)}async function Bk(t,e,n,r){const a=await(await Cu(e,Io.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:ov(a)}}function zk(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Jc(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return E$(e)}function E$(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),s=!0):(e.parts.push(a),r=!0);if(r&&s)throw new an("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new an("No content is provided for sending chat message.");return r?e:n}function b$(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new gi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=Jc(t);r.contents=[a]}return{generateContentRequest:r}}function Qb(t){let e;return t.contents?e=t:e={contents:[Jc(t)]},t.systemInstruction&&(e.systemInstruction=zk(t.systemInstruction)),e}function T$(t){return typeof t=="string"||Array.isArray(t)?{content:Jc(t)}:t}const Yb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],I$={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function S$(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new an(`First content should be with role 'user', got ${r}`);if(!Fb.includes(r))throw new an(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Fb)}`);if(!Array.isArray(s))throw new an("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new an("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of s)for(const f of Yb)f in d&&(a[f]+=1);const l=I$[r];for(const d of Yb)if(!l.includes(d)&&a[d]>0)throw new an(`Content with role '${r}' can't contain '${d}' part`);e=!0}}function Xb(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const Jb="SILENT_ERROR";class k${constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(S$(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,a,l,d,f;await this._sendPromise;const p=Jc(e),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},_=Object.assign(Object.assign({},this._requestOptions),n);let E;return this._sendPromise=this._sendPromise.then(()=>Bk(this._apiKey,this.model,y,_)).then(T=>{var k;if(Xb(T.response)){this._history.push(p);const N=Object.assign({parts:[],role:"model"},(k=T.response.candidates)===null||k===void 0?void 0:k[0].content);this._history.push(N)}else{const N=ei(T.response);N&&console.warn(`sendMessage() was unsuccessful. ${N}. Inspect response object for details.`)}E=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,E}async sendMessageStream(e,n={}){var r,s,a,l,d,f;await this._sendPromise;const p=Jc(e),y={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},_=Object.assign(Object.assign({},this._requestOptions),n),E=Uk(this._apiKey,this.model,y,_);return this._sendPromise=this._sendPromise.then(()=>E).catch(T=>{throw new Error(Jb)}).then(T=>T.response).then(T=>{if(Xb(T)){this._history.push(p);const k=Object.assign({},T.candidates[0].content);k.role||(k.role="model"),this._history.push(k)}else{const k=ei(T);k&&console.warn(`sendMessageStream() was unsuccessful. ${k}. Inspect response object for details.`)}}).catch(T=>{T.message!==Jb&&console.error(T)}),E}}async function C$(t,e,n,r){return(await Cu(e,Io.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function A$(t,e,n,r){return(await Cu(e,Io.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function P$(t,e,n,r){const s=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Cu(e,Io.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}class Zb{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=zk(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=Qb(e),a=Object.assign(Object.assign({},this._requestOptions),n);return Bk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}async generateContentStream(e,n={}){var r;const s=Qb(e),a=Object.assign(Object.assign({},this._requestOptions),n);return Uk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),a)}startChat(e){var n;return new k$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=b$(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return C$(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=T$(e),s=Object.assign(Object.assign({},this._requestOptions),n);return A$(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return P$(this.apiKey,this.model,e,r)}}class R${constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new an("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Zb(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new gi("Cached content must contain a `name` field.");if(!e.model)throw new gi("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const l of s)if(n?.[l]&&e[l]&&n?.[l]!==e[l]){if(l==="model"){const d=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===f)continue}throw new gi(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Zb(this.apiKey,a,r)}}const N$="AIzaSyBroRv-_4DoV-LnAmeuvFVy4au4x4yAWBI",D$=new R$(N$),$k=async(t,e)=>{try{const n=D$.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),r=e?.clinicalConfig?`Contexto: Glucosa objetivo ${e.clinicalConfig.targetGlucose} mg/dL.`:"",s=`Analiza: "${t}". ${r} Responde en JSON con campos: items (food, totalCarbs, category), totalCarbs (nmero), glycemicIndex (Bajo/Medio/Alto), glycemicLoad, optimizationTip, aiContextualNote.`,f=(await(await n.generateContent(s)).response).text().replace(/```json|```/g,"").trim(),p=JSON.parse(f);return{items:p.items||[],totalCarbs:p.totalCarbs||0,glycemicIndex:p.glycemicIndex||"Medio",glycemicLoad:p.glycemicLoad||0,optimizationTip:p.optimizationTip||"Registro listo.",aiContextualNote:p.aiContextualNote||"Anlisis completado."}}catch{return{items:[],totalCarbs:0,glycemicIndex:"Medio",glycemicLoad:0,optimizationTip:"Reintenta el anlisis.",aiContextualNote:"Error de conexin."}}},M$="v4.6-2026",O$={async findHistoricalImpact(t,e){const n=(t||"").toLowerCase().trim();if(!n||!Array.isArray(e)||e.length===0)return{trendMsg:"",adjustment:0};const r=n.split(/\s+/).filter(a=>a.length>3);return e.filter(a=>{const l=(a?.userInput||"").toLowerCase();return r.some(d=>l.includes(d))}).slice(0,5).length===0?{trendMsg:"Nuevo patrn detectado.",adjustment:0}:{trendMsg:"Patrn reconocido.",adjustment:0}},async processMetabolicInference(t,e,n,r=100){const s=performance.now();try{const a=await $k(t,n),{trendMsg:l}=await this.findHistoricalImpact(t,e),d={...a,aiContextualNote:l,optimizationTip:a.optimizationTip||"Procesa con normalidad."};return this.logInferencePerformance(t,d,s),d}catch(a){throw console.error("MetraCore Error:",a),new Error("Fallo en la inferencia.")}},async analyzeMeal(t,e){return await this.processMetabolicInference(t,[],e)},async logInferencePerformance(t,e,n){try{await Df(Ba(Kt,"anonymous_training_logs"),{algo:M$,input_len:t.length,carbs:e.totalCarbs,ms:Math.round(performance.now()-n),timestamp:j0()})}catch{}}},L$=({currentUser:t,onAnalysisComplete:e})=>{const[n,r]=j.useState(""),[s,a]=j.useState(!1),l=async d=>{if(d.preventDefault(),!(!n.trim()||s)){a(!0);try{const f=await O$.analyzeMeal(n,t),p={id:Date.now().toString(),userId:t.id,date:new Date().toISOString(),createdAt:new Date,mealType:"almuerzo",userInput:n,totalCarbs:f.totalCarbs,bloodGlucoseValue:0,finalInsulinUnits:0,isCalibrated:!1};e(f,p),r("")}catch(f){console.error("Error:",f),alert("Error al analizar la comida.")}finally{a(!1)}}};return g.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 shadow-xl border border-slate-100",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"bg-blue-50 p-3 rounded-2xl text-blue-600",children:g.jsx(tM,{size:24})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase italic",children:"Analizador"}),g.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Vitametra AI"})]})]}),g.jsxs("form",{onSubmit:l,className:"space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{value:n,onChange:d=>r(d.target.value),placeholder:"Qu vas a comer?",className:"w-full h-32 p-6 bg-slate-50 border-none rounded-[2rem] font-bold text-sm text-slate-900 placeholder:text-slate-300 outline-none focus:ring-4 focus:ring-blue-100 transition-all resize-none"}),g.jsx("button",{type:"button",className:"absolute bottom-4 right-4 p-3 bg-white text-slate-400 rounded-xl shadow-sm hover:text-blue-600 transition-colors",children:g.jsx(uT,{size:20})})]}),g.jsx("button",{type:"submit",disabled:!n.trim()||s,className:"w-full bg-slate-900 text-white p-6 rounded-[2rem] font-bold text-sm shadow-2xl flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30 transition-all",children:s?g.jsxs(g.Fragment,{children:[g.jsx(Wa,{className:"animate-spin",size:18})," Analizando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(vi,{size:18,className:"text-blue-400"})," Calcular dosis"]})})]})]})},V$=({result:t,currentUser:e,onLogEntry:n,onAdjust:r})=>{const[s,a]=j.useState(0),[l,d]=j.useState(0),f=()=>{if(!e?.insulinRatioSchedule||e.insulinRatioSchedule.length===0)return 15;const y=new Date,_=`${y.getHours().toString().padStart(2,"0")}:${y.getMinutes().toString().padStart(2,"0")}`,E=[...e.insulinRatioSchedule].sort((k,N)=>k.startTime.localeCompare(N.startTime));return(E.reverse().find(k=>_>=k.startTime)||E[0]).ratio};j.useEffect(()=>{const y=f(),_=e?.clinicalConfig?.insulinSensitivityFactor||50,E=e?.clinicalConfig?.targetGlucose||100,T=t.totalCarbs/y,k=s>E?(s-E)/_:0;d(Math.round((T+k)*10)/10)},[s,t.totalCarbs,e]);const p=y=>{switch(y?.toLowerCase()){case"alto":return"text-red-500 bg-red-50 border-red-100";case"medio":return"text-amber-500 bg-amber-50 border-amber-100";default:return"text-emerald-500 bg-emerald-50 border-emerald-100"}};return g.jsxs("div",{className:"mt-8 space-y-6 animate-fade-in max-w-2xl mx-auto pb-20",children:[g.jsxs("div",{className:"bg-white rounded-[3rem] border border-slate-100 p-8 shadow-2xl relative overflow-hidden",children:[g.jsxs("div",{className:`absolute top-0 right-0 px-6 py-2 rounded-bl-3xl border-l border-b font-bold text-[10px] uppercase tracking-widest ${p(t.glycemicIndex)}`,children:["IG: ",t.glycemicIndex]}),g.jsxs("div",{className:"mt-4",children:[g.jsx("div",{className:"flex items-center gap-2 mb-2",children:g.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Carbohidratos totales"})}),g.jsxs("h3",{className:"text-7xl font-black text-slate-900 tracking-tighter",children:[t.totalCarbs,g.jsx("span",{className:"text-xl text-slate-300 font-bold ml-2",children:"g"})]})]})]}),g.jsxs("div",{className:"bg-blue-600 rounded-[2.5rem] p-8 text-white shadow-xl shadow-blue-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(sM,{size:20}),g.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest",children:"Bolo sugerido"})]}),g.jsxs("div",{className:"text-[10px] font-medium bg-white/10 px-3 py-1 rounded-full",children:["Ratio: 1u / ",f(),"g"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-200 block mb-2",children:"Glucosa actual"}),g.jsx("input",{type:"number",placeholder:"mg/dL",value:s||"",onChange:y=>a(Number(y.target.value)),className:"bg-white/10 border border-white/20 rounded-2xl px-4 py-3 text-2xl font-black text-white w-full outline-none focus:ring-2 ring-white/50 placeholder:text-blue-300"})]}),g.jsxs("div",{className:"bg-white/10 rounded-3xl p-6 text-center border border-white/10",children:[g.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-200 mb-1",children:"Dosis total"}),g.jsxs("div",{className:"text-5xl font-black text-white",children:[l," ",g.jsx("span",{className:"text-lg font-bold",children:"u"})]})]})]}),g.jsxs("div",{className:"mt-6 flex items-start gap-2 text-[10px] text-blue-100 leading-relaxed font-medium",children:[g.jsx(dT,{size:14,className:"shrink-0"}),"Sugerencia basada en tus ratios. Verifica siempre con tus sntomas."]})]}),g.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white",children:[g.jsx("div",{className:"flex items-center gap-3 mb-4",children:g.jsx("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-400",children:"Recomendacin"})}),g.jsxs("p",{className:"text-lg font-medium italic",children:['"',t.optimizationTip||"Carga glicmica moderada.",'"']})]}),g.jsxs("div",{className:"flex gap-4 pt-4",children:[g.jsx("button",{onClick:n,className:"flex-1 bg-slate-900 text-white py-5 rounded-3xl font-bold text-sm shadow-xl",children:"Guardar"}),g.jsx("button",{onClick:r,className:"bg-slate-100 text-slate-500 px-8 rounded-3xl font-bold text-sm",children:"Ajustar"})]})]})},j$=({currentUser:t})=>{const e=tu(),[n,r]=j.useState(!1),[s,a]=j.useState(""),[l,d]=j.useState([{id:"1",role:"assistant",content:"Bio-Core activo. Analizamos tu ltima ingesta?",type:"text"}]),f=j.useRef(null);j.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[l,n]);const p=y=>{if(y.preventDefault(),!s.trim())return;const _={id:Date.now().toString(),role:"user",content:s};d(E=>[...E,_]),a(""),setTimeout(()=>{const E={id:(Date.now()+1).toString(),role:"assistant",content:s.toLowerCase().includes("pro")?"Vitametra PRO desbloquea anlisis molecular avanzado.":"Sugerencia: Ingiere fibra antes de esos carbohidratos.",type:s.toLowerCase().includes("pro")?"cta":"text"};d(T=>[...T,E])},800)};return g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>r(!0),className:`fixed bottom-24 right-6 w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 z-[999] active:scale-90 ${n?"scale-0 opacity-0":"bg-metra-blue shadow-[0_0_30px_rgba(0,122,255,0.4)] hover:shadow-metra-blue/60"}`,children:[g.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white animate-ping opacity-20"}),g.jsx(sl,{className:"text-white fill-white",size:24})]}),n&&g.jsxs("div",{className:"fixed bottom-0 right-0 md:bottom-28 md:right-6 w-full md:w-[400px] h-[100dvh] md:h-[600px] bg-white/90 backdrop-blur-2xl md:rounded-[3rem] shadow-2xl flex flex-col z-[1000] border border-white/20 animate-in slide-in-from-right-10 duration-500",children:[g.jsxs("header",{className:"bg-metra-dark p-8 text-white flex justify-between items-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-metra-blue/10 animate-pulse"}),g.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[g.jsx("div",{className:"w-10 h-10 bg-metra-blue rounded-2xl flex items-center justify-center shadow-lg shadow-metra-blue/20",children:g.jsx(vi,{size:20,className:"text-white"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[9px] font-black text-metra-blue uppercase tracking-widest",children:"Neural Link"}),g.jsx("h3",{className:"text-xl font-black italic tracking-tighter uppercase",children:"Bio-Assistant"})]})]}),g.jsx("button",{onClick:()=>r(!1),className:"bg-white/10 p-3 rounded-2xl relative z-10 hover:bg-white/20",children:g.jsx(uu,{size:20})})]}),g.jsx("div",{ref:f,className:"flex-1 overflow-y-auto p-6 space-y-6",children:l.map(y=>g.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[85%] p-5 rounded-3xl text-sm font-bold ${y.role==="user"?"bg-metra-blue text-white rounded-tr-none":"bg-slate-100 text-metra-dark rounded-tl-none"}`,children:[y.content,y.type==="cta"&&g.jsxs("button",{onClick:()=>e("/plans"),className:"mt-4 w-full bg-metra-dark text-white py-4 rounded-2xl flex items-center justify-center gap-2 font-black text-[10px] uppercase tracking-widest",children:[g.jsx(yM,{size:14})," Desbloquear PRO ",g.jsx(cf,{size:14})]})]})},y.id))}),g.jsx("div",{className:"p-6 bg-white border-t border-slate-50",children:g.jsxs("form",{onSubmit:p,className:"relative",children:[g.jsx("input",{value:s,onChange:y=>a(y.target.value),placeholder:"Consulta al Bio-Core...",className:"w-full bg-slate-50 border-none rounded-2xl py-5 pl-6 pr-16 text-xs font-black uppercase tracking-widest outline-none focus:ring-2 ring-metra-blue/10"}),g.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-metra-dark text-white p-3 rounded-xl shadow-lg",children:g.jsx(qM,{size:18})})]})})]})]})},F$=({currentUser:t,onUpdate:e})=>{const[n,r]=j.useState(t.insulinRatioSchedule||[{startTime:"08:00",ratio:12}]),[s,a]=j.useState(t.clinicalConfig?.insulinSensitivityFactor||50),[l,d]=j.useState(!1),[f,p]=j.useState(!1),y=async()=>{d(!0);try{const T={...t,insulinRatioSchedule:n,clinicalConfig:{...t.clinicalConfig,insulinSensitivityFactor:s}};await yn.updateUser(T),e(T),p(!0),setTimeout(()=>p(!1),3e3)}catch(T){console.error("Error en calibracin de parmetros clnicos:",T)}finally{d(!1)}},_=()=>{r([...n,{startTime:"12:00",ratio:10}])},E=T=>{r(n.filter((k,N)=>N!==T))};return g.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-[2.5rem] border border-slate-100 shadow-xl mb-10",children:[g.jsxs("header",{className:"mb-10 border-b border-slate-50 pb-6 text-left",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center text-blue-600",children:g.jsx(cu,{size:22})}),g.jsx("h2",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Parmetros de Calibracin"})]}),g.jsx("p",{className:"text-slate-500 text-sm font-medium leading-relaxed",children:"Gestin tcnica de factores de sensibilidad y ratios de correccin para el clculo de bolos de insulina segn algoritmos metablicos."})]}),g.jsxs("section",{className:"mb-10",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h3",{className:"text-[11px] font-black uppercase tracking-[0.15em] text-slate-400 flex items-center gap-2",children:[g.jsx(xy,{size:14})," Horarios de Ratio Insulina:Carbohidratos (I:C)"]}),g.jsxs("button",{onClick:_,className:"text-xs font-bold text-blue-600 hover:bg-blue-50 px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1",children:[g.jsx(mT,{size:14})," Aadir Segmento"]})]}),g.jsx("div",{className:"space-y-3",children:n.map((T,k)=>g.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-100 transition-all hover:border-slate-200",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Inicio bloque"}),g.jsx("input",{type:"time",value:T.startTime,onChange:N=>{const C=[...n];C[k].startTime=N.target.value,r(C)},className:"bg-transparent font-bold text-slate-700 outline-none w-full"})]}),g.jsxs("div",{className:"flex-1 border-l border-slate-200 pl-4",children:[g.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Ratio (g/U)"}),g.jsx("input",{type:"number",value:T.ratio,onChange:N=>{const C=[...n];C[k].ratio=parseFloat(N.target.value),r(C)},className:"bg-transparent font-bold text-slate-700 outline-none w-full"})]}),g.jsx("button",{onClick:()=>E(k),className:"text-slate-300 hover:text-red-500 transition-colors p-2",children:g.jsx(iO,{size:18})})]},k))})]}),g.jsxs("section",{className:"mb-10 p-6 bg-slate-900 rounded-3xl text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 text-white",children:g.jsx(RM,{size:80})}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("h3",{className:"text-sm font-bold mb-1",children:"Factor de Sensibilidad a la Insulina (ISF)"}),g.jsx("p",{className:"text-xs text-slate-400 font-medium mb-6",children:"Defina la reduccin esperada de glucemia (mg/dL) por cada 1 unidad de insulina de accin rpida."}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("input",{type:"number",value:s,onChange:T=>a(parseFloat(T.target.value)),className:"bg-white/10 border border-white/20 rounded-2xl px-6 py-4 text-3xl font-black text-white w-32 outline-none focus:ring-2 ring-blue-500"}),g.jsxs("div",{children:[g.jsx("span",{className:"block text-lg font-bold",children:"mg/dL"}),g.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-widest",children:"por 1 UI"})]})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between pt-6 border-t border-slate-50 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-400 bg-slate-50 px-4 py-2 rounded-full",children:[g.jsx(YM,{size:14,className:"text-amber-500"}),g.jsx("span",{className:"text-[9px] font-bold uppercase tracking-tight",children:"Requiere supervisin facultativa mdica"})]}),g.jsx("button",{onClick:y,disabled:l,className:"w-full sm:w-auto bg-blue-600 text-white px-8 py-4 rounded-2xl font-bold text-sm flex items-center justify-center gap-2 hover:bg-slate-900 transition-all active:scale-95 disabled:opacity-50 shadow-lg shadow-blue-200",children:l?"Sincronizando...":g.jsxs(g.Fragment,{children:[g.jsx(Ey,{size:18})," Aplicar Cambios Clnicos"]})})]}),g.jsx(ff,{children:f&&g.jsxs(It.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mt-4 flex items-center justify-center gap-2 text-green-600 font-bold text-xs",children:[g.jsx(_y,{size:16})," Parmetros actualizados en el expediente digital."]})})]})},U$=()=>{const t=tu(),e=nf(),[n,r]=j.useState(!1),[s,a]=j.useState(null),[l,d]=j.useState(!0),[f,p]=j.useState({login:!1,chat:!1}),[y,_]=j.useState({message:"",key:0}),[E,T]=j.useState({input:"",isLoading:!1,result:null,error:null}),[k,N]=j.useState({history:[],hba1c:[]}),C=F=>_({message:F,key:Date.now()}),z=j.useCallback(F=>{r(!0),a(F),e.pathname==="/"&&t("/dashboard")},[e.pathname,t]);j.useEffect(()=>{const F=AN(Rc,async Y=>{try{if(Y){const te=await yn.getUserProfile(Y.uid);te&&z(te)}else r(!1),a(null)}catch(te){console.error(te)}finally{d(!1)}});return()=>F()},[z]),j.useEffect(()=>{if(n&&s?.id){const F=yn.subscribeToHistory(s.id,te=>N(ae=>({...ae,history:te}))),Y=yn.subscribeToHba1cHistory(s.id,te=>N(ae=>({...ae,hba1c:te})));return()=>{F(),Y()}}},[n,s?.id]);const G=async()=>{if(!(!E.input||!s)){T(F=>({...F,isLoading:!0,error:null}));try{await yn.checkAnalysisLimit(s.id);const F=await $k(E.input,s);T(Y=>({...Y,result:F})),F&&(await XU(s.id,"CARBS",F.totalCarbs,{source:"MENTE_IA"}),C("Registro guardado"))}catch(F){T(Y=>({...Y,error:F.message})),C(F.message)}finally{T(F=>({...F,isLoading:!1}))}}};return l?g.jsx("div",{className:"min-h-screen flex items-center justify-center font-bold text-slate-400",children:"VITAMETRA SINC..."}):g.jsxs("div",{className:"min-h-screen bg-[#F8FAFC]",children:[n&&s&&g.jsx(ZU,{}),g.jsx(vO,{isLoggedIn:n,onLoginClick:()=>p(F=>({...F,login:!0})),onLogoutClick:()=>yn.logout(),currentUser:s}),g.jsx("main",{className:"container mx-auto px-4 pt-20 pb-32",children:g.jsxs(KA,{children:[g.jsx(ms,{path:"/",element:g.jsx(Tb,{currentUser:s,onStartClick:()=>p(F=>({...F,login:!0})),history:k.history})}),g.jsx(ms,{path:"/dashboard",element:n&&s?g.jsx(Tb,{currentUser:s,history:k.history,onStartClick:()=>t("/analyzer")}):g.jsx(Wd,{to:"/"})}),g.jsx(ms,{path:"/analyzer",element:g.jsx("div",{className:"max-w-4xl mx-auto pt-10",children:E.result?g.jsx(V$,{result:E.result,currentUser:s,onLogEntry:()=>{C("Registro guardado"),T(F=>({...F,result:null,input:""})),t("/history")},onAdjust:()=>T(F=>({...F,result:null})),onLoginRequest:()=>p(F=>({...F,login:!0})),verifiedFoods:[],onFoodItemVerified:()=>{},onDeleteItem:()=>{}}):g.jsx(L$,{foodInput:E.input,setFoodInput:F=>T(Y=>({...Y,input:F})),onSubmit:G,isLoading:E.isLoading})})}),g.jsx(ms,{path:"/history",element:n&&s?g.jsx(tB,{currentUser:s,history:k.history,hba1cHistory:k.hba1c,onDelete:F=>{yn.deleteHistoryEntry(F),C("Registro eliminado")},onUpdate:()=>{},onSaveHba1c:()=>{},onUpdateHba1c:()=>{},onDeleteHba1c:()=>{},onUpdateLayout:()=>{},onNavigateToAnalyzer:()=>t("/analyzer")}):g.jsx(Wd,{to:"/"})}),g.jsx(ms,{path:"/profile",element:n&&s?g.jsx(aB,{currentUser:s,onUpdateUser:F=>{a(F),C("Perfil actualizado.")}}):g.jsx(Wd,{to:"/"})}),g.jsx(ms,{path:"/clinical-settings",element:n&&s?g.jsx(F$,{currentUser:s,onUpdate:F=>{a(F),C("Configuracin actualizada.")}}):g.jsx(Wd,{to:"/"})}),g.jsx(ms,{path:"/plans",element:g.jsx(t$,{currentUser:s,onUpdateUser:F=>a(F)})}),g.jsx(ms,{path:"/register",element:g.jsx(cB,{onLoginSuccess:z})})]})}),n&&g.jsx(h4,{activeTab:e.pathname.substring(1)||"dashboard",onTabChange:F=>t(`/${F}`)}),g.jsx(j$,{}),g.jsx(f4,{message:y.message,snackbarKey:y.key}),f.login&&g.jsx(JU,{isOpen:f.login,onClose:()=>p(F=>({...F,login:!1})),onLoginSuccess:z})]})};console.log(" VitaMetra Core: Iniciando sistemas biomtricos...");const e1=document.getElementById("root");e1?rA.createRoot(e1).render(g.jsx(ef.StrictMode,{children:g.jsx(XA,{children:g.jsx(U$,{})})})):console.error("CRTICO: El contenedor #root no existe en el DOM.");
